2011-02-02	Ralf Corsépius <ralf.corsepius@rtems.org>

	* configure.ac: Require autoconf-2.68, automake-1.11.1.

2011-02-01	Ralf Corsepius <ralf.corsepius@rtems.org>

	* libmisc/stringto/stringtounsignedchar.c, 
	libmisc/stringto/stringtounsignedint.c: Reformat range check.
	* libmisc/Makefile.am: Add stringto/stringtolongdouble.c.
	* libmisc/stringto/stringtolongdouble.c: New.
	* libmisc/stringto/stringto.h: Rename header-guard.
	Add rtems_string_to_long_double.
	* libmisc/stringto/stringtoint.c: Reformat range check.
	Add check for result==0.
	* libmisc/stringto/stringtofloat.c: Reformat range check.
	Add check for result = -HUGE_VALF.
	* libmisc/stringto/stringtodouble.c: Reformat range check.
	Add check for result = -HUGE_VAL.
	* libmisc/stringto/stringtolonglong.c: Reformat range check.
	c99 portability improvements. Add check for result==0.
	* libmisc/stringto/stringtounsignedlonglong.c: Reformat range check.
	c99 portability improvements.
	* libmisc/stringto/stringtounsignedlong.c: Reformat range check.
	* libmisc/stringto/stringtolong.c:  Reformat range check.
	Add check for result==0.

2011-02-01	Ralf Corsepius <ralf.corsepius@rtems.org>
	
	* libmisc/Makefile.am: Remove stringto/stringto_template.h.
	* libmisc/stringto/stringto_template.h: Remove.

	* libmisc/stringto/stringtodouble.c,
	libmisc/stringto/stringtofloat.c: Rework.

	* libmisc/stringto/stringtolong.c,
	libmisc/stringto/stringtolonglong.c,
	libmisc/stringto/stringtounsignedlong.c,
	libmisc/stringto/stringtounsignedlonglong.c:
	Rework.

2011-01-21	Eric Norum <wenorum@lbl.gov>

	* libmisc/capture/capture.c: Avoid using TCB of task just deleted.

2011-01-21	Joel Sherrill <joel.sherrilL@OARcorp.com>

	* posix/src/psignal.c: Back port patch from head to avoid derefencing
	NULL.

2011-01-19	Joel Sherrill <joel.sherrilL@OARcorp.com>

	* sapi/include/confdefs.h: Account for POSIX threads having a minimum
	of 2x the minimum stack size.

2010-11-16	Joel Sherrill <joel.sherrilL@OARcorp.com>

	PR 1717/cpukit
	* libcsupport/src/gxx_wrappers.c: Free memory on error.

2010-10-19      Chris Johns <chrisj@rtems.org>

	* libfs/src/rfs/rtems-rfs-rtems-file.c: Add missing unlock in
	write. Return the error code in close.

2010-10-11      Chris Johns <chrisj@rtems.org>

	* libfs/src/rfs/rtems-rfs-trace.c,
	libfs/src/rfs/rtems-rfs-trace.h: Add inode-delete.
	* libfs/src/rfs/rtems-rfs-shell.c: Fix formatting.
	* libfs/src/rfs/rtems-rfs-rtems-dir.c: Use ssize_t. Fix
	spelling.
	* libfs/src/rfs/rtems-rfs-block.c: Fix
	rtems_rfs_block_get_bpos to
	return the position correctly. A bpos does not have any
	special
	processing. Do no reset the buffer handle when shrinking
	indirectly.
	* libfs/src/rfs/rtems-rfs-inode.c: Add trace.
	* libfs/src/rfs/rtems-rfs-format.c: Fix comments.
	* libfs/src/rfs/rtems-rfs-group.c: Limit the inodes to the
	blocks
	in a group so the accounting works.
	* libfs/src/rfs/rtems-rfs-dir.c: PR 1705. Fix handling the
	offsets
	when deleting an entry.
	* libfs/src/rfs/rtems-rfs-buffer.h: Remove
	rtems_rfs_buffer_handle_reset. It is not needed and dangerous.
	* cpukit/libmisc/untar/untar.c: Merge 4.11 pax fix. This fix also
	supports MacOS's tar.
	
2010-09-29	Ralf Corsépius <ralf.corsepius@rtems.org>

	* automake/compile.am: Remove non release-suitable warning flags.
	* aclocal/prog-cc.m4: Remove non release-suitable warning flags.

2010-09-01	Ralf Corsépius <ralf.corsepius@rtems.org>

	PR 1696/networking:
	* libnetworking/arpa/inet.h: Partial update from FreeBSD.
	#include <rtems/endian.h>.
	Remove addr2ascii, ascii2addr.

2010-09-01	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/libc/addr2ascii.c,
	libnetworking/libc/ascii2addr.c,
	libnetworking/libc/addr2ascii.3: Remove.
	* libnetworking/Makefile.am: Reflect changes above.

2010-08-27	Joel Sherrill <joel.sherrilL@OARcorp.com>

	PR 1693/filesystem
	* libfs/src/imfs/memfile.c: IMFS_memfile_get_block_pointer() was
	checking incorrect pointer and thus had dead code.

2010-08-27	Joel Sherrill <joel.sherrilL@OARcorp.com>

	PR 1692/filesystem
	* libcsupport/include/rtems/libio.h, libfs/src/devfs/devfs_eval.c,
	libfs/src/imfs/imfs_eval.c: Fix implementation and use of
	rtems_libio_is_valid_perms().

2010-08-26      Chris Johns <chrisj@rtems.org>

        * libfs/src/rfs/rtems-rfs-file.c: Check then load the inode is not
        present on the close.

        * libfs/src/rfs/rtems-rfs-format.c: Initialise the buffer chain.

2010-08-11	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* sapi/include/confdefs.h: Include <rtems.h> to resolve all
	dependencies.

2010-08-11	Sebastian Huber <sebastian.huber@embedded-brains.de>

	PR 1667/cpukit
	* libnetworking/rtems/mkrootfs.c: Include <rtems/libio.h>.

2010-08-09	Sebastian Huber <sebastian.huber@embedded-brains.de>

	PR 1615/cpukit
	* posix/src/keyrundestructors.c: Improved POSIX compliance.  Now we may
	have an unlimited number of iterations.

2010-08-09	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* sapi/inline/rtems/chain.inl: Added
	rtems_chain_extract_unprotected().

2010-08-09	Ralf Corsépius <ralf.corsepius@rtems.org>

	* posix/include/aio.h, posix/src/aio_return.c:
	Let aio_return return ssize_t (Mandated by POSIX).

2010-07-01	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libcsupport/include/rtems/libio_.h: Removed
	rtems_filesystem_mount_table_control.
	* libcsupport/include/rtems/libio.h, libcsupport/src/mount-mgr.c,
	libcsupport/src/mount.c libcsupport/src/statvfs.c,
	libcsupport/src/unmount.c, libmisc/shell/main_mount.c: Documentation.
	Removed rtems_filesystem_mounts_first() and
	rtems_filesystem_mounts_next().  Added
	rtems_filesystem_mount_iterate().  Changed return type of
	rtems_filesystem_iterate().  Removed rtems_filesystem_nodes_equal().

2010-07-01	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libfs/src/nfsclient/src/nfs.c, libfs/src/nfsclient/src/nfs.c,
	libfs/src/nfsclient/src/librtemsNfs.h: Renamed
	rtems_nfsfs_initialize() in rtems_nfs_initialize().
	* sapi/include/confdefs.h: Reflect changes above.  Renamed
	*_miniIMFS in *_MINIIMFS.  Renamed *_NFSFS in *_NFS.

2010-06-29	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libnetworking/lib/tftpDriver.c: rtems_tftp_ops and
	rtems_tftp_handlers are now const and static.
	* libnetworking/rtems/tftp.h: Removed
	rtems_bsdnet_initialize_tftp_filesystem and rtems_tftp_ops.

2010-06-24	Bharath Suri <bharath.s.jois@gmail.com>

	PR 1542/filesystem
	PR 1585/filesystem
	* libfs/src/pipe/fifo.c: pipe_control_t was not deallocated if
	fifo_open() was attempted with (O_WRONLY|O_NONBLOCK).
	Mutex was locked too many times on this path and we needed an unlock.

2010-06-24	Joel Sherrill <joel.sherrilL@OARcorp.com>

	PR 1587/filesystem
	Coverity Id 35
	* libfs/src/rfs/rtems-rfs-shell.c: Address possible NULL dereference.

2010-06-23      Chris Johns <chrisj@rtems.org>

	PR 1577/filesystem
	* libfs/src/pipe/fifo.c: Fixed the error codes returned on
	open.

2010-06-23	Chris Johns <chrisj@rtems.org>

	* rtems/Makefile.am: Remove the stray 'c' file.

2010-06-22	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libcsupport/src/mount.c: Fixed string assignment in mount entry
	allocation.

2010-06-21	Joel Sherrill <joel.sherrilL@OARcorp.com>

	PR 1581/cpukit
	* libcsupport/include/rtems/malloc.h, sapi/include/confdefs.h: Remove
	extra * on function pointer declaration.

2010-06-21	Peter Dufault <dufault@hda.com>

	PR 1570/cpukit
	* posix/src/semtimedwait.c: This routine is supposed to return -1/errno
	NOT the status directly.

2010-06-21	Joel Sherrill <joel.sherrilL@OARcorp.com>

	PR 1554/cpukit
	Coverity Id 17
	* libi2c/libi2c.c: Fix memory leak on error.

2010-06-21	Joel Sherrill <joel.sherrilL@OARcorp.com>

	PR 1559/misc
	Coverity Id 16
	* libmisc/monitor/mon-editor.c: Fix buffer overflow.

2010-06-18	Ralf Corsépius <ralf.corsepius@rtems.org>

	* rtems/include/rtems/rtems/object.h,
	rtems/src/rtemsobjectidapimaximum.c:
	Let rtems_object_id_api_maximum() return OBJECTS_APIS_LAST.

2010-06-18	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/rtems/mkrootfs.h: doxygen cosmetics.
	* libnetworking/netinet/if_ether.c: Misc. 64bit fixes from FreeBSD.
	* libfs/src/nfsclient/src/rpcio.c: Misc. 64bit fixes.

2010-06-18	Chris Johns <chrisj@rtems.org>

        * libfs/src/rfs/rtems-rfs-file-block.c: Clean up uint64_t
	maths.

        * libfs/src/rfs/rtems-rfs-file-system.h,
        libfs/src/rfs/rtems-rfs-file-system.c: Move
	questionable macros to C functions.

2010-06-17	Joel Sherrill <joel.sherrilL@OARcorp.com>

	* sapi/include/confdefs.h: Remove RTEMS_COVERAGE conditionals.

2010-06-17	Chris Johns <chrisj@rtems.org>

	* libfs/src/rfs/rtems-rfs-bitmaps.h,
	libfs/src/rfs/rtems-rfs-block-pos.h,
	libfs/src/rfs/rtems-rfs-block.h: PR 1556. Struct clean up.

2010-06-17	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libfs/src/rfs/rtems-rfs-file-system.h: Revert previous change.
	Force RTEMS_RFS_VERSION_MASK to be 32bit.
	* libfs/src/rfs/rtems-rfs-rtems-dir.c: Various 64bit fixes.
	* libfs/src/rfs/rtems-rfs-format.c: Various 64bit fixes.
	* libfs/src/rfs/rtems-rfs-file-system.c: Various 64bit fixes.
	* libfs/src/rfs/rtems-rfs-rtems-file.c: Various 64bit fixes.
	* libfs/src/rfs/rtems-rfs-buffer.c: Various 64bit fixes.
	* libfs/src/rfs/rtems-rfs-shell.c: Various 64bit fixes.
	* libfs/src/rfs/rtems-rfs-bitmaps-ut.c: Various 64bit fixes.
	* libfs/src/rfs/rtems-rfs-group.c: Various 64bit fixes.

2010-06-16	Joel Sherrill <joel.sherrilL@OARcorp.com>

	PR 1453/cpukit
	* posix/Makefile.am: newlib uses sysconf() for _CLOCKS_PER_SEC_ so
	enable it even when POSIX threads are disabled.

2010-06-16	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libfs/src/rfs/rtems-rfs-file.c: Various 64bit fixes.
	* libfs/src/rfs/rtems-rfs-inode.c: Various 64bit fixes.
	* libfs/src/rfs/rtems-rfs-rtems.c: Various 64bit fixes.
	Add PRIomode_t.
	* libfs/src/rfs/rtems-rfs-buffer-bdbuf.c:
	Various 64bit fixes.

2010-06-16	Ralf Corsépius <ralf.corsepius@rtems.org>

	PR 1556/cpukit
	* libfs/src/rfs/rtems-rfs-bitmaps.h,
	libfs/src/rfs/rtems-rfs-block-pos.h,
	libfs/src/rfs/rtems-rfs-buffer.h,
	libfs/src/rfs/rtems-rfs-file-system-fwd.h,
	libfs/src/rfs/rtems-rfs-file-system.h,
	libfs/src/rfs/rtems-rfs-file.h,
	libfs/src/rfs/rtems-rfs-format.h,
	libfs/src/rfs/rtems-rfs-group.h,
	libfs/src/rfs/rtems-rfs-inode.h:
	Rename "struct rtems_rfs_*_t" into "struct _rtems_rfs_*".
	* libfs/src/rfs/rtems-rfs-shell.c: Remove rtems_rfs_shell_cmd_t.

2010-06-15	Ralf Corsépius <ralf.corsepius@rtems.org>

	PR 1566/filesystem
	* libnetworking/rtems/mkrootfs.c,  libnetworking/rtems/mkrootfs.h:
	Let rtems_rootfs_append_host_rec take an in_addr_t as first arg.
	* libnetworking/rtems/rtems_dhcp.c, libnetworking/nfs/bootp_subr.c:
	Reflect changes above.

2010-06-15	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libfs/src/rfs/rtems-rfs-dir.c: Various 64bit compatibility fixes.
	Add PRIdoff_t.
	Remove stray "\"s.
	* libfs/src/rfs/rtems-rfs-link.c: Various 64bit compatibility fixes.

2010-06-15	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libfs/src/rfs/rtems-rfs-file-system.h: Remove bogus typecast.
	* libfs/src/rfs/rtems-rfs-block.c, libfs/src/rfs/rtems-rfs-buffer.c,
	libnetworking/nfs/bootp_subr.c: Misc. 64bit-compatibility fixes.
	* posix/include/rtems/posix/pthread.h: Remove stray comment.
	Work-around doxygen comment bug.

2010-06-15	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/netinet/ip_fw.c, libnetworking/netinet/ip_input.c:
	Misc. 64bit-compatibility fixes.

2010-06-15	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libmisc/shell/print-ls.c, libmisc/shell/main_msdosfmt.c:
	Include <inttypes.h>.
	Misc. 64bit-compatibility fixes.

2010-06-14	Sebastian Huber <sebastian.huber@embedded-brains.de>

	PR 1555/cpukit
	* Makefile.am, preinstall.am: Install md4.h and md5.h headers.

2010-06-14	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* sapi/include/confdefs.h: Do not define a filesystem if
	CONFIGURE_APPLICATION_DISABLE_FILESYSTEM is defined.

2010-06-14	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/rtems/mkrootfs.h,
	posix/include/rtems/posix/pthread.h,
	score/include/rtems/score/coresem.h,
	score/include/rtems/score/priority.h,
	score/include/rtems/score/threadq.h,
	score/include/rtems/score/timestamp.h: Move 'extern "C"'.
	* posix/include/rtems/posix/threadsup.h: Add extern "C".
	* libnetworking/netinet/in_pcb.c:
	Eliminate "ushort".
	* libfs/src/pipe/fifo.c, libfs/src/pipe/pipe.h:
	Eliminate "uint".

2010-06-13	Ralf Corsépius <ralf.corsepius@rtems.org>

	* include/rtems/tar.h, libcsupport/include/tar.h: Remove.
	* configure.ac: Require toolchain to provide tar.h.
	* libfs/src/imfs/imfs_load_tar.c, libmisc/untar/untar.h:
	Use <tar.h> instead of <rtems/tar.h>.

2010-06-12	Ralf Corsépius <ralf.corsepius@rtems.org>

	* rtems/inline/rtems/rtems/status.inl: Fix broken doxygen comment.

2010-06-12	Ralf Corsépius <ralf.corsepius@rtems.org>

	* score/include/rtems/score/timestamp.h,
	score/include/rtems/score/timestamp64.h,
	score/include/rtems/score/watchdog.h:
	Misc. doxygen fixes.

2010-06-12	Ralf Corsépius <ralf.corsepius@rtems.org>

	* posix/include/devctl.h: Move mal-placed @file.

2010-06-12	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libfs/src/devfs/devfs.h, libfs/src/rfs/rtems-rfs-block-pos.h,
	libfs/src/rfs/rtems-rfs-block.h, libfs/src/rfs/rtems-rfs-dir.h,
	libfs/src/rfs/rtems-rfs-group.h, libfs/src/rfs/rtems-rfs-inode.h:
	Fix broken doxygen commands.

2010-06-10	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libcsupport/src/unmount.c: Removed obsolete declarations.  Fixed
	invalid memory free.

2010-06-10	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libnetworking/rtems/ftpfs.h, libnetworking/lib/ftpfs.c:  Removed
	rtems_ftpfs_mount().

2010-06-10	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libcsupport/src/mount-mktgt.c: New file.
	* libcsupport/Makefile.am: Reflect change above.
	* libcsupport/include/rtems/libio.h: Declare
	mount_and_make_target_path().

2010-06-09	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libnetworking/rtems/ftpfs.h, libnetworking/lib/ftpfs.c:  Added
	rtems_ftpfs_mount() again.  Documentation.

2010-06-09	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libcsupport/include/rtems/libio.h, sapi/include/confdefs.h: Added
	and use defines for file system types.

2010-06-09	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libcsupport/src/mount.c: Fixed NULL pointer access.

2010-06-09	Ralf Corsépius <ralf.corsepius@rtems.org>

	* configure.ac: Remove nios2 (unsupported, no toolchain).
	* score/cpu/Makefile.am: Remove nios2 (unsupported, no toolchain).

2010-06-09	Ralf Corsépius <ralf.corsepius@rtems.org>

	* configure.ac: Remove c4x (dead port).
	* score/cpu/Makefile.am: Remove c4x (dead port).

2010-06-08	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libcsupport/include/rtems/libio.h: Documentation.

2010-06-08	Sebastian Huber <sebastian.huber@embedded-brains.de>

	PR 1524/filesystem
	* libcsupport/src/rtems_mkdir.c: New file.
	* libcsupport/src/Makefile.am: Reflect change above.
	* libcsupport/include/rtems/libio.h: Added rtems_mkdir().
	* libmisc/fsmount/fsmount.h, libmisc/fsmount/fsmount.c,
	libblock/src/bdpart-mount.c, libnetworking/rtems/mkrootfs.h,
	libnetworking/rtems/mkrootfs.c: Use rtems_mkdir().  Removed
	rtems_fsmount_create_mount_point() and rtems_rootfs_mkdir().

2010-06-07	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libcsupport/include/rtems/libio_.h: Declare
	rtems_filesystem_mount_table_control.
	* libcsupport/include/rtems/libio.h: Removed
	rtems_filesystem_table_first(), rtems_filesystem_table_next() and
	rtems_filesystem_table_node_t declarations.  Declare
	rtems_per_filesystem_routine, rtems_filesystem_iterate() and
	rtems_filesystem_get_mount_handler().
	* libcsupport/src/mount.c: Added rtems_filesystem_mounts_first() and
	rtems_filesystem_mounts_next().  Simplify mount().  Removed
	rtems_filesystem_mount_table_control_init.  Use
	rtems_filesystem_get_mount_handler().
	* libcsupport/src/mount-mgr.c: Removed rtems_filesystem_mounts_first() and
	rtems_filesystem_mounts_next().  Added rtems_filesystem_iterate() and
	rtems_filesystem_get_mount_handler().  Use rtems_libio_lock() and
	rtems_libio_unlock();
	* sapi/include/confdefs.h, libmisc/shell/main_mount.c: Update for
	mount API changes.

2010-06-07	Bharath Suri <bharath.s.jois@gmail.com>

	* libcsupport/include/rtems/libio_.h: Removed macros
	rtems_filesystem_is_separator
	rtems_filesystem_get_start_loc
	rtems_filesystem_get_sym_start_loc
	and added them as files under libcsupport/src/

	* libcsupport/src/: Added new files
	libcsupport/src/sup_fs_get_start_loc.c
	libcsupport/src/sup_fs_get_sym_start_loc.c
	libcsupport/src/sup_fs_is_separator.c

	* libcsupport/Makefile.am: Changes to accommodate new
	files under libcsupport/src/

2010-06-03	Chris Johns <chrisj@rtems.org>

	* sapi/include/confdefs.h: PR 1543. Make default file system when
	nothing is defined IMFS not miniIMFS.

2010-06-01 	Chris Johns <chrisj@rtems.org>

	* libcsupport/include/rtems/libio.h: Make the struct name the same
	as the typedef.
	* sapi/include/confdefs.h: Fixes for use in C++.

2010-06-01 	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libmisc/shell/print-ls.c: Remove (long) cast of st_ino.
	* libcsupport/include/rtems/libio.h, libcsupport/src/mount-mgr.c:
	Add missing 'const'.
	* libfs/src/nfsclient/src/xdr_mbuf.c: Warning removal.

2010-05-31	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/include/rtems/libio.h: Remove if 0 section. Formatting.

2010-05-31	Chris Johns <chrisj@rtems.org>

	* libcsupport/Makefile.am: Add mount-mgr.c.
	* libcsupport/src/mount-mgr.c: New.
	* include/rtems/fs.h: Added rtems_filesystem_location_mount.
	* libcsupport/include/rtems/libio.h, libcsupport/src/mount.c: New
	mount interface. It is similar to Linux.
	* libcsupport/include/rtems/libio_.h: Remove the
	init_fs_mount_table call.
	* libcsupport/src/base_fs.c: Remove init_fs_mount_table_call. Use
	the new mount call. Remove setting the root node in the global
	pathloc. Mount does this now.
	* libcsupport/src/privateenv.c: Remove the hack to set the root
	mount table entry in the environment.
	* libcsupport/src/unmount.cL Free the target string.
	* libblock/src/bdpart-mount.c: New mount API.
	
	* libfs/src/devfs/devfs.h, libfs/src/devfs/devfs_init.c,
	libfs/src/dosfs/dosfs.h, libfs/src/dosfs/msdos.h,
	libfs/src/dosfs/msdos_init.c, libfs/src/imfs/imfs.h,
	libfs/src/imfs/imfs_eval.c, libfs/src/imfs/imfs_init.c,
	libfs/src/imfs/miniimfs_init.c,
	libfs/src/nfsclient/src/librtemsNfs.h,
	libfs/src/rfs/rtems-rfs-rtems.c, libfs/src/rfs/rtems-rfs.h,
	libnetworking/lib/ftpfs.c, libnetworking/rtems/ftpfs.h,
	libnetworking/rtems/tftp.h: New mount_h API.
	
	* libfs/src/devfs/devfs_eval.c: Local include of extern ops.
	* libfs/src/nfsclient/src/nfs.c: New mount API. Removed the mount
	me call and fixed the initialisation to happen when mounting.
	
	* libmisc/Makefile.am, libmisc/shell/shellconfig.h: Remove mount
	filesystem files.

	* libmisc/fsmount/fsmount.c, libmisc/fsmount/fsmount.h: Updated to
	the new mount table values.
	
	* libmisc/shell/main_mount_ftp.c,
	libmisc/shell/main_mount_msdos.c, libmisc/shell/main_mount_rfs.c,
	libmisc/shell/main_mount_tftp.c: Removed.

	* libmisc/shell/main_mount.c: Use the new mount API. Also access
	the file system table for the file system types.

	* libnetworking/lib/tftpDriver.c: Updated to the new mount
	API. Fixed to allow mounting from any mount point. Also can now
	have more than file system mounted.
	
	* sapi/include/confdefs.h: Add file system configuration support.

2010-05-30	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libfs/src/nfsclient/src/rpcio.c: Warning removal.

2010-05-29	Ralf Corsépius <ralf.corsepius@rtems.org>

	PR 1531/newlib:
	* libmisc/shell/fts.c:
	Add local copy of ALIGN().

2010-05-29	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/net/if.c:
	Use uintptr_t and void* in _offsetof().
	* libnetworking/netinet/raw_ip.c:
	Cast nam to uintptr_t instead of int.
	* libnetworking/libc/gethostnamadr.c:
	Cast addr to uintptr_t instead of size_t.
	* libfs/src/nfsclient/src/xdr_mbuf.c (xdrmbuf_setup):
	Cast addr to uintptr_t instead of size_t.
	* librpc/src/xdr/xdr_mem.c (xdr_memcreate): 
	Cast addr to uintptr_t instead of size_t.
	* libfs/src/nfsclient/src/dirutils.c: Add PRIomode_t, PRIdoff_t.
	* configure.ac: Add AC_CHECK_SIZEOF(mode_t), AC_CHECK_SIZEOF(off_t).

2010-05-28	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libfs/src/rfs/rtems-rfs-rtems.c: Use size_t for node_len.

2010-05-27	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/libc/gethostnamadr.c:
	Try to make crazy address arithmetic more portable.
	* libfs/src/nfsclient/src/xdr_mbuf.c:
	Use void* arithmetic instead of u_long arithmetic.
	* libnetworking/netinet/raw_ip.c,
	libnetworking/netinet/udp_usrreq.c:
	Cast mbufs to uintptr_t instead of u_long.
	* libnetworking/rtems/rtems_mii_ioctl.h, 
	libnetworking/rtems/rtems_mii_ioctl_kern.c:
	Use uint32_t instead of int as ioctl cmd arg.

2010-05-27	Ralf Corsépius <ralf.corsepius@rtems.org>

	*  libnetworking/lib/ftpfs.c, libnetworking/lib/tftpDriver.c:
	Use size_t instead of int for pathnamelen.
	* libfs/src/rfs/rtems-rfs-rtems.c:
	Use size_t instead of int for pathlen.
	Use %zi to print pathlen.
	* libcsupport/include/rtems/libio.h:
	Use size_t instead of int for pathnamelen.
	* libcsupport/include/rtems/libio_.h, libcsupport/src/eval.c:
	Use size_t instead of int for pathnamelen.
	* libfs/src/imfs/imfs.h, libfs/src/imfs/imfs_eval.c:
	Use size_t instead of int for pathnamelen.
	* libfs/src/dosfs/msdos.h, libfs/src/dosfs/msdos_eval.c:
	Use size_t instead of int for pathnamelen.
	* libfs/src/devfs/devfs.h, libfs/src/devfs/devfs_eval.c:
	Use size_t instead of int for pathnamelen.
	* libfs/src/nfsclient/src/nfs.c: 
	Use uint32_t instead of u_int_t for readarg and writearg.

2010-05-27	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libfs/src/nfsclient/src/nfs.c: Introduce union nfs_evalpath_arg.

2010-05-27	Ralf Corsépius <ralf.corsepius@rtems.org>

	* librpc/src/rpc/clnt_tcp.c, librpc/src/rpc/clnt_udp.c:
	Revert to using u_long instead of rpcprog_t, rpcvers_t 
	to stay bug-ward compatible to freebsd.
	* librpc/src/xdr/xdr_mem.c: Cosmetics from freebsd.

2010-05-27	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libfs/src/nfsclient/src/rpcio.c: 
	Cast pointers to uintptr_t instead of long.
	xids are uint32_t not u_long.
	* libfs/src/nfsclient/src/nfs.c (NFS_MAKE_DEV_T_INO_HACK,
	NFS_MAKE_DEV_T): Cast "id"'s to rtems_device_minor_number.

2010-05-27	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libfs/src/nfsclient/src/rpcio.c, libfs/src/nfsclient/src/rpcio.h:
	Use rpcprog_t for "program args", use rpcvers_t for "version args".

2010-05-27	Ralf Corsépius <ralf.corsepius@rtems.org>

	* librpc/src/rpc/rtems_portmapper.c: Reflect changes to librpc.

2010-05-27	Ralf Corsépius <ralf.corsepius@rtems.org>

	* librpc/include/rpc/clnt.h, librpc/include/rpc/rpc_msg.h,
	librpc/src/rpc/clnt_generic.c, librpc/src/rpc/clnt_raw.c,
	librpc/src/rpc/clnt_tcp.c, librpc/src/rpc/clnt_udp.c,
	librpc/src/rpc/pmap_clnt.c, librpc/src/rpc/pmap_getmaps.c
	librpc/src/rpc/pmap_getport.c:
	Partial merger from freebsd (portability fixes).

2010-05-27	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/sys/socketvar.h (struct sockbuf):
	Use void* instead of caddr_t.
	* libfs/src/nfsclient/src/rpcio.c: 
	Use address to rpciod in calls to rxWakeupCB.
	* libnetworking/sys/socket.h (struct sockwakeup):
	Use void* instead of caddr_t.
	* librpc/include/rpc/xdr.h: Cosmetics from freebsd.

2010-05-26	Ralf Corsépius <ralf.corsepius@rtems.org>

	* librpc/src/rpc/clnt_udp.c: Cosmetics from freebsd.

2010-05-26	Ralf Corsépius <ralf.corsepius@rtems.org>

	* librpc/src/rpc/clnt_tcp.c: Partial merger from freebsd
	(Fix strict-aliasing).

2010-05-26	Ralf Corsépius <ralf.corsepius@rtems.org>

	* librpc/src/rpc/clnt_raw.c: Partial merger from freebsd
	(Improved 16 bit compatibility; Fix strict-aliasing).

2010-05-25	Ralf Corsépius <ralf.corsepius@rtems.org>

	* librpc/src/rpc/rpc_prot.c: Partial merger from freebsd
	(Improved 64 bit compatibility; bug fix).

2010-05-23	Ralf Corsépius <ralf.corsepius@rtems.org>

	PR 1528/cpukit
	* libcsupport/src/malloc_boundary.c: Cast to intptr_t* instead of
	int32_t* for 16 bit target compliance.

2010-05-22	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libblock/include/rtems/nvdisk.h, libblock/src/nvdisk-sram.c:
	Use pointer arithmetic instead of int32_t arithmetic for 16bit
	compatibility.

2010-05-22	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libmisc/shell/fts.c: Cast to uintptr_t instead of long for better
	16bit target compliance.

2010-05-22	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libfs/src/rfs/rtems-rfs-bitmaps-ut.c: Use "16 bit int" arg 
	in call to srand if "32 bit int" doesn't fit into "int".

2010-05-22	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libblock/src/flashdisk.c, libblock/src/nvdisk.c:
	Cast argp to uintptr_t temporary instead of uint32_t temporary
	(Avoid incompatible pointer casts on 16bit targets).

2010-05-22	Ralf Corsépius <ralf.corsepius@rtems.org>

	* automake/compile.am: (Temporarily) Add -Werror=overflow,
	-Werror=pointer-to-int-cast, -Werror=int-to-pointer-cast.

2010-05-20	Bharath Suri <bharath.s.jois@gmail.com>

	* libcsupport/src/_rename_r.c: Avoid overwriting of errno by
	_rename_r to invalid values.

2010-05-18	Chris Johns <chrisj@rtems.org>

	* libblock/src/diskdevs.c, libblock/include/rtems/blkdev.h,
	libblock/src/bdbuf.c: PR 1448/filesystem.

	* libblock/include/rtems/blkdev.h, libblock/src/bdbuf.c: PR
	1514/filesystem.
	
2010-05-17	Oleg Kravtsov <Oleg.Kravtsov@oktetlabs.ru>

	PR 1449/cpukit
	* libblock/src/diskdevs.c: rtems_disk_next() will now implicitly
	obtain the returned disk.
	* libblock/include/rtems/diskdevs.h: Documentation.

2010-05-15	Chris Johns <chrisj@rtems.org>

	* libfs/src/imfs/imfs_initsupp.c, libfs/src/imfs/imfs.h,
	libfs/src/imfs/imfs_stat.c: PR1419. Return a device for the IMFS.

2010-05-14	Chris Johns <chrisj@rtems.org>

	* libblock/src/flashdisk.c: Clean up on initialisation errors.
	
2010-05-07	Arnout Vandecappelle <arnout@mind.be>

	PR 1511/networking
	* ftpd/ftpd.c: Abort RETR for directories.

2010-05-03	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* sapi/include/confdefs.h: New define CONFIGURE_SEMAPHORES for the
	overall count of required semaphores.  New define
	CONFIGURE_LIBBLOCK_SEMAPHORES for the count of required disk and bdbuf
	semaphores.

2010-05-01	Ralf Corsépius <ralf.corsepius@rtems.org>

	* configure.ac: Add missing "&&".

2010-05-01	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libcsupport/Makefile.am: Add libcsupport/src/flockfile.c,
	libcsupport/src/ftrylockfile.c, libcsupport/src/funlockfile.c.
	* libcsupport/src/flockfile.c, libcsupport/src/ftrylockfile.c,
	libcsupport/src/funlockfile.c: New (stub functions).

2010-04-30	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libcsupport/include/rtems/libio_.h, libcsupport/src/envlock.c,
	libcsupport/src/libio.c: Added and use rtems_libio_lock() and
	rtems_libio_unlock().  Cleaned up includes and declarations.  Do not
	use RTEMS_NO_PRIORITY for unused ceiling priority in
	rtems_semaphore_create().

2010-04-30	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libnetworking/lib/ftpfs.c: Format changes.  Fixed pathname
	allocation in rtems_ftpfs_eval_path().  Send QUIT command during
	file close.

2010-04-30	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libfs/src/dosfs/msdos_format.c: Added missing va_end().

2010-04-30	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libblock/src/bdpart.c: Removed file.
	* libblock/src/bdpart-create.c, libblock/src/bdpart-dump.c,
	libblock/src/bdpart-mount.c, libblock/src/bdpart-read.c,
	libblock/src/bdpart-register.c, libblock/src/bdpart-sort.c,
	libblock/src/bdpart-write.c: New files.
	* libblock/include/rtems/bdpart.h: Moved some definitions from bdpart.c.
	* libblock/Makefile.am: Update for file changes.

2010-04-30	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* sapi/inline/rtems/chain.inl: Added missing functions.

2010-04-30	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* posix/src/alarm.c, posix/src/psignal.c, posix/src/ualarm.c:
	Moved watchdog control objects to reduce dependencies.

2010-04-29	Sebastian Huber <sebastian.huber@embedded-brains.de>

	PR 1507/filesystem
	* libblock/src/bdbuf.c: Avoid NULL pointer access.

	* libblock/src/diskdevs.c: Fixed bounds check in rtems_disk_next().

2010-04-29	Ralf Corsépius <ralf.corsepius@rtems.org>

	* librpc/src/rpc/clnt_udp.c, librpc/src/xdr/xdr_mem.c:
	Use [u]intptr_t instead of [u_]long for better 16bit compliance.

2010-04-29	Ralf Corsépius <ralf.corsepius@rtems.org>

	* aclocal/enable-itron.m4, aclocal/check-itron.m4: Replace
	RTEMS_HAS_ITRON_API with enable_itron.
	* librpc/src/rpc/pmap_rmt.c: Use uintptr_t for better 16bit
	compliance.

2010-04-29	Ralf Corsépius <ralf.corsepius@rtems.org>

	* aclocal/enable-itron.m4: Cosmetics.
	* httpd/Makefile.am: Use LIBHTTPD.
	* shttpd/Makefile.am: Use LIBSHTTPD.
	* configure.ac: Add RTEMS_ENABLE_SHTTPD, RTEMS_ENABLE_HTTPD.
	Introduce AM_CONDITIONALS LIBHTTPD, LIBSHTTPD.
	* aclocal/enable-httpd.m4, aclocal/enable-shttpd.m4: New.

2010-04-29	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/libc/map_v4v6.c: Use uintptr_t instead of u_long for
	better 16bit target compliance.

2010-04-28	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/src/chdir.c: Check for NULL pointer.

2010-04-25	Joel Sherrill <joel.sherrilL@OARcorp.com>

	* libfs/src/rfs/rtems-rfs-bitmaps-ut.c: Fix warning.

2010-04-25	Joel Sherrill <joel.sherrilL@OARcorp.com>

	* libmisc/stringto/stringto_template.h: Remove warning.

2010-04-25	Joel Sherrill <joel.sherrill@oarcorp.com>

	* posix/src/pthread.c: Make default pthread_attr_t match the
	conditionals in the version in newlib. This way it will always be
	right.

2010-04-25	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/src/readv.c: Check for < 0 on iov_len, not <= 0. A
	readv() with all iov_len equal to 0 should have no effect.

2010-04-14	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/sys/mbuf.h: Use uintptr_t instead of u_long
	for 16bit target compliance.
	* libnetworking/libc/gethostbydns.c: Use uintptr_t instead of u_long
	for 16bit target compliance.
	* libnetworking/sys/sysctl.h: Change sysctl_oid->arg2 into int32_t
	for 16bit target compliance.

2010-04-13	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libmisc/shell/fts.c (fts_pow2): Rebase fts_pow2 on
	SIZEOF_SIZE_T * CHAR_BIT.

2010-04-13	Ralf Corsépius <ralf.corsepius@rtems.org>

	* aclocal/gcc-sanity.m4: Add RTEMS_CHECK_GCC_PRINTF_LD_OFF_T, 
	RTEMS_CHECK_GCC_PRINTF_LLD_OFF_T.

2010-04-13	Ralf Corsépius <ralf.corsepius@rtems.org>

	* shttpd/io_dir.c: Cast consts to size_t (Avoid overflows on implicit 
	const casts on 16bit targets).

2010-04-12	Ralf Corsépius <ralf.corsepius@rtems.org>

	* score/include/rtems/system.h: Let RTEMS_offsetof return uintptr_t
	instead of uint32_t (16bit target compatibility).

2010-04-12	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libmisc/monitor/mon-part.c, libmisc/monitor/mon-region.c:
	Use rtems_monitor_dump_addr instead of rtems_monitor_dump_hex
	to print addresses.

2010-04-12	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libmisc/monitor/mon-prmisc.c, libmisc/monitor/monitor.h:
	Add rtems_monitor_dump_addr().
	* libmisc/monitor/mon-symbols.c: 16bit target fixes.

2010-04-12	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/lib/ftpfs.c: 16bit target fixes:
	Use ioctl_command_t as arg to rtems_ftpfs_do_ioctl.
	Explicitly cast to uint32_t in char[] to uint32_t
	conversion.

2010-04-12	Ralf Corsépius <ralf.corsepius@rtems.org>

	* configure.ac: Check for sched.h.
	* configure.ac: Check for WORD_BIT, LONG_BIT.
	* configure.ac: Check for flockfile, funlockfile, ftrylockfile.

2010-04-12	Chris Johns <chrisj@rtems.org>

	libfs/src/rfs/rtems-rfs-buffer-bdbuf.c,
	libfs/src/rfs/rtems-rfs-buffer.c, libfs/src/rfs/rtems-rfs-data.h,
	libfs/src/rfs/rtems-rfs-dir.c,
	libfs/src/rfs/rtems-rfs-file-system.c,
	libfs/src/rfs/rtems-rfs-format.c, libfs/src/rfs/rtems-rfs-inode.h,
	libfs/src/rfs/rtems-rfs-rtems.c, libfs/src/rfs/rtems-rfs-rtems.h,
	libfs/src/rfs/rtems-rfs-shell.c: Fix for PR1502. Clean up problems
	on 16bit targets.

2010-04-10	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libmisc/stackchk/check.c: Remove bogus casts.
	Use PRIxPTR to printk pointers.

2010-04-09	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libblock/src/blkdev.c: Fixed disk delete.
	* libblock/src/diskdevs.c: Obtain/release disk during open/close.
	This avoids unprotected usage of private disk variables.

2010-04-08	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* score/include/rtems/score/object.h: Documentation.

2010-04-07	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/src/wkspace.c: Remove duplicate include.

2010-04-07	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/monitor/mon-monitor.c, libmisc/monitor/monitor.h: Add const
	to fix warning. Spacing.

2010-04-07	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/include/rtems/system.h: Fix warnings about TRUE/FALSE not
	defined on ARM target. This file need to be clean from .S files.

2010-04-05	Thomas Znidar <t.znidar@embed-it.com>

	* libmisc/monitor/mon-monitor.c, libmisc/monitor/monitor.h: Add reset
	command.

2010-04-04	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/lib/rtems_bspnet_ntp.c: #include <unistd.h>.

2010-04-03	Ralf Corsépius <ralf.corsepius@rtems.org>

	* posix/include/sched.h: Remove.
	* posix/Makefile.am: Remove include/sched.h.

2010-04-03	Joel Sherrill <joel.sherrill@oarcorp.org>

	* posix/src/psxtransschedparam.c, posix/src/pthread.c,
	posix/src/pthreadcreate.c: Reflect POSIX sched_parm changes.

2010-04-03	Ralf Corsépius <ralf.corsepius@rtems.org>

	* shttpd/auth.c, shttpd/config.c, shttpd/io_cgi.c,
	shttpd/io_file.c, shttpd/io_socket.c, shttpd/shttpd.c:
	#include <unistd.h>.

2010-04-02	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/sys/select.h: #include <sys/time.h>.

2010-04-02	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libcsupport/src/isatty_r.c, libcsupport/src/malloc_sbrk_helpers.c:
	#include <unistd.h>.
	* posix/src/sched_rr_get_interval.c: #include <unistd.h>.

2010-03-30	Chris Johns <chrisj@rtems.org>

	* libfs/src/dosfs/msdos_misc.c: Fix PR1491.
	
2010-03-28	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/src/isrthreaddispatch.c: Add include of config.h

2010-03-28	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libmisc/stringto/stringto_template.h: Reorder includes.
	* libmisc/stringto/stringtodouble.c,
	libmisc/stringto/stringtofloat.c,
	libmisc/stringto/stringtoint.c,
	libmisc/stringto/stringtolong.c,
	libmisc/stringto/stringtolonglong.c, 
	libmisc/stringto/stringtopointer.c
	libmisc/stringto/stringtounsignedchar.c
	libmisc/stringto/stringtounsignedint.c
	libmisc/stringto/stringtounsignedlong.c
	libmisc/stringto/stringtounsignedlonglong.c:
	Add HAVE_CONFIG_H support to let files receive configure defines.

2010-03-28	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/libc/getnetnamadr.c,
	librpc/src/rpc/svc.c:
	Add HAVE_STRINGS_H for better POSIX compliance.

2010-03-28	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/net/if.c, libnetworking/net/if_ethersubr.c,
	libnetworking/net/if_loop.c, libnetworking/net/if_ppp.c,
	libnetworking/net/ppp_tty.c, libnetworking/net/radix.c,
	libnetworking/net/raw_cb.c, libnetworking/net/raw_usrreq.c,
	libnetworking/net/route.c, libnetworking/net/rtsock.c,
	libnetworking/net/slcompress.c:
	Add HAVE_CONFIG_H support to let files receive configure defines.

2010-03-28	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/netinet/if_ether.c, libnetworking/netinet/igmp.c,
	libnetworking/netinet/in.c, libnetworking/netinet/in_cksum.c,
	libnetworking/netinet/in_pcb.c, libnetworking/netinet/in_proto.c,
	libnetworking/netinet/in_rmx.c, libnetworking/netinet/ip_divert.c,
	libnetworking/netinet/ip_fw.c, libnetworking/netinet/ip_icmp.c,
	libnetworking/netinet/ip_input.c, libnetworking/netinet/ip_mroute.c,
	libnetworking/netinet/ip_output.c, libnetworking/netinet/raw_ip.c,
	libnetworking/netinet/tcp_debug.c, libnetworking/netinet/tcp_input.c,
	libnetworking/netinet/tcp_output.c, libnetworking/netinet/tcp_subr.c,
	libnetworking/netinet/tcp_timer.c, libnetworking/netinet/tcp_usrreq.c,
	libnetworking/netinet/udp_usrreq.c:
	Add HAVE_CONFIG_H support to let files receive configure defines.

2010-03-28	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/lib/ftpfs.c, libnetworking/lib/getprotoby.c,
	libnetworking/lib/rtems_bsdnet_ntp.c, libnetworking/lib/syslog.c,
	libnetworking/lib/tftpDriver.c:
	Add HAVE_CONFIG_H support to let files receive configure defines.

2010-03-28	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/libc/getifaddrs.c,
	* libnetworking/libc/if_indextoname.c,
	libnetworking/libc/if_nameindex.c:
	Add HAVE_CONFIG_H support to let files receive configure defines.

2010-03-28	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libmd/md4.c, libmd/md5.c:
	Add HAVE_CONFIG_H support to let files receive configure defines.

2010-03-28	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libmisc/Makefile.am: Add stringto/stringto_template.h to
	libstringto_a_SOURCES.

2010-03-28	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libfs/src/pipe/pipe.c:
	Add HAVE_CONFIG_H support to let files receive configure defines.

2010-03-28	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libblock/src/bdpart.c, libblock/src/ramdisk-config.c,
	libblock/src/ramdisk-driver.c, libblock/src/ramdisk-init.c:
	Add HAVE_CONFIG_H support to let files receive configure defines.

2010-03-28	Ralf Corsépius <ralf.corsepius@rtems.org>

	* librpc/src/xdr/xdr.c, librpc/src/xdr/xdr_array.c,
	librpc/src/xdr/xdr_float.c, librpc/src/xdr/xdr_mem.c,
	librpc/src/xdr/xdr_rec.c, librpc/src/xdr/xdr_reference.c,
	librpc/src/xdr/xdr_sizeof.c, librpc/src/xdr/xdr_stdio.c
	Add HAVE_CONFIG_H support to let files receive configure defines.

2010-03-28	Ralf Corsépius <ralf.corsepius@rtems.org>

	* librpc/src/rpc/auth_none.c, librpc/src/rpc/auth_unix.c,
	librpc/src/rpc/authunix_prot.c, librpc/src/rpc/bindresvport.c,
	librpc/src/rpc/clnt_generic.c, librpc/src/rpc/clnt_perror.c,
	librpc/src/rpc/clnt_raw.c, librpc/src/rpc/clnt_simple.c,
	librpc/src/rpc/clnt_tcp.c, librpc/src/rpc/clnt_udp.c,
	librpc/src/rpc/get_myaddress.c, librpc/src/rpc/getrpcent.c,
	librpc/src/rpc/getrpcport.c, librpc/src/rpc/netname.c,
	librpc/src/rpc/netnamer.c, librpc/src/rpc/pmap_clnt.c,
	librpc/src/rpc/pmap_getmaps.c, librpc/src/rpc/pmap_getport.c,
	librpc/src/rpc/pmap_prot.c, librpc/src/rpc/pmap_prot2.c,
	librpc/src/rpc/pmap_rmt.c, librpc/src/rpc/rpc_callmsg.c,
	librpc/src/rpc/rpc_commondata.c, librpc/src/rpc/rpc_dtablesize.c,
	librpc/src/rpc/rpc_prot.c, librpc/src/rpc/rpcdname.c,
	librpc/src/rpc/rtems_portmapper.c, librpc/src/rpc/rtems_rpc.c,
	librpc/src/rpc/rtime.c, librpc/src/rpc/svc.c,
	librpc/src/rpc/svc_auth.c, librpc/src/rpc/svc_auth_unix.c,
	librpc/src/rpc/svc_raw.c, librpc/src/rpc/svc_run.c,
	librpc/src/rpc/svc_simple.c, librpc/src/rpc/svc_tcp.c,
	librpc/src/rpc/svc_udp.c:
	Add HAVE_CONFIG_H support to let files receive configure defines.

2010-03-27	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libgnat/ada_intrsupp.c, telnetd/check_passwd.c, telnetd/des.c,
	telnetd/genpw.c: Add include of config.h

2010-03-27	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libcsupport/src/termios_baud2index.c,
	libcsupport/src/termios_baud2num.c, libcsupport/src/termios_num2baud.c
	libcsupport/src/termios_setinitialbaud.c:
	Add HAVE_CONFIG_H support to let files receive configure defines.

2010-03-27	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libmisc/bspcmdline/bspcmdline.h: Minimize includes.
	* libmisc/bspcmdline/bspcmdline_get.c,
	libmisc/bspcmdline/bspcmdline_getparam.c,
	libmisc/bspcmdline/bspcmdline_getparamraw.c,
	libmisc/bspcmdline/bspcmdline_getparamrhs.c:
	Add HAVE_CONFIG_H support to let files receive configure defines.

2010-03-27	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libmisc/uuid/clear.c, libmisc/uuid/compare.c,
	libmisc/uuid/copy.c, libmisc/uuid/isnull.c,
	libmisc/uuid/pack.c, libmisc/uuid/parse.c,
	libmisc/uuid/unpack.c, libmisc/uuid/unparse.c,
	libmisc/uuid/uuid_time.c:
	Add HAVE_CONFIG_H guards around #include "config.h".

2010-03-27	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libmisc/monitor/mon-symbols.c:
	Add HAVE_STRINGS_H for better POSIX compliance.

2010-03-27	Chris Johns <chrisj@rtems.org>

	libfs/src/nfsclient/src/cexphelp.c,
	libfs/src/nfsclient/src/dirutils.c,
	libfs/src/nfsclient/src/nfs.modini.c,
	libfs/src/nfsclient/src/nfsTest.c,
	libfs/src/nfsclient/src/rpcio.c,
	libfs/src/nfsclient/src/rpcio.modini.c,
	libfs/src/nfsclient/src/sock_mbuf.c,
	libfs/src/nfsclient/src/xdr_mbuf.c,
	libfs/src/rfs/rtems-rfs-bitmaps-ut.c,
	libfs/src/rfs/rtems-rfs-bitmaps.c,
	libfs/src/rfs/rtems-rfs-block.c,
	libfs/src/rfs/rtems-rfs-buffer-bdbuf.c,
	libfs/src/rfs/rtems-rfs-buffer-devio.c,
	libfs/src/rfs/rtems-rfs-buffer.c,
	libfs/src/rfs/rtems-rfs-dir-hash.c, libfs/src/rfs/rtems-rfs-dir.c,
	libfs/src/rfs/rtems-rfs-file-system.c,
	libfs/src/rfs/rtems-rfs-file.c, libfs/src/rfs/rtems-rfs-format.c,
	libfs/src/rfs/rtems-rfs-group.c, libfs/src/rfs/rtems-rfs-inode.c,
	libfs/src/rfs/rtems-rfs-link.c, libfs/src/rfs/rtems-rfs-mutex.c,
	libfs/src/rfs/rtems-rfs-rtems-dev.c,
	libfs/src/rfs/rtems-rfs-rtems-dir.c,
	libfs/src/rfs/rtems-rfs-rtems-file.c,
	libfs/src/rfs/rtems-rfs-rtems-utils.c,
	libfs/src/rfs/rtems-rfs-rtems.c, libfs/src/rfs/rtems-rfs-shell.c,
	libfs/src/rfs/rtems-rfs-trace.c: Add HAVE_CONFIG_H support to let
	files receive configure defines.

2010-03-27	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/libc/gethostbydns.c, libnetworking/libc/gethostbyht.c,
	libnetworking/libc/gethostnamadr.c, libnetworking/libc/getnetbyht.c,
	libnetworking/libc/linkaddr.c, libnetworking/libc/ns_print.c,
	libnetworking/libc/res_debug.c, libnetworking/libc/res_query.c,
	libnetworking/libc/res_send.c, libnetworking/libc/res_update.c:
	Add HAVE_STRINGS_H for better POSIX compliance.

2010-03-27	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libmisc/monitor/mon-command.c: 
	Add HAVE_CONFIG_H support to let files receive configure defines.

2010-03-26	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libmisc/shell/hexdump-display.c, libmisc/shell/hexdump-parse.c,
	libmisc/shell/hexsyntax.c, libmisc/shell/main_hexdump.c,
	libmisc/shell/main_rm.c: 
	Add HAVE_STRINGS_H for better POSIX compliance.

2010-03-26	Ralf Corsépius <ralf.corsepius@rtems.org>

	* shttpd/auth.c, shttpd/io_emb.c, shttpd/mime_type.c,
	shttpd/shttpd.c: Add HAVE_STRINGS_H for better POSIX compliance.

2010-03-26	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libmisc/shell/dd-args.c, libmisc/shell/dd-conv.c,
	libmisc/shell/dd-conv_tab.c, libmisc/shell/dd-misc.c,
	libmisc/shell/dd-position.c, libmisc/shell/fdisk.c,
	libmisc/shell/fts.c, libmisc/shell/hexdump-conv.c,
	libmisc/shell/hexdump-display.c, libmisc/shell/hexdump-odsyntax.c,
	libmisc/shell/hexdump-parse.c, libmisc/shell/hexsyntax.c,
	libmisc/shell/login_check.c, libmisc/shell/login_prompt.c,
	libmisc/shell/main_dd.c, libmisc/shell/main_hexdump.c,
	libmisc/shell/main_ln.c, libmisc/shell/main_mknod.c,
	libmisc/shell/main_rtc.c, libmisc/shell/mknod-pack_dev.c:
	Add HAVE_CONFIG_H support to let files receive configure defines.

2010-03-26	Chris Johns <chrisj@rtems.org>

	* libfs/src/dosfs/msdos_misc.c: Part fix to PR1491.

2010-03-22	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libfs/src/rfs/rtems-rfs-bitmaps-ut.c,
	libfs/src/rfs/rtems-rfs-block.c, libfs/src/rfs/rtems-rfs-buffer.c,
	libfs/src/rfs/rtems-rfs-dir.c, libfs/src/rfs/rtems-rfs-file.c,
	libfs/src/rfs/rtems-rfs-format.c, libfs/src/rfs/rtems-rfs-group.c,
	libfs/src/rfs/rtems-rfs-rtems-file.c,
	libfs/src/rfs/rtems-rfs-shell.c: Fix printf format warning. Primarily
	for size_t.

2010-03-22	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/src/sleep_noposix.c: Fix warning and bug.

2010-03-16	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/shell/shell_makeargs.c: Fix bugs introduced by patch
	attempting to add quoted arguments.

2010-03-12	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libblock/src/ide_part_table.c: Functionality of
	rtems_ide_part_table_get() and rtems_ide_part_table_free() was needed
	internally but those routines are deprecated from the public API. So
	move their contents to private static routines. Using the private
	routines in this file avoids deprecation warnings and leaves
	functional, although deprecated, versions for potential use by
	applications.

2010-03-12	Joel Sherrill <joel.sherrill@oarcorp.com>

	* ftpd/ftpd.c, httpd/asp.c, httpd/ejparse.c, httpd/emfdb.c,
	httpd/misc.c, httpd/um.c, httpd/webs.c, httpd/websuemf.c,
	libfs/src/dosfs/msdos_dir.c, libfs/src/dosfs/msdos_format.c,
	libfs/src/dosfs/msdos_misc.c, libfs/src/nfsclient/src/nfs.c,
	libmisc/capture/capture-cli.c, libmisc/monitor/mon-network.c,
	libmisc/shell/hexdump-odsyntax.c, libmisc/shell/main_ifconfig.c,
	libmisc/shell/shell.c, libmisc/shell/shell_makeargs.c,
	libmisc/uuid/parse.c, libnetworking/libc/gethostbydns.c,
	libnetworking/libc/gethostbyht.c, libnetworking/libc/gethostnamadr.c,
	libnetworking/libc/getnetnamadr.c, libnetworking/libc/inet_addr.c,
	libnetworking/libc/inet_network.c, libnetworking/libc/res_debug.c,
	libnetworking/libc/res_init.c, libnetworking/libc/res_query.c,
	libnetworking/rtems/rtems_mii_ioctl.c,
	score/src/objectgetnameasstring.c: Readdress use of ctype methods per
	recommendation from D.J. Delorie on the newlib mailing list. We
	should pass an unsigned char into these methods.

2010-03-11	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libfs/src/dosfs/msdos_misc.c: Do not overwrite errno in case
	fat_file_write() returns with an error status.

2010-03-11	Ken Peters <kptrs@yahoo.com>

	PR 1456/cpukit
	* libcsupport/src/ttyname.c: ttyname_r() when called directly (not via
	ttyname()) does not prefix the caller provided buffer with the
	predefined _PATH_DEV string (/dev/). Thus the directory search fails
	and no tty name is returned to the caller.

2010-03-11	Joel Sherrill <joel.sherrill@oarcorp.com>

	* ftpd/ftpd.c, httpd/uemf.c, httpd/um.c, httpd/webs.c,
	httpd/websuemf.c, libblock/src/diskdevs.c,
	libmisc/capture/capture-cli.c, libmisc/monitor/mon-network.c,
	libmisc/shell/hexdump-odsyntax.c, libmisc/shell/main_ifconfig.c,
	libmisc/uuid/parse.c, libnetworking/lib/ftpfs.c,
	libnetworking/libc/gethostbyht.c, libnetworking/libc/getnetnamadr.c,
	libnetworking/libc/inet_network.c,
	libnetworking/rtems/rtems_mii_ioctl.c,
	score/src/objectgetnameasstring.c: Fix warnings for ctype methods.

2010-03-11	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/shell/shell_makeargs.c: Fix warnings.

2010-03-11	Joel Sherrill <joel.sherrill@oarcorp.com>

	PR 1458/cpukit
	* rtems/inline/rtems/rtems/asr.inl: Do not enable signals by default.
	Wait for a signal handler to be installed.

2010-03-11	Andrei Mozzhuhin <nopscmn@gmail.com>

	PR 1496/shell
	* libmisc/shell/shell_makeargs.c: Add support for quoted arguments.

2010-03-10	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/include/rtems/score/interr.h,
	score/src/objectinitializeinformation.c: Add new fatal error for
	configuring unlimited and maximum of 0.

2010-03-09	Joel Sherrill <joel.sherrilL@oarcorp.com>

	* libmisc/Makefile.am: Remove duplicate file from list.

2010-03-04	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libblock/src/ramdisk-config.c: Revert accidental commit.

2010-03-04	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libblock/src/ramdisk-config.c, sapi/include/confdefs.h:
	CONFIGURE_DISABLE_CLASSIC_NOTEPADS is typo of
	CONFIGURE_DISABLE_CLASSIC_API_NOTEPADS. Fix it.

2010-03-04	Chris Johns <chrisj@rtems.org>

	* libcsupport/include/rtems/libio.h, libcsupport/src/_rename_r.c:
	Add a rename file op and have rename use it.

	* libfs/Makefile.am, libfs/src/dosfs/msdos_rename.c,
	libfs/src/imfs/imfs_rename.c: New files to support the rename file
	op.

	* libfs/src/imfs/imfs.h: Add rename interface.

	* libfs/src/imfs/imfs_init.c: Add rename handler.

	* libfs/src/imfs/miniimfs_init.c: Fix up ops struct.
	
	* libfs/src/dosfs/msdos.h: Add msdos_rename and remove
	msdos_file_link.

	* libfs/src/dosfs/msdos_create.c: Remove the link call.
	
	* libfs/src/dosfs/msdos_eval.c: Fix a path parsing bug.

	* libfs/src/dosfs/msdos_init.c: Add rename handler and clean up
	the struct naming.

	* libfs/src/rfs/rtems-rfs-link.c, libfs/src/rfs/rtems-rfs-link.h:
	Change the link call to allow linking of directories if told to
	and change the unlink to handle unlink directories that are not
	empty so rename can be supported.

	* libfs/src/rfs/rtems-rfs-rtems-dir.c: Fix the link/unlink calls.

	* libfs/src/rfs/rtems-rfs-rtems.c: Add a rename handler. Fix the
	link/unlink calls.
	
	* libfs/src/dosfs/msdos_dir.c, libfs/src/dosfs/msdos_format.c,
	libfs/src/dosfs/msdos_misc.c, httpd/asp.c,
	libfs/src/nfsclient/src/nfs.c: Work around a newlib warning when
	using the is*() family of calls.

2010-03-01	Chris Johns <chrisj@rtems.org>

	* libfs/src/rfs/rtems-rfs-buffer.h: Add `rtems_rfs_buffer_handle_reset'.

2010-02-28	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/shell/shell_script.c: Fix typo.

2010-02-26	Chris Johns <chrisj@rtems.org>

	* libfs/src/rfs/rtems-rfs-block.c: Reset a buffer handle after
	moving down an indirection level.

	* libfs/src/rfs/rtems-rfs-dir.c: Move directory entry validation
	into a macro and use the macro. Fix the range check on the ino so
	all inodes can be used.

	* libfs/src/rfs/rtems-rfs-file-system.c,
	libfs/src/rfs/rtems-rfs-file-system.h:: Add a version number to
	the superblock. Use RTEMS_RFS_INODE_SIZE.

	* libfs/src/rfs/rtems-rfs-file.c: Fix the size offset on partial
	block lengths. Set the size in the file handle on a truncate to
	0.

	* libfs/src/rfs/rtems-rfs-format.c:  Add a version number to
	the superblock. Use RTEMS_RFS_INODE_SIZE. A better set of defaults
	for small disks.

	* libfs/src/rfs/rtems-rfs-inode.c: Use RTEMS_RFS_INODE_SIZE. Free
	the allocated inode if it cannot be opened.

	* libfs/src/rfs/rtems-rfs-inode.h: Add RTEMS_RFS_INODE_SIZE.

	* libfs/src/rfs/rtems-rfs-rtems-file.c: Move some of the iop
	acceses inside the fs lock.

	* libfs/src/rfs/rtems-rfs-shell.c: Use RTEMS_RFS_INODE_SIZE.

2010-02-24	Chris Johns <chrisj@rtems.org>

	* libmisc/shell/main_msdosfmt.c, libmisc/shell/shellconfig.h: Fix
	the alias as I did understand how it worked.

	* libfs/src/dosfs/msdos_format.c: Test for a block device.

2010-02-23	Chris Johns <chrisj@rtems.org>

	* libfs/src/rfs/rtems-rfs-dir.c: Fix printf format warning for a
	64bit off_t.
	
	* libfs/src/rfs/rtems-rfs-file-system.h: Add a macro to get the
	file system flags.
	
	* libfs/src/rfs/rtems-rfs-group.c,
	libfs/src/rfs/rtems-rfs-group.h: Add rtems_rfs_group_usage.
	
	* libfs/src/rfs/rtems-rfs-rtems.c: Fill in all the fields in the
	statvfs struct.
	
	* libfs/src/rfs/rtems-rfs-shell.c: Use rtems_rfs_group_usage.

2010-02-20	Chris Johns <chrisj@rtems.org>

	* libfs/src/dosfs/fat.c, libfs/src/rfs/rtems-rfs-buffer.c: Block
	devices are now block device nodes and not character device
	nodes.

2010-02-19	Chris Johns <chrisj@rtems.org>

	* libblock/src/diskdevs.c: Create the devices as block devices.

	* libmisc/shell/main_debugrfs.c, libmisc/shell/main_mkrfs.c,
	libmisc/shell/main_mount_rfs.c: New.

	* libmisc/shell/main_msdosfmt.c: Change the command to mkdos and
	alias the old name.

	* libmisc/shell/shellconfig.h, libmisc/Makefile.am: Add RFS
	support.

	* libfs/src/rfs/rtems-rfs-shell.c,
	libfs/src/rfs/rtems-rfs-shell.h: Move the format command code into
	the shell file.
	
2010-02-18	Chris Johns <chrisj@rtems.org>

	* libfs/src/rfs/rtems-rfs-bitmaps.c,
	libfs/src/rfs/rtems-rfs-bitmaps.h,
	libfs/src/rfs/rtems-rfs-bitmaps-ut.c,
	libfs/src/rfs/rtems-rfs-block.c, libfs/src/rfs/rtems-rfs-block.h,
	libfs/src/rfs/rtems-rfs-block-pos.h,
	libfs/src/rfs/rtems-rfs-buffer-bdbuf.c,
	libfs/src/rfs/rtems-rfs-buffer.c,
	libfs/src/rfs/rtems-rfs-buffer-devio.c,
	libfs/src/rfs/rtems-rfs-buffer.h, libfs/src/rfs/rtems-rfs-data.h,
	libfs/src/rfs/rtems-rfs-dir.c, libfs/src/rfs/rtems-rfs-dir.h,
	libfs/src/rfs/rtems-rfs-dir-hash.c,
	libfs/src/rfs/rtems-rfs-dir-hash.h,
	libfs/src/rfs/rtems-rfs-file.c, libfs/src/rfs/rtems-rfs-file.h,
	libfs/src/rfs/rtems-rfs-file-system.c,
	libfs/src/rfs/rtems-rfs-file-system-fwd.h,
	libfs/src/rfs/rtems-rfs-file-system.h,
	libfs/src/rfs/rtems-rfs-format.c,
	libfs/src/rfs/rtems-rfs-format.h, libfs/src/rfs/rtems-rfs-group.c,
	libfs/src/rfs/rtems-rfs-group.h, libfs/src/rfs/rtems-rfs.h,
	libfs/src/rfs/rtems-rfs-inode.c, libfs/src/rfs/rtems-rfs-inode.h,
	libfs/src/rfs/rtems-rfs-link.c, libfs/src/rfs/rtems-rfs-link.h,
	libfs/src/rfs/rtems-rfs-mutex.c, libfs/src/rfs/rtems-rfs-mutex.h,
	libfs/src/rfs/rtems-rfs-rtems.c,
	libfs/src/rfs/rtems-rfs-rtems-dev.c,
	libfs/src/rfs/rtems-rfs-rtems-dir.c,
	libfs/src/rfs/rtems-rfs-rtems-file.c,
	libfs/src/rfs/rtems-rfs-rtems.h,
	libfs/src/rfs/rtems-rfs-rtems-utils.c,
	libfs/src/rfs/rtems-rfs-shell.c, libfs/src/rfs/rtems-rfs-shell.h,
	libfs/src/rfs/rtems-rfs-trace.c, libfs/src/rfs/rtems-rfs-trace.h:
	New.

	* Makefile.am, preinstall.am, libfs/Makefile.am,
	wrapup/Makefile.am: Updated with the RFS support.

	* libfs/README: Updated after 10 years.

	* libblock/src/flashdisk.c, libblock/src/nvdisk.c,
	libblock/src/ramdisk-driver.c: Updated to the new error reporting
	in libblock.
	
	* libmisc/shell/main_ls.c, libmisc/shell/print-ls.c: Fix printing
	the size in long mode.

	* libnetworking/nfs/bootp_subr.c,
	libnetworking/rtems/rtems_bootp.c,
	libnetworking/rtems/rtems_bsdnet_internal.h: Return the BOOTP/DHCP
	to the forever behaviour of 4.9 with the ability to call BOOTP and
	control the process if required.
	
2010-02-16	Chris Johns <chrisj@rtems.org>

	* libcsupport/src/open.c: Tighten the open handler check.

2010-02-16	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libcsupport/src/rmdir.c, libcsupport/src/unlink.c: Free the
	allocated pathloc.
	
2010-02-01	Chris Johns <chrisj@rtems.org>

	* libmisc/shell/fts.c: Updated to the latest NetBSD version to
	resolve heap allocation bugs.
	* libmisc/shell/main_ls.c, libmisc/shell/print-ls.c: Fix printing
	size bugs.
	* libnetworking/rtems/mkrootfs.c: Fix byte order bug when creating
	the loopback interface address.
	
2010-01-28	Sebastian Huber <sebastian.huber@embedded-brains.de>
	* libblock/src/bdbuf.c: Fixed invalid chain extract.

2010-01-26	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libblock/include/rtems/bdbuf.h: Documentation.  New states
	RTEMS_BDBUF_STATE_ACCESS_PURGED and RTEMS_BDBUF_STATE_TRANSFER_PURGED.
	Declare rtems_bdbuf_purge_dev() and rtems_bdbuf_purge_major().
	* libblock/src/bdbuf.c: Implemented ability to purge buffers from the
	cache depending on the device identifier or major number.  See test
	"libtests/block10".

2010-01-26	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* score/src/userextaddapiset.c: Removed file.
	* score/Makefile.am: Update for removed file.
	* sapi/include/rtems/extension.h, sapi/src/extensioncreate.c,
	score/include/rtems/score/userext.h: The function
	_User_extensions_Add_API_set is now inline.  Added const qualifier to
	extension table parameter in extension create and set functions.

2010-01-20	Joel Sherrill <joel.sherrill@oarcorp.com>

	Coverity Id 30
	* libmisc/shell/hexdump-parse.c:

2010-01-20	Joel Sherrill <joel.sherrill@oarcorp.com>

	Coverity Id 1
	* libmisc/shell/fts.c:

2010-01-20	Joel Sherrill <joel.sherrill@oarcorp.com>

	Coverity Id 7
	Coverity Id 8
	* libblock/src/bdpart.c: Verify libblock is really set after
	rtems_bdbuf_read() before using it.

2010-01-20	Joel Sherrill <joel.sherrill@oarcorp.com>

	Coverity Id 5
	* score/src/objectextendinformation.c: Check object_blocks for NULL to
	determine when to allocate object block table.

2010-01-20	Joel Sherrill <joel.sherrill@oarcorp.com>

	Coverity Id 27
	* libmisc/fsmount/fsmount.c: Ensure calloc() returns memory and then we
	do not have to check null when freeing it. Coverity noted it was used
	before being checked for NULL.

2010-01-20	Joel Sherrill <joel.sherrill@oarcorp.com>

	Coverity Id 3
	* libmisc/shell/shell.c: Remove dead code path and fix warning.

2010-01-20	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/shell/hexdump-parse.c: Fix uninitialized warning.

2010-01-20	Joel Sherrill <joel.sherrill@oarcorp.com>

	Coverity Id 30
	* libmisc/shell/hexdump-parse.c: Add free(pr) before returning.

2010-01-20	Chris Johns <chrisj@rtems.org>

	Coverity Id 6
	* libmisc/shell/hexdump-parse.c: Modify conditional to avoid NULL
	dereference.

2010-01-20	Chris Johns <chrisj@rtems.org>

	Coverity Id 9
	* libmisc/shell/main_ls.c: Modify conditional to avoid NULL
	dereference.

2010-01-19	Joel Sherrill <joel.sherrill@oarcorp.com>

	Coverity Id 10
	* libblock/src/bdbuf.c: Rework loop conditional to avoid potential use
	of NULL pointer.

2010-01-19	Joel Sherrill <joel.sherrill@oarcorp.com>

	Coverity Id 23
	* libmisc/monitor/mon-monitor.c: Add fclose() of file.

2010-01-19	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libblock/src/ide_part_table.c: Another error path without a
	free(sector).

2010-01-19	Joel Sherrill <joel.sherrill@oarcorp.com>

	Coverity Id 28
	* libcsupport/src/termios.c: Set then unconditionally to avoid
	potential paths where it might be used uninitialized. Recommended by
	Eric Norum.

2010-01-19	Joel Sherrill <joel.sherrill@oarcorp.com>

	Coverity Id 18
	* libmisc/shell/fts.c: Add free(parent) to correct leak.

2010-01-19	Joel Sherrill <joel.sherrill@oarcorp.com>

	Coverity Id 24
	* libblock/src/ide_part_table.c: Initialize sector to NULL and add
	free(sector) on error return path from get_sector() to fix potential
	leak.

2010-01-19	Joel Sherrill <joel.sherrill@oarcorp.com>

	Coverity Id 25
	* libblock/src/ide_part_table.c: Add free(sector) on error return path
	to fix leak.

2010-01-19	Joel Sherrill <joel.sherrill@oarcorp.com>

	Coverity Id 5
	* score/src/objectinitializeinformation.c: Do not modify maximum
	parameter. Clean up and simplify code. This should help the Coverity
	path analysis to avoid reporting issues.

2010-01-19	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libfs/src/imfs/imfs.h, libfs/src/imfs/imfs_creat.c,
	libfs/src/imfs/imfs_initsupp.c, libfs/src/imfs/imfs_link.c,
	libfs/src/imfs/imfs_load_tar.c, libfs/src/imfs/imfs_mknod.c,
	libfs/src/imfs/imfs_symlink.c: Create special helper method for
	creating the j-node for the root directory. This lets us assume that
	every j-node created otherwise has a parent node.

2010-01-18	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libblock/include/rtems/bdbuf.h: Documentation.  Renamed
	RTEMS_BDBUF_STATE_EMPTY in RTEMS_BDBUF_STATE_FREE.  Renamed
	RTEMS_BDBUF_STATE_FRESH in RTEMS_BDBUF_STATE_EMPTY.  Renamed
	RTEMS_BDBUF_STATE_ACCESS in RTEMS_BDBUF_STATE_ACCESS_CACHED.  New
	state RTEMS_BDBUF_STATE_ACCESS_EMPTY.  Removed error field from
	rtems_bdbuf_buffer.
	* libblock/include/rtems/blkdev.h:  Documentation.  Removed error
	field from block device IO control.
	* libblock/src/bdbuf.c: Update for block device API change.  New block
	device driver error policies.  A transfer error or a write to a
	deleted disk will invalidate the block data now.  See test
	"libtests/block09".  A get and release sequence will no longer trigger
	a disk write.
	* libblock/src/flashdisk.c, libblock/src/nvdisk.c,
	libblock/src/ramdisk-driver.c: Update for block device API change.

2010-01-18	Joel Sherrill <joel.sherrill@oarcorp.com>

	Coverity Id 27
	* libblock/src/ramdisk-config.c: Coverity notes that the
	calloc() is a resource leak.  This is allocating memory for
	a RAM disk which will persist for the life of the system. RTEMS
	has no "de-initialize" driver call so there is no corresponding
	free(r).  Coverity is correct that it is never freed but this is
	not a problem.

2010-01-18	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/stackchk/check.c: Fix warning.

2010-01-18	Joel Sherrill <joel.sherrill@oarcorp.com>

	Coverity Id 12
	* libfs/src/imfs/memfile.c: Check for NULL return value.

2010-01-18	Joel Sherrill <joel.sherrill@oarcorp.com>

	Coverity Id 19
	Coverity Id 20
	Coverity Id 21
	* libfs/src/imfs/imfs_link.c, libfs/src/imfs/imfs_load_tar.c,
	libfs/src/imfs/imfs_mknod.c: Add comment to explain allocation is
	for life of file, not scope of method.

2010-01-18	Joel Sherrill <joel.sherrill@oarcorp.com>

	Coverity Id 12
	Coverity Id 13
	Coverity Id 14
	Coverity Id 15
	* libmisc/stackchk/check.c: Rewrote loop to avoid possible buffer
	overruns when the pattern area size is not a multiple of 16.  There
	were no current ports impacted by this but better to be safe.

2010-01-18	Joel Sherrill <joel.sherrill@oarcorp.com>

	Coverity Id 22
	* libfs/src/imfs/imfs_symlink.c: Add comment to explain why this
	is not a resource leak.

2010-01-18	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libfs/src/imfs/imfs_symlink.c: Spacing.

2009-12-28	Shrikant Gaikwad <n3oo3n@gmail.com>

	* cpukit/libfs/src/pipe/pipe.c Restructured code to remove the
	goto statements.

2009-12-21	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libnetworking/lib/ftpfs.c: Use EINVAL not EBADRQC.

2009-12-18	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/shell/login_prompt.c: Switch from non-canonical mode with
	timeout (Case C) to blocking IO waiting for single character on
	login. In Case C mode, you cannot tell EOF from no data available.
	This means we cannot tell when a telnet connection is dropped. This
	was changed from 4.9 and resulted in breakage.

2009-12-01	Sebastian Huber <sebastian.huber@embedded-brains.de>

	PR 1474
	* libblock/include/rtems/diskdevs.h, libblock/src/bdbuf.c,
	libblock/src/blkdev.c: Pass only physical disc devices to the block
	device driver.  Reject direct usage of RTEMS_BLKIO_REQUEST though an
	IO control.  Renamed and removed disk device structure access methods.
	* libblock/src/flashdisk.c, libblock/src/nvdisk.c,
	libblock/src/ramdisk-driver.c: Update for block device API change.

2009-12-17	Joel Sherrill <joel.sherrill@oarcorp.com>

	* rtems/include/rtems/rtems/clock.h: Eliminate unused type
	rtems_clock_time_value.

2009-12-17	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/src/termios.c, libfs/src/dosfs/msdos_format.c,
	libfs/src/nfsclient/src/nfs.c, libfs/src/pipe/fifo.c,
	libnetworking/lib/rtems_bsdnet_ntp.c, libnetworking/lib/tftpDriver.c,
	libnetworking/rtems/rtems_glue.c, libnetworking/rtems/rtems_select.c:
	Eliminate uses of deprecated rtems_clock_get() and replace with
	properly typed routine.

2009-12-17	Joel Sherrill <joel.sherrill@oarcorp.com>

	* telnetd/telnetd.c: Honor configuration setting for telnet daemon
	stack size.

2009-12-15	Glenn Humphrey <glenn.humphrey@OARcorp.com>

	* rtems/include/rtems/rtems/dpmem.h, rtems/include/rtems/rtems/event.h,
	rtems/include/rtems/rtems/message.h,
	rtems/include/rtems/rtems/part.h,
	rtems/include/rtems/rtems/ratemon.h,
	rtems/include/rtems/rtems/region.h,
	rtems/include/rtems/rtems/semmp.h,
	rtems/include/rtems/rtems/signal.h,
	rtems/include/rtems/rtems/signalmp.h,
	rtems/include/rtems/rtems/tasks.h, rtems/include/rtems/rtems/timer.h,
	rtems/src/dpmemcreate.c, rtems/src/dpmemdelete.c,
	rtems/src/dpmemexternal2internal.c, rtems/src/dpmemident.c,
	rtems/src/dpmeminternal2external.c, rtems/src/eventsend.c,
	rtems/src/msgqbroadcast.c, rtems/src/msgqcreate.c,
	rtems/src/msgqdelete.c, rtems/src/msgqflush.c,
	rtems/src/msgqgetnumberpending.c, rtems/src/msgqident.c,
	rtems/src/msgqreceive.c, rtems/src/msgqsend.c,
	rtems/src/msgqurgent.c, rtems/src/partcreate.c,
	rtems/src/partdelete.c, rtems/src/partgetbuffer.c,
	rtems/src/partident.c, rtems/src/partreturnbuffer.c,
	rtems/src/ratemoncancel.c, rtems/src/ratemoncreate.c,
	rtems/src/ratemondelete.c, rtems/src/ratemongetstatistics.c,
	rtems/src/ratemongetstatus.c, rtems/src/ratemonident.c,
	rtems/src/ratemonperiod.c, rtems/src/ratemonresetstatistics.c,
	rtems/src/regioncreate.c, rtems/src/regiondelete.c,
	rtems/src/regionextend.c, rtems/src/regiongetfreeinfo.c,
	rtems/src/regiongetinfo.c, rtems/src/regiongetsegment.c,
	rtems/src/regiongetsegmentsize.c, rtems/src/regionident.c,
	rtems/src/regionresizesegment.c, rtems/src/regionreturnsegment.c,
	rtems/src/signalmp.c, rtems/src/signalsend.c, rtems/src/taskcreate.c,
	rtems/src/taskdelete.c, rtems/src/taskgetnote.c,
	rtems/src/taskident.c, rtems/src/taskissuspended.c,
	rtems/src/taskrestart.c, rtems/src/taskresume.c,
	rtems/src/tasksetnote.c, rtems/src/tasksetpriority.c,
	rtems/src/tasksuspend.c, rtems/src/timercancel.c,
	rtems/src/timercreate.c, rtems/src/timerdelete.c,
	rtems/src/timerfireafter.c, rtems/src/timerfirewhen.c,
	rtems/src/timergetinfo.c, rtems/src/timerident.c,
	rtems/src/timerreset.c, rtems/src/timerserverfireafter.c,
	rtems/src/timerserverfirewhen.c: Changed Objects_Id to rtems_id in
	the public API.

2009-12-11	Ralf Corsépius <ralf.corsepius@rtems.org>

	PR 1483/cpukit
	* include/rtems/pci.h: Rename pci_config into rtems_pci_config_t.

2009-12-10	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1482
	* posix/src/timersettime.c: Exit dispatching critical section.

2009-12-10	Joel Sherrill <joel.sherrill@oarcorp.com>

	PR 1480/cpukit
	* rtems/src/ratemonperiod.c: Use _Rate_monotonic_Update_statistics()
	when period is expired, not _Rate_monotonic_Initiate_statistics().
	The cound of missed periods was never updated.

2009-12-10	Ralf Corsépius <ralf.corsepius@rtems.org>

	* telnetd/pty.c:
	Reflect changes to rtems_termios_callbacks->write.

2009-12-10	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libcsupport/include/rtems/libio.h: Change termios-write to ssize_t
	write(...., size_t).

2009-12-10	Ralf Corsépius <ralf.corsepius@rtems.org>

	* posix/Makefile.am: Unconditionally build src/sigprocmask.c.
	* posix/src/sigprocmask.c: Provide stub if RTEMS_POSIX_API 
	is disabled.

2009-12-08	Glenn Humphrey <glenn.humphrey@OARcorp.com>

	* rtems/include/rtems/rtems/ratemon.h, rtems/src/ratemongetstatus.c,
	rtems/src/ratemonperiod.c: Factored out common code to ensure
	consistent behavior between rtems_rate_monotonic_get_status and
	rtems_rate_monotonic_report_statistics.

2009-12-07	Cindy Cicalese <cicalese@mitre.org>

	PR 1477/cpukit
	* score/src/objectsetname.c: Ensure destination is NULL terminated.
	String copy was not getting the NULL.

2009-12-06	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/sys/uio.h: Include <sys/types.h>.
	Use ssize_t for uio_resid in struct uio (From FreeBSD).

2009-12-04	Ralf Corsépius <ralf.corsepius@rtems.org>

	* posix/Makefile.am: Unconditionally build
	posix/src/sigaddset.c, posix/src/sigdelset.c,
	posix/src/sigfillset.c, posix/src/sigemptyset.c,
	posix/src/sigismember.c.

2009-12-04	Ralf Corsépius <ralf.corsepius@rtems.org>

	* posix/src/sigaddset.c, posix/src/sigdelset.c,
	posix/src/sigemptyset.c, posix/src/sigfillset.c,
	posix/src/sigismember.c, posix/src/sigprocmask.c:
	Remove unnecessary includes.

2009-12-04	Ralf Corsépius <ralf.corsepius@rtems.org>

	* posix/Makefile.am: Unconditionally install
	posix/include/rtems/posix/sigset.h.
	* posix/include/rtems/posix/psignal.h: Reflect having split out
	posix/include/rtems/posix/sigset.h.
	* posix/include/rtems/posix/sigset.h: New (Split out from
	posix/include/rtems/posix/psignal.h).

2009-12-04	Ralf Corsépius <ralf.corsepius@rtems.org>

	* posix/Makefile.am: Unconditionally build src/wait.c src/waitpid.c.
	* posix/Makefile.am: Unconditionally build src/fork.c, src/vfork.c.

2009-12-04	Ralf Corsépius <ralf.corsepius@rtems.org>

	* configure.ac, posix/Makefile.am, wrapup/Makefile.am:
	Eliminate AM_CONDITIONAL LIBPOSIX.

2009-12-02	Glenn Humphrey <glenn.humphrey@OARcorp.com>

	* libcsupport/src/__times.c, libmisc/cpuuse/cpuusagedata.c,
	libmisc/cpuuse/cpuusagereport.c, libmisc/cpuuse/cpuusagereset.c,
	rtems/include/rtems/rtems/types.h, rtems/src/ratemongetstatistics.c,
	rtems/src/ratemonreportstatistics.c, score/src/threaddispatch.c,
	score/src/threadinitialize.c, score/src/threadtickletimeslice.c:
	Updated copyright line.

2009-12-02	Glenn Humphrey <glenn.humphrey@OARcorp.com>

	* configure.ac, libcsupport/src/__times.c,
	libmisc/cpuuse/cpuusagedata.c, libmisc/cpuuse/cpuusagereport.c,
	libmisc/cpuuse/cpuusagereset.c, rtems/include/rtems/rtems/ratemon.h,
	rtems/include/rtems/rtems/types.h, rtems/src/ratemongetstatistics.c,
	rtems/src/ratemongetstatus.c, rtems/src/ratemonperiod.c,
	rtems/src/ratemonreportstatistics.c,
	score/include/rtems/score/thread.h, score/src/threaddispatch.c,
	score/src/threadinitialize.c, score/src/threadtickletimeslice.c:
	Changed the configuration of statistics granularity to use just one
	define.

2009-12-02	Ralf Corsépius <ralf.corsepius@rtems.org>

	* shttpd/def.h: Use __m32c__ for m32c.

2009-12-02	Ralf Corsépius <ralf.corsepius@rtems.org>

	* shttpd/def.h: Shrink default URI_MAX to 32767.
	Add special cases for sizeof(size_t) < 2.

2009-12-01	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libmisc/stringto/stringto.h, libmisc/stringto/stringto_template.h:
	Tidy up as part of adding new test.

2009-12-01	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/Makefile.am: Split no_posix.c so using sleep() does not
	pull in kill() stubs.
	* libcsupport/src/kill_noposix.c, libcsupport/src/sleep_noposix.c:
	New files.
	* libcsupport/src/no_posix.c: Removed.

2009-12-01	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libcsupport/src/vprintk.c: Fixed usage of va_arg().

2009-11-30	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/shell/login_prompt.c: Fix problem where timeout on login
	prompt at console results in tight loop repeating login prompt.

2009-11-30	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* score/src/threaddelayended.c: Clear only the states that are used to
	block until someone calls _Thread_Delay_ended().
 
2009-11-30	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* score/include/rtems/score/protectedheap.h,
	score/src/pheapallocate.c: Changed base implementation of protected
	heap allocations to use _Heap_Allocate_aligned_with_boundary().
	* libcsupport/include/rtems/malloc.h, libcsupport/src/rtems_malloc.c:
	Check system state. Process deferred frees. Renamed rtems_malloc() in
	rtems_heap_allocate_aligned_with_boundary().
	* score/src/pheapallocatealigned.c: Removed file.
	* score/Makefile.am: Update for removed file.

2009-11-30	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libblock/include/rtems/bdbuf.h: Documentation.
	* libblock/include/rtems/blkdev.h: Avoid designated initializers for
	C++ compatibility.
	* libblock/src/bdbuf.c: Fixed invalid state transition from FRESH to
	CACHED.
	* libblock/src/ide_part_table.c: Free memory in case of an error.

2009-11-30	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libcsupport/src/vprintk.c: Fixed output of unsigned integers.
	Changed type of boolean variables to bool.  Use unsigned integer type
	for radix and width parameters.

2009-11-30	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* score/include/rtems/score/chain.h, sapi/include/rtems/chain.h: Added
	defines for initialization of empty chains. 

2009-11-30	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libcsupport/src/termios.c: Obtain output semaphore before drain
	output during close to prevent an infinite output drain loop.

2009-11-30	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libmisc/shell/shell.c: Added format string to fprintf().

2009-11-30	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* rtems/include/rtems/rtems/timer.h: Added timer server control block
	Timer_server_Control.  Removed _Timer_Server thread pointer. Added
	_Timer_server pointer to the default timer server control block.
	* rtems/src/rtemstimer.c, rtems/src/timerreset.c,
	rtems/src/timerserverfireafter.c, rtems/src/timerserverfirewhen.c:
	Update for changes above.
	* rtems/src/timerserver.c: Rework of the timer server implementation.
	It is now possible to insert timers without the help of the timer
	server thread.  This reduces the need for a thread dispatch.  The
	timer server can now block on any resource type.  Timer callbacks can
	even wait for time.

2009-11-23	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/shell/shell.c: Always duplicate the environment passed to us
	because we will delete it when the shell exits. If we do not
	duplicate it, we could end up freeing memory which was not allocated
	from the heap or double freeing it.

2009-11-23	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/shell/login_prompt.c: Properly process EOF and do not depend
	on ungetc() to propagate the status back.

2009-11-23	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/inline/rtems/score/thread.inl: Eliminate unused variable and
	code.

2009-11-23	Joel Sherrill <joel.sherrill@oarcorp.com>

	PR 1460/cpukit
	* rtems/include/rtems/rtems/object.h,
	rtems/src/rtemsobjectapimaximumclass.c,
	rtems/src/rtemsobjectgetapiclassname.c,
	rtems/src/rtemsobjectgetapiname.c,
	rtems/src/rtemsobjectgetclassinfo.c,
	rtems/src/rtemsobjectidapimaximum.c,
	rtems/src/rtemsobjectidapiminimum.c, rtems/src/rtemsobjectidgetapi.c,
	rtems/src/rtemsobjectidgetclass.c, rtems/src/rtemsobjectidgetindex.c,
	rtems/src/rtemsobjectidgetnode.c: Change return type on methods
	accessing portions of RTEMS Ids to int. This allows -1 to be return
	on error.

2009-11-23	Joel Sherrill <joel.sherrill@oarcorp.com>

	* mghttpd/mongoose.c: crypto_sw table is not used when SSL is disabled.
	RTEMS does not have flockfile/funlockfile.

2009-11-22	Ralf Corsépius <ralf.corsepius@rtems.org>

	* Makefile.am: Add mghttpd.

2009-11-18	Thomas Doefler <Thomas.Doerfler@embedded-brains.de>

	* libblock/include/rtems/blkdev.h, libblock/include/bdbuf.h,
	libblock/src/bdbuf.c: various changes

2009-11-19	Ralf Corsépius <ralf.corsepius@rtems.org>

	* aclocal/check-networking.m4: Do NOT disable networking for the
	avr and the m32c.

2009-11-19	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libmisc/shell/hexdump-odsyntax.c: Remove special casing
	the h8300, avr, sh2e.

2009-11-19	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libcsupport/src/malloc_boundary.c: Avoid implicit type cast
	(https://www.rtems.org/bugzilla/show_bug.cgi?id=1472#c1).

2009-11-18	Chris Johns <chrisj@rtems.org>

	* libmisc/shell/main_getenv.c, libmisc/shell/main_setenv.c,
	libmisc/shell/main_unsetenv.c: New. The shell can now play with
	environment variables.
	* libmisc/Makefile.am, libmisc/shell/shellconfig.h: Add setenv,
	getenv, and unsetenv to the shell.

2009-11-17	Ralf Corsépius <ralf.corsepius@rtems.org>

	* configure.ac: Add mghttpd/Makefile.
	* mghttpd/mongoose.c: Various 16bit fixes.
	Add HAVE_CONFIG_H.
	Add HAVE_SYS_MMAN_H HAVE_DLFCN_H.
	Convert to unix encoding.

2009-11-17	Ralf Corsépius <ralf.corsepius@rtems.org>

	* mghttpd/Makefile.am: New.
	* mghttpd/mongoose.c, mghttpd/mongoose.h, mghttpd/mongoose.1:
	Import from svn http://mongoose.googlecode.com/svn/trunk (r477).

2009-11-13	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libmisc/capture/capture-cli.c: Cast pointer to intptr_t to
	print it (Casting to int32_t is wrong).

2009-11-13	Ralf Corsépius <ralf.corsepius@rtems.org>

	* telnetd/telnetd.c (telnetd_dflt_spawn): Adjust prototype. 

2009-11-12	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libblock/include/rtems/blkdev.h, libblock/src/blkdev.c: Changed set
	and get IO controls to use the buffer argument for data exchange.

2009-11-11	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libcsupport/Makefile.am, libcsupport/include/rtems/malloc.h,
	libcsupport/src/rtems_malloc.c: New function rtems_malloc().

2009-11-11	Jennifer Averett <jennifer.averett@OARcorp.com>

	PR 1471/cpukit
	* libmisc/cpuuse/cpuusagereport.c: Rework statement to ensure 64-bit
	multiplication is used to avoid overflow with intermediate value.

2009-11-10	Jennifer Averett <jennifer.averett@OARcorp.com>

	PR 1468/cpukit
	* score/src/timespecdividebyinteger.c: Rework statement to ensure
	64-bit multiplication is used.

2009-11-10	Jennifer Averett <jennifer.averett@OARcorp.com>

	PR 1462/cpukit
	* rtems/include/rtems/rtems/ratemon.h, rtems/src/ratemonperiod.c: Fine
	tune previous patch after analysis in application.

2009-11-09	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libfs/src/dosfs/msdos_format.c: Rework to avoid overflow on 16-bit
	targets.

2009-11-09	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/src/open_dev_console.c: Use constant numbers to avoid
	overflow when shifting on 16-bit targets.

2009-11-09	Joel Sherrill <joel.sherrill@oarcorp.com>

	* sapi/src/fatal.c: Formatting.

2009-11-09	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/inline/rtems/score/coremutex.inl,
	score/inline/rtems/score/coresem.inl: Eliminate use of local
	variable. This local variable causes unused variable warnings
	on some ports.

2009-11-09	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/include/rtems/score/thread.h: Revert accidentally committed
	change. It is possible that _Thread_Dispatch_disable_level can be an
	8-bit variable but this impacts assembly and must be carefully
	considered.

2009-11-08	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libmisc/capture/capture.h (RTEMS_CAPTURE_CONTROL_FROM_MASK): 
	Use UINT32_C(1) to avoid overflow in implict typecast on 16bit
	targets.

2009-11-03	Ralf Corsépius <ralf.corsepius@rtems.org>

	* itron/src/chg_pri.c, itron/src/cre_tsk.c,
	itron/src/eventflags.c, itron/src/fmempool.c,
	itron/src/frsm_tsk.c, itron/src/itroninittasks.c,
	itron/src/itronsem.c, itron/src/mbox.c, itron/src/msgbuffer.c,
	itron/src/port.c, itron/src/rsm_tsk.c, itron/src/snd_mbx.c,
	itron/src/task.c, itron/src/vmempool.c: Eliminate TRUE/FALSE in
	favor of true/false.

2009-11-02	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libblock/src/bdbuf.c: Cast bdbuf->state to int32_t
	before shifting << 16 (Can not shift an enum by << 16 on 16bit).

2009-11-02	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libfs/src/dosfs/msdos.h, libfs/src/dosfs/msdos_conv.c,
	libfs/src/dosfs/msdos_misc.c: Use uint16_t instead of 
	"unsigned short" to circumvent warnings on 16bit targets.

2009-11-02	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libblock/src/bdbuf.c: Fixed buffer recycling.  See test
	"libtests/block03".

2009-11-02	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libblock/src/bdbuf.c: Wake-up access waiters after sync.  See test
	"libtests/block04".

2009-10-30	Glenn Humphrey <glenn.humphrey@oarcorp.com>

	PR pr1462/cpukit
	* rtems/include/rtems/rtems/ratemon.h, rtems/src/ratemongetstatus.c,
	rtems/src/ratemonperiod.c, rtems/src/ratemontimeout.c,
	score/include/rtems/score/thread.h: Fix bugs in rate monotonic
	statistics.

2009-10-30	Joel Sherrill <joel.sherrill@oarcorp.com>

	* rtems/src/semcreate.c: Fix mismatched brace in multiprocessing code.

2009-10-30	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libblock/src/bdbuf.c: Fixed group usage counting.  See test
	"libtests/block02".

2009-10-30	Ralf Corsépius <ralf.corsepiu@rtems.org>

	* aclocal/gcc-sanity.m4: New.
	* configure.ac: Add RTEMS_CHECK_GCC_SANITY.

2009-10-29	Till Straumann <strauman@slac.stanford.edu>

	* score/src/isr.c: Check if CPU defined _CPU_Interrupt_stack_setup()
	macro hook for setting up the interrupt stack (alignment, reserving
	space etc.) after the framework allocates it.

2009-10-28	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libblock/include/rtems/bdbuf.h: Reorderd AVL node fields to save
	space.
	* libblock/src/bdbuf.c: Fixed printf() formats. New structure for
	waiters synchronization. Added BDBUF_INVALID_DEV define. New error
	handling in rtems_bdbuf_init().
	* libblock/src/bdpart.c, libblock/src/blkdev.c: Release disk in case
	of an error.

2009-10-28     Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libblock/include/rtems/ramdisk.h, libblock/src/ramdisk-driver.c:
	Aded ramdisk_register().

2009-10-23	Ralf Corsépius <ralf.corsepius@rtems.org>

	* aclocal/prog-cc.m4: Remove RTEMS_CFLAGS.
	Rework CFLAGS setup.
	* automake/compile.am: Remove RTEMS_CFLAGS.

2009-10-22	Ralf Corsépius <ralf.corsepius@rtems.org>

	* score/cpu/Makefile.am: Update DIST_SUBDIRS.

2009-10-22	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libblock/include/rtems/flashdisk.h: Use UINT32_C consts to 
	avoid implicit int-cast overflows in RTEMS_FDISK_KBYTES.

2009-10-22	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libcsupport/include/rtems/error.h: Use ordinal constants for
	RTEMS_ERROR_ERRNO, RTEMS_ERROR_PANIC, RTEMS_ERROR_ABORT to avoid
	implicit constant conversion overflows on 16bit-int targets.

2009-10-22	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libmisc/uuid/uuid_time.c: Add cast to uint32_t to allow 16bit
	shift on 16bit-int targets.
	* libmisc/uuid/gen_uuid.c: Add HAVE_CONFIG_H guard.
	Include <limits.h>. Shift pid_t's by (sizeof(pid_t)*CHAR_BIT)>>1 
	instead of hard-coded 16 to permit building on non 16bit-int
	targets.

2009-10-22	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libmisc/shell/extern-ls.h: Remove DAYSPERNYEAR, SECSPERDAY.
	* libmisc/shell/print-ls.c: Add DAYSPERNYEAR, SECSPERDAY.
	Add casts to time_t on constants in DAYSPERNYEAR, SECSPERDAY for
	16bit-int targets.

2009-10-22	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libmisc/shell/dd-args.c: Use uint_least32_t instead of u_int,
	force 32bit constants to make code functional on 16bit-int targets.

2009-10-22	Ralf Corsépius <ralf.corsepius@rtems.org>

	* configure.ac: Remove -fasm.

2009-10-21	Till Straumann <strauman@slac.stanford.edu>

	* sapi/include/rtems/config.h: Fixed typos (wrong case) in macro
	expansion for rtems_configuration_get_device_driver_table()
	and rtems_configuration_get_user_extension_table()

2009-10-21     Sebastian Huber <sebastian.huber@embedded-brains.de>

	* include/rtems/irq-extension.h: Removed vector argument from
	rtems_interrupt_handler type.

2009-10-20	Till Straumann <strauman@slac.stanford.edu>

	* score/cpu/i386/cpu.c, score/cpu/i386/cpu.h: let the default
	exception handler print a stack trace.

2009-10-20	Till Straumann <strauman@slac.stanford.edu>

	PR1424/networking
	* libnetworking/net/rtsock.c: (merged from BSD) copy information
	out to user buffer.

2009-10-20     Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libblock/include/rtems/ramdisk.h: Documentation.
	* libblock/src/ramdisk-driver.c: Compile trace support conditionally.

2009-10-20	Chris Johns <chrisj@rtems.org>

	* libnetworking/rtems/rtems_mii_ioctl_kern.c: Added IFM_ACTIVE and
	IFM_AVALID to the status for a link up. These are the supported
	but in the BSD stack. Before IFM_LINK_OK was set and this is a
	spare bit.

2009-10-19     Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libblock/include/rtems/diskdevs.h: Documentation.  Added field to
	rtems_disk_device.
	* libblock/include/rtems/blkdev.h: New request code
	RTEMS_BLKIO_DELETED.
	* libblock/src/diskdevs.c: Major rewrite.  Changed the way disks are
	deleted.  Disks will be now deleted if they are not in use or upon
	last release.  The IO control handler will be invoked if a physical
	disk is deleted with the RTEMS_BLKIO_DELETED request code.  Logical
	disks increase now the usage count of the associated physical disk.

2009-10-16     Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libblock/src/ramdisk.c: Removed file. 
	* libblock/src/ramdisk-config.c, libblock/src/ramdisk-driver.c,
	libblock/src/ramdisk-init.c: New files.
	* libblock/include/rtems/ramdisk.h: Split up RAM disk functions to
	support static and runtime configuration.
	* libblock/Makefile.am: Update.

2009-10-14	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libcsupport/src/no_libc.c: Remove.
	* libcsupport/Makefile.am: Remove no_libc.c.
	* libcsupport/src/newlibc_reent.c: Eliminate RTEMS_UNIX.
	* libcsupport/src/newlibc_exit.c: Eliminate RTEMS_UNIX.
	* libcsupport/src/base_fs.c: Eliminate RTEMS_UNIX.
	* libcsupport/src/stat.c: Eliminate RTEMS_UNIX.
	* libmisc/monitor/mon-editor.c: Eliminate RTEMS_UNIX.
	* libcsupport/include/rtems/libcsupport.h: Remove RTEMS_UNIX, hpux.
	Fix extern "C" {}.
	* libfs/src/imfs/ioman.c: Remove RTEMS_UNIX, __linux__.

2009-10-14	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/src/threadhandler.c: Remove comment mentioning unix port.

2009-10-14	Ralf Corsépius <ralf.corsepius@rtems.org>

	* wrapup/Makefile.am: Remove UNIX.
	* configure.ac: Remove UNIX AM_CONDITIONAL.
	* libfs/Makefile.am: Unconditionally build src/pipe/fifo.c
	src/pipe/pipe.c src/pipe/pipe.h.
	* libblock/Makefile.am: Unconditionally build libblock.
	* Makefile.am: Unconditional build libblock.
	* libfs/src/imfs/imfs_unixstub.c, libfs/src/devfs/devfs_unixstub.c:
	Remove (unused).
	* libfs/Makefile.am: Remove libfs/src/imfs/imfs_unixstub.c,
	libfs/src/devfs/devfs_unixstub.c.

2009-10-14	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libcsupport/src/unixlibc.c, libcsupport/src/unixlibc_io.c,
	libcsupport/src/hosterr.c: Remove (unused).
	* libcsupport/Makefile.am: Remove libcsupport/src/unixlibc.c,
	libcsupport/src/unixlibc_io.c, libcsupport/src/hosterr.c.

2009-10-14	Ralf Corsépius <ralf.corsepius@rtems.org>

	* aclocal/sysv-ipc.m4: Remove (unused).
	* configure.ac: Remove RTEMS_UNIX, RTEMS_UNIXLIB.

2009-10-14	Ralf Corsépius <ralf.corsepius@rtems.org>

	* configure.ac: Remove some unix-specific checks.
	Remove unix-CPU_CONTEXT size checking.
	Remove enable-unixlib.
	Remove unix subdir.
	* aclocal/canonical-target-name.m4, aclocal/check-networking.m4,
	aclocal/check-posix.m4, aclocal/enable-posix.m4:
	Remove unix/posix.

2009-10-14	Ralf Corsépius <ralf.corsepius@rtems.org>

	* score/cpu/Makefile.am: Remove unix subdir.

2009-10-13	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libblock/include/rtems/bdbuf.h: Use size_t for swapout_workers.
	* libblock/src/bdpart.c: Add __attribute__((unused)) to suppress
	warnings.
	* libblock/src/bdbuf.c: Fix broken printf formats.
	Use size_t for sizes.

2009-10-12	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libcsupport/include/rtems/error.h: Introduce rtems_error_code_t.
	Minor portability code-massaging.
	* libcsupport/src/error.c: Reflect having introduced
	rtems_error_code_t.

2009-10-12	Ralf Corsépius <ralf.corsepius@rtems.org>

	* score/include/rtems/score/interr.h: Introduce Internal_errors_t.
	* score/src/interr.c, score/include/rtems/score/userext.h,
	score/src/userextthreadbegin.c: Reflect having introduced
	Internal_errors_t.

2009-10-12	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libblock/include/rtems/diskdevs.h: Added driver data pointer to IO
	control function.  The IO control handler takes now the disk device as
	first parameter instead of the physical device number.
	* cpukit/libblock/include/rtems/blkdev.h, libblock/src/bdbuf.c,
	libblock/src/blkdev.c, libblock/src/diskdevs.c, libblock/src/nvdisk.c,
	libblock/src/flashdisk.c, libblock/src/ramdisk.c: Update for block
	device API change.

2009-10-11	Joel Sherrill <joel.sherrill@oarcorp.com>

	* posix/src/alarm.c: If 0 seconds do not insert timer.
	* rtems/src/regionextend.c: Eliminate warning.  Use default else.

2009-10-11	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/inline/rtems/score/thread.inl, score/src/threaddispatch.c:
	Correct conditionals so _Thread_Enable_dispatch() is always inlined
	when intended.

2009-10-10	Joel Sherrill <joel.sherrill@oarcorp.com>

	* posix/include/rtems/posix/threadsup.h, posix/src/cancel.c,
	posix/src/canceleval.c: Make psxcancel run again.
	_POSIX_Thread_Exit() can be called on running thread or another
	thread when it is cancelled.

2009-10-10	Joel Sherrill <joel.sherrill@oarcorp.com>

	* posix/src/mqueuetimedreceive.c, posix/src/mqueuetimedsend.c,
	posix/src/mutextimedlock.c, posix/src/prwlocktimedrdlock.c,
	posix/src/prwlocktimedwrlock.c, posix/src/semtimedwait.c: Switch from
	switch to if's because only one value needed to be tested. This
	shrinks the code and makes it easier to do coverage analysis on.

2009-10-10	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/inline/rtems/score/object.inl: _Objects_Get_local_object() is
	only called from places where the index is known to be valid.
	_Objects_Set_local_object() already assumed this. Eliminates
	unreachable code.

2009-10-10	Joel Sherrill <joel.sherrill@oarcorp.com>

	* rtems/src/timerserver.c: Indentation.

2009-10-10	Joel Sherrill <joel.sherrill@oarcorp.com>

	* rtems/src/regiondelete.c, rtems/src/regionextend.c,
	rtems/src/regiongetfreeinfo.c, rtems/src/regiongetinfo.c,
	rtems/src/regiongetsegment.c, rtems/src/regionresizesegment.c,
	rtems/src/regionreturnsegment.c: Avoid initializing status code. This
	generates dead code on some targets. Add default case to eliminate
	unitialized variable warning.

2009-10-09	Sebastian Huber <Sebastian.Huber@embedded-brains.de>

	* cpukit/sapi/include/rtems/io.h: Documentation.
	* cpukit/sapi/src/ioregisterdriver.c: Call from interrupt context is
	an error.
	* cpukit/sapi/src/iounregisterdriver.c: Disable preemption during
	critical section.

2009-10-09	Chris Johns <chrisj@rtems.org>

	* libmisc/shell/main_mknod.c: Fixed build problem with networking
	disabled.

2009-10-08	Chris Johns <chrisj@rtems.org>

	* Makefile.am, preinstall.am: Added statvfs.h.
	* libcsupport/Makefile.am: Add statvfs.c.
	* libcsupport/include/sys/statvfs.h, libcsupport/src/statvfs.c:
	New.
	* libcsupport/include/rtems/libio.h: Add a file system handler for
	the statvfs call.
	* libfs/src/devfs/devfs_init.c, libfs/src/dosfs/msdos_init.c,
	libfs/src/imfs/imfs_init.c, libfs/src/nfsclient/src/nfs.c: Set the
	statvfs handler to NULL.
	* include/rtems/fs.h: Add a second node access field for the RFS
	file system to hold a directory offset while the existing field
	holds the inode number. This save a rescan of the directory when
	working with directories.
	* libblock/include/rtems/bdbuf.h: Added references and user fields
	to the buffer descriptor.
	* libblock/src/bdbuf.c: Added dynamic buffer support for different
	block sizes. Fixed a number of bugs.
	* libblock/src/blkdev.c: Release the disk device on an error.
	* libblock/src/diskdevs.c: Set the block size to the media block
	size during initialisation of the disk device.
	* libblock/src/flashdisk.c, libblock/src/nvdisk.c,
	libblock/src/ramdisk.c: Updated the drivers to handle variable
	block sizes.
	* libfs/src/dosfs/fat.c, libfs/src/dosfs/fat.h: Release any
	buffers when an error occurs. The FAT buffer layer hangs onto a
	single buffer while mounted. This should be fixed.
	* sapi/inline/rtems/chain.inl: Added rtems_chain_set_off_chain,
	rtems_chain_is_node_off_chain, and rtems_chain_previous.
	* score/inline/rtems/score/chain.inl: Added _Chain_Set_off_chain,
	and _Chain_Is_node_off_chain.
	* libmisc/shell/main_ln.c, libmisc/shell/main_mknod.c,
	libmisc/shell/mknod-pack_dev.c, libmisc/shell/mknod-pack_dev.h:
	New shell commands.
	* libmisc/Makefile.am, libmisc/shell/shellconfig.h: Added ln and
	mknod commands.
	* libmisc/shell/hexdump-display.c: Fixed the reopen bug which
	showed up as a free with a bad pointer.
	* libmisc/shell/main_mount.c: List the user adding file system
	when listing the available file systems to mount.
	* libmisc/shell/utils-cp.c: Remove the fixed static copy buffer
	and use a large dynamic buffer.
	* score/inline/rtems/score/address.inl, score/src/coremsgsubmit.c,
	score/src/objectallocate.c, score/src/objectfree.c: Remove
	warnings.

2009-10-06	Joel Sherrill <joel.sherrill@oarcorp.com>

	* sapi/src/ioregisterdriver.c: Reowork so this is a context switch
	disable critical section not interrupt disable critical section.
	Hopefully eliminated dead code which showed up in coverage runs.

2009-10-04	Sebastian Huber <Sebastian.Huber@embedded-brains.de>

	* sapi/include/rtems/io.h, sapi/src/ioregisterdriver.c: Documenation.
	rtems_io_lookup_name() is now deprecated.  Added
	rtems_io_driver_io_error().  rtems_io_register_driver() is now
	thread-safe.

2009-10-04	Joel Sherrill <joel.sherrill@oarcorp.com>

	* rtems/src/ratemonreportstatistics.c: owner field is always set so
	safe to use.  Reformat.
	* rtems/src/regionresizesegment.c: Always evaluate the blocked queue
	if the resize succeeded.
	* rtems/src/tasksetnote.c: Spacing.

2009-10-04	Joel Sherrill <joel.sherrill@oarcorp.com>

	* posix/include/rtems/posix/psignal.h: Add extern for ualarm timer.
	* posix/src/alarm.c, posix/src/ualarm.c: Change from switch to if since
	many enumerated values have no action.
	* posix/src/psignal.c: Initialize ualarm and alarm timers.

2009-10-02	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libmisc/monitor/mon-driver.c: Fix warning if
	defined(RTEMS_USE_16_BIT_OBJECT).
	* libmisc/monitor/mon-prmisc.c: Fix warning if
	defined(RTEMS_USE_16_BIT_OBJECT).

2009-10-01	Ralf Corsépius <ralf.corsepius@rtems.org>

	PR 1445/bsps
	* include/rtems/pci.h: 
	Make pci_[read|write]_config* static inline, again.

2009-10-01	Ralf Corsépius <ralf.corsepius@rtems.org>

	* include/rtems/pci.h: Add another missing prototype.

2009-09-30	Ralf Corsépius <ralf.corsepius@rtems.org>

	* include/rtems/pci.h: Add missing prototype.

2009-09-30	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libcsupport/src/fstat.c, libcsupport/src/fcntl.c,
	libcsupport/src/calloc.c, libcsupport/src/isatty_r.c,
	libcsupport/src/issetugid.c, libcsupport/src/lseek.c,
	libcsupport/src/read.c, libcsupport/src/getpid.c:
	Rework autoconf defines.

2009-09-30	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libcsupport/src/_rename_r.c: Rework autoconf defines.
	Remove unused includes.
	* libcsupport/src/__gettod.c: Rework autoconf defines.
	Eliminate RTEMS_UNIX.
	* libcsupport/src/_calloc_r.c, libcsupport/src/_realloc_r.c:
	Rework autoconf defines.
	* libcsupport/src/open.c, libcsupport/src/close.c:
	Rework autoconf defines.
	* libcsupport/src/tcflow.c: Remove unused includes.
	* libcsupport/src/__sbrk.c: Eliminate RTEMS_UNIX.
	* libcsupport/src/_free_r.c, libcsupport/src/_malloc_r.c:
	Rework autoconf defines.
	* libcsupport/src/malloc_boundary.c: Comment out checkMallocArena
	(unused).
	* libcsupport/src/__assert.c: Rework autoconf defines.
	* libcsupport/src/__brk.c: Eliminate RTEMS_UNIX.
	Remove unused includes.
	* libcsupport/src/getgroups.c: Remove unused includes.
	* libcsupport/src/setpgid.c: Remove unused includes.
	* libcsupport/src/malloc_p.h: Remove #include <inttypes.h>.

2009-09-30	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/net/ppp_tty.c: Reflect termios_baud_to_number having
	been renamed to rtems_termios_baud_to_number.

2009-09-30	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libcsupport/src/termios_setinitialbaud.c: 
	Include rtems/termiostypes.h.
	Rename termios_set_initial_baud into rtems_termios_set_initial_baud.
	* libcsupport/src/termios_num2baud.c: 
	Include rtems/termiostypes.h.
	Rename termios_number_to_baud into rtems_number_to_baud.
	* libcsupport/src/termios_baud2num.c: 
	Include rtems/termiostypes.h.
	Rename termios_baud_to_number into rtems_termios_baud_to_number.
	* libcsupport/src/termios_baud2index.c: 
	Include rtems/termiostypes.h.
	Rename termios_baud_to_index into rtems_termios_baud_to_index.
	* libcsupport/include/rtems/termiostypes.h: Include stdlib.h.
	Add rtems_termios_baud_t.
	Rename termios_number_to_baud into rtems_termios_number_to_baud,
	termios_baud_to_number into rtems_termios_baud_to_number,
	termios_baud_to_index into rtems_termios_baud_to_index.

2009-09-29	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/lib/tftpDriver.c: Remove vim: meta-tags.

2009-09-29	Ralf Corsépius <ralf.corsepius@rtems.org>

	* score/src/heapwalk.c(Heap_Walk_printer): Add missing return type.
	* libnetworking/lib/tftpDriver.c (rtems_tftp_eval_path):
	Add missing parameter pathlen.
	* libmisc/shell/hexdump-conv.c: Use %lc instead of %C.

2009-09-28	Joel Sherrill <joel.sherrill@OARcorp.com>

	* rtems/src/regiondelete.c, rtems/src/regiongetfreeinfo.c,
	rtems/src/regiongetinfo.c, rtems/src/regiongetsegment.c,
	rtems/src/regiongetsegmentsize.c, rtems/src/regionresizesegment.c,
	rtems/src/regionreturnsegment.c: Remove warnings.

2009-09-28	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/src/objectidtoname.c: Remove error which cannot be reached
	since API that calls this checks the error first.
	* score/src/objectsetname.c: Adjust handling of length.

2009-09-28	Joel Sherrill <joel.sherrill@OARcorp.com>

	* rtems/src/regiondelete.c, rtems/src/regiongetfreeinfo.c,
	rtems/src/regiongetinfo.c, rtems/src/regiongetsegment.c,
	rtems/src/regiongetsegmentsize.c, rtems/src/regionresizesegment.c,
	rtems/src/regionreturnsegment.c: Do not initialize return status to
	RTEMS_INTERNAL_ERROR.

2009-09-28	Joel Sherrill <joel.sherrill@oarcorp.com>

	* include/rtems/pci.h: Revert extern inline patch.

2009-09-26	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/capture/capture.c, posix/src/pthread.c, rtems/src/tasks.c,
	score/include/rtems/score/userext.h: Eliminate use of deprecated
	rtems_extension. Re-add prototype for _User_extensions_Add_API_set.

2009-09-26	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/include/rtems/libcsupport.h,
	libcsupport/src/newlibc_reent.c: Eliminate use of deprecated
	rtems_extension.

2009-09-25	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/Makefile.am: Re-add file accidentally deleted by Sebastian.

2009-09-25	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/inline/rtems/score/thread.inl: Restore the BSP context -- do
	not save the current. This routine is also marked as not returning
	which saves the exit path code.

2009-09-25	Joel Sherrill <joel.sherrill@oarcorp.com>

	* include/rtems/pci.h: Change extern inline to static inline.

2009-09-25	Sebastian Huber <Sebastian.Huber@embedded-brains.de>

	* sapi/include/rtems/extension.h, sapi/src/extensiondelete.c,
	sapi/src/extensionident.c, sapi/src/extensioncreate.c,
	sapi/inline/rtems/extension.inl, score/include/rtems/score/userext.h,
	score/src/userextthreaddelete.c, score/src/userext.c,
	score/src/userextthreadcreate.c, score/src/userextremoveset.c,
	score/src/userextthreadbegin.c, score/src/userextaddset.c,
	score/src/userextthreadstart.c, score/src/userextthreadswitch.c,
	score/src/userextthreadrestart.c: Documentation. The types
	User_extensions_routine and rtems_extension are now deprecated.
	Removed unused types User_extensions_thread_post_switch_extension and
	rtems_task_post_switch_extension. Renamed _User_extensions_Add_API_set()
	in _User_extensions_Add_set(). Renamed _User_extensions_Add_set() in
	_User_extensions_Add_set_with_table().
	* score/src/userextaddapiset.c: Removed file.
	* score/Makefile.am: Update.

2009-09-25	Sebastian Huber <Sebastian.Huber@embedded-brains.de>

	* score/src/heap.c, score/include/rtems/score/heap.h: Reduced alignment
	requirement for CPU_ALIGNMENT from four to two.

2009-09-25	Joel Sherrill <joel.sherrill@OARcorp.com>

	* posix/include/rtems/posix/threadsup.h: Add no return atrribute to
	_POSIX_Thread_Exit().

2009-09-24	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/shell/hexdump-odsyntax.c: Fix failure on SH2e where there is
	only single precision float.

2009-09-24	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/src/getpagesize.c, posix/Makefile.am: Eliminate one copy
	of getpagesize() and make it return an int.
	* posix/src/getpagesize.c: Removed.

2009-09-20	Joel Sherrill <joel.sherrill@oarcorp.com>

	* posix/Makefile.am: Add getpagesize(). Now required by GNU Ada.
	* posix/src/getpagesize.c: New file.

2009-09-16	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/src/userextaddapiset.c: Disable code that is only used when
	ITRON or POSIX is enabled.

2009-09-15	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libmisc/shell/utils-cp.c: Include <utime.h> instead of
	<sys/utime.h> for better POSIX compilance.

2009-09-15	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libcsupport/src/malloc_p.h: Rely upon uintmax_t and PRIuMAX being
	provided.

2009-09-15	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libcsupport/src/libio_init.c, libcsupport/src/libio.c: 
	Reflect rtems_libio_number_iops being uint32_t.

2009-09-15	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libcsupport/src/libio_init.c: Remove extern uint32_t
	rtems_libio_number_iops.

2009-09-15	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libcsupport/src/fcntl.c, libcsupport/src/malloc_boundary.c,
	libcsupport/src/newlibc_reent.c, libcsupport/src/printk_plugin.c,
	libcsupport/src/stat.c, libcsupport/src/tcflow.c,
	libcsupport/src/tcflush.c, libcsupport/src/tcsendbreak.c,
	libcsupport/src/tcsetpgrp.c, libcsupport/src/unlink.c,
	libcsupport/src/unmount.c, libcsupport/src/write_r.c:
	Add __attribute__((unused)) to function arguments.

2009-09-15	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libcsupport/src/__brk.c, libcsupport/src/__gettod.c,
	libcsupport/src/__sbrk.c, libcsupport/src/__times.c,
	libcsupport/src/_calloc_r.c, libcsupport/src/_free_r.c,
	libcsupport/src/_malloc_r.c, libcsupport/src/_realloc_r.c,
	libcsupport/src/_rename_r.c, libcsupport/src/assocnamebad.c,
	libcsupport/src/close.c, libcsupport/src/envlock.c,
	libcsupport/src/fstat.c, libcsupport/src/getgroups.c,
	libcsupport/src/getpid.c, libcsupport/src/isatty_r.c,
	libcsupport/src/link.c, libcsupport/src/lseek.c,
	libcsupport/src/open.c, libcsupport/src/read.c,
	libcsupport/src/setpgid.c: Add __attribute__((unused)) to function
	arguments.

2009-09-15	Ralf Corsépius <ralf.corsepius@rtems.org>

	PR 1441/cpukit
	* libcsupport/src/tcgetprgrp.c: Remove.
	* libcsupport/src/tcgetpgrp.c: New (Renamed from 
	  libcsupport/src/tcgetprgrp.c).
	* libcsupport/Makefile.am: Add libcsupport/src/tcgetpgrp.c.
	  Remove libcsupport/src/tcgetprgrp.c.

2009-09-15	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libcsupport/src/getpwent.c: Ansify.

2009-09-14	Sebastian Huber <Sebastian.Huber@embedded-brains.de>

	* score/src/heapalignupuptr.c, score/src/heapallocatealigned.c:
	Removed files.
	* score/Makefile.am: Update.

2009-09-14	Sebastian Huber <Sebastian.Huber@embedded-brains.de>

	* score/src/wkspace.c: Removed work space area consistency checks.
	* libblock/include/rtems/ide_part_table.h: Functions are now
	deprecated.
	* libcsupport/include/rtems/libcsupport.h, libcsupport/src/calloc.c,
	libcsupport/src/malloc_boundary.c,
	libcsupport/src/malloc_initialize.c,
	libcsupport/src/malloc_report_statistics_plugin.c,
	libcsupport/src/malloc_statistics_helpers.c,
	libcsupport/src/malloc_walk.c, libcsupport/src/realloc.c,
	rtems/inline/rtems/rtems/region.inl: Update for heap API changes.

2009-09-14      Christian Mauderer <christian.mauderer@embedded-brains.de>

	* libcsupport/src/vprintk.c: Fixed warnings. Print nothing in case the
	pointer to the string is NULL.

2009-09-14	Sebastian Huber <Sebastian.Huber@embedded-brains.de>

	* score/src/wkspace.c: Removed work space area consistency checks.
	* libblock/include/rtems/ide_part_table.h: Functions are now
	deprecated.
	* libcsupport/include/rtems/libcsupport.h, libcsupport/src/calloc.c,
	libcsupport/src/malloc_boundary.c,
	libcsupport/src/malloc_initialize.c,
	libcsupport/src/malloc_report_statistics_plugin.c,
	libcsupport/src/malloc_statistics_helpers.c,
	libcsupport/src/malloc_walk.c, libcsupport/src/realloc.c,
	rtems/inline/rtems/rtems/region.inl: Update for heap API changes.

2009-09-14      Christian Mauderer <christian.mauderer@embedded-brains.de>

	* libcsupport/src/vprintk.c: Fixed warnings. Print nothing in case the
	pointer to the string is NULL.

2009-09-13	Joel Sherrill <joel.sherrill@oarcorp.com>

	* posix/src/nanosleep.c: Disable EINTR case when POSIX is disabled
	because it cannot happen.

2009-09-13	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/inline/rtems/score/coremsg.inl: Fix compilation issue when
	notifications are not enabled.

2009-09-13	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/include/rtems/score/thread.h, score/src/threadinitialize.c,
	score/src/threadstackfree.c: Disable capability for API to let user
	provide thread stack when no API configured includes this capability.

2009-09-13	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/include/rtems/score/coresem.h, score/src/coresemseize.c:
	Disable body of _CORE_semaphore_Seize() if it is not used because all
	APIs using it are disabled.

2009-09-13	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/include/rtems/score/tod.h: Fix typo.

2009-09-13	Joel Sherrill <joel.sherrill@oarcorp.com>

	* rtems/include/rtems/rtems/config.h: Add
	rtems_configuration_get_maximum_semaphores().

2009-09-13	Joel Sherrill <joel.sherrill@oarcorp.com>

	* posix/Makefile.am, posix/src/clockgetres.c: Add clockgetres.c to set
	of clock and delayt methods built when POSIX threads are disabled.
	Ensure it builds when POSIX is disabled.

2009-09-13	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/src/coremsgbroadcast.c: Fix typo.

2009-09-13	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/src/coremsgsubmit.c: Remove extra #else.

2009-09-13	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/inline/rtems/score/coremsg.inl, score/src/coremsg.c,
	score/src/coremsgbroadcast.c, score/src/coremsginsert.c,
	score/src/coremsgseize.c, score/src/coremsgsubmit.c: Add wrappers for
	accessing message priority. Since these are empty when priority-based
	message queues are disabled, this eliminates some of the
	conditionals.

2009-09-12	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/src/coremsgseize.c: Fix typo.

2009-09-11	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/include/rtems/score/coremsg.h,
	score/inline/rtems/score/coremsg.inl, score/src/coremsg.c,
	score/src/coremsginsert.c, score/src/coremsgseize.c,
	score/src/coremsgsubmit.c, score/src/objectnametoidstring.c: Disable
	the Core Message Queue features of notification, priority messages,
	and blocking sends when no API requires them.

2009-09-11	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/include/rtems/score/thread.h, score/src/threadhandler.c,
	score/src/threadinitialize.c, score/src/threadtickletimeslice.c:
	Disable thread protocol and scheduling capabilities not exercised
	when POSIX or ITRON API is disabled.

2009-09-11	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/include/rtems/score/object.h,
	score/inline/rtems/score/object.inl,
	score/src/objectgetnameasstring.c, score/src/objectidtoname.c,
	score/src/objectinitializeinformation.c,
	score/src/objectnamespaceremove.c, score/src/objectnametoidstring.c,
	score/src/objectsetname.c, score/src/thread.c,
	score/src/threadcreateidle.c: Disable object string name support when
	POSIX is not enabled.

2009-09-11	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libmisc/capture/capture.c: Use public API to obtain object name.

2009-09-09	Sebastian Huber <Sebastian.Huber@embedded-brains.de>

	* score/include/rtems/score/heap.h, score/inline/rtems/score/heap.inl,
	score/src/heapallocate.c, score/src/heap.c, score/src/heapextend.c,
	score/src/heapresizeblock.c, score/src/heapwalk.c: Documenation.
	Simplified block resize. Improved heap walk. Changed heap layout to
	avoid a special case for _Heap_Is_used() and _Heap_Is_free().
	* libmisc/stackchk/check.c: Update for heap API changes.

2009-09-06	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libcsupport/src/issetugid.c: New (relocated from libnetworking).
	* libnetworking/rtems/issetugid.c: Remove.
	* libnetworking/Makefile.am: Reflect changes above.
	* libcsupport/Makefile.am: Reflect changes above.

2009-09-06	Sebastian Huber <Sebastian.Huber@embedded-brains.de>

	* libcsupport/src/free.c, libmisc/stackchk/check.c,
	rtems/include/rtems/rtems/region.h, rtems/src/regioncreate.c,
	rtems/src/regionextend.c, rtems/src/regiongetinfo.c,
	rtems/src/regiongetsegment.c, rtems/src/regiongetsegmentsize.c,
	rtems/src/regionresizesegment.c, score/src/pheapallocate.c,
	score/src/pheapallocatealigned.c, score/src/pheapextend.c,
	score/src/pheapfree.c, score/src/pheapgetblocksize.c,
	score/src/pheapgetfreeinfo.c, score/src/pheapgetinfo.c,
	score/src/pheapgetsize.c, score/src/pheapinit.c,
	score/src/pheapresizeblock.c, score/src/pheapwalk.c:
	Update for heap API changes.
	* score/include/rtems/score/apimutex.h,
	score/include/rtems/score/object.h: Documentation.
	* score/include/rtems/score/heap.h,
	score/include/rtems/score/protectedheap.h,
	score/inline/rtems/score/heap.inl, score/src/heap.c,
	score/src/heapallocate.c, score/src/heapallocatealigned.c,
	score/src/heapextend.c, score/src/heapfree.c,
	score/src/heapgetfreeinfo.c, score/src/heapgetinfo.c,
	score/src/heapresizeblock.c, score/src/heapsizeofuserarea.c,
	score/src/heapwalk.c: Overall cleanup. Added boundary constraint to
	allocation function. More changes follow.

2009-09-04	Sebastian Huber <Sebastian.Huber@embedded-brains.de>

	* rtems/src/taskmode.c, sapi/src/exshutdown.c,
	score/include/rtems/score/sysstate.h,
	score/inline/rtems/score/sysstate.inl: Added
	_System_state_Is_shutdown().  Removed direct uses of
	_System_state_Current.  Documentation.

2009-08-28	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libcsupport/src/malloc_initialize.c, sapi/src/exinit.c,
	score/src/threadstartmultitasking.c: Fix spacing.
	* libmisc/stackchk/check.c: Move variable into compiler specific conditional.

2009-08-26	Sebastian Huber <Sebastian.Huber@embedded-brains.de>

	* score/inline/rtems/score/address.inl: Added const qualifier
	to parameters.  Added cast to _Addresses_Subtract() fix a warning.

2009-08-26	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libfs/src/devfs/devfs.h: Fix spelling error.

2009-08-26	Sebastian Huber <Sebastian.Huber@embedded-brains.de>

	* sapi/include/rtems/config.h: Changed stack allocator signature to
	match the one of _Workspace_Allocate().

2009-08-24	Sebastian Huber <Sebastian.Huber@embedded-brains.de>

	* libmisc/stackchk/check.c, rtems/src/regionreturnsegment.c,
	rtems/src/regiongetsegmentsize.c, src/heapalignupuptr.c,
	src/heapallocatealigned.c, src/heapallocate.c, src/heap.c,
	src/heapextend.c, src/heapfree.c, src/heapgetfreeinfo.c,
	src/heapgetinfo.c, src/heapresizeblock.c, src/heapsizeofuserarea.c,
	src/heapwalk.c, src/pheapgetblocksize.c, inline/rtems/score/heap.inl,
	include/rtems/score/heap.h: Overall cleanup.  Changed all types for
	addresses, sizes, offsets and alignments to uintptr_t.  Reformatted.
	Added variables for clarity.  Renamed various objects.  Enabled
	_HAssert() for all instances.  More changes follow.

2009-08-25	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libfs/src/devfs/devfs_eval.c: Fix bug where use of strncmp() resulted
	in a partial match being considered a full name match. On ERC32,
	looking for /dev/console would match /dev/console_b first.

2009-08-21	Roxana Leontie <roxana.leontie@gmail.com>

	* Makefile.am, preinstall.am, libmisc/Makefile.am: Changed the name of
	mw-fb directory into fb.  Relocated files.
	* libmisc/fb/fb.h, libmisc/fb/mw_uid.c, libmisc/fb/mw_uid.h: New files.
	* libmisc/mw-fb/fb.h, libmisc/mw-fb/mw_uid.c, libmisc/mw-fb/mw_uid.h:
	Removed.

2009-08-19	Joel Sherrill <joel.sherrill@OARcorp.com>

	* sapi/include/confdefs.h, score/Makefile.am,
	score/include/rtems/score/thread.h: Only instantiate
	_Thread_Idle_body() if it is going ot be used.
	* score/src/threadidlebody.c: Removed.

2009-08-19	Joel Sherrill <joel.sherrill@OARcorp.com>

	* posix/src/pthread.c: Address sporadic server edge cases. Do not
	change priority if thread is holding a priority ceiling or
	inheritance mutex. Do not change it if it looks like the thread has
	manually changed its priority. Style cleanup on file with new
	comments added.

2009-08-18	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/src/heapallocatealigned.c: Remove unused label.

2009-08-18	Sebastian Huber <Sebastian.Huber@embedded-brains.de>

	* score/src/heapallocatealigned.c: Change break to continue to fix
	issue encountered on ARM. Fix indentation.

2009-08-18	Joel Sherrill <joel.sherrill@OARcorp.com>

	* rtems/src/timerreset.c: Rework to ease analysis.

2009-08-17	Joel Sherrill <joel.sherrill@oarcorp.com>

	* aclocal/check-networking.m4: Disable BSD TCP/IP for small memory
	targets.

2009-08-17	Joel Sherrill <joel.sherrill@OARcorp.com>

	* rtems/src/clockget.c: Restructure to ease coverage analysis of
	deprecated routine.

2009-08-16	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libi2c/libi2c.c: Fix warnings.

2009-08-15	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/src/termios_baud2num.c: B134 should return 134 not 135.

2009-08-12	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libcsupport/src/malloc_boundary.c: This is currently non-funcitonal.
	Do not build it when doing coverage until it works again.
	* sapi/include/confdefs.h: Address linking errors when building for
	configuration.

2009-08-12	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libcsupport/Makefile.am: Obsolete coverage file.
	* libcsupport/src/end_profile.c: Removed.

2009-08-12	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libcsupport/Makefile.am, libcsupport/preinstall.am,
	posix/Makefile.am, posix/preinstall.am, rtems/Makefile.am,
	rtems/preinstall.am, score/Makefile.am, score/preinstall.am: Revert
	modifications accidentally committed.

2009-08-11	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/include/rtems/debug.h: Fix typo.

2009-08-10	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/src/__times.c, libfs/src/nfsclient/src/nfsTest.c,
	libfs/src/nfsclient/src/rpcio.c: Convert calls to legacy routine
	rtems_clock_get( RTEMS_CLOCK_GET_xxx, ..) to rtems_clock_get_xxx().

2009-08-09	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/src/heapresizeblock.c: Remove printk's that were accidentally
	committed.

2009-08-09	Xi Yang <hiyangxi@gmail.com>

	* libcsupport/Makefile.am, posix/Makefile.am, rtems/Makefile.am,
	sapi/Makefile.am, score/Makefile.am,
	score/include/rtems/score/heap.h: HEAP_BLOCK_USED_OVERHEAD was under
	by one uint32_t. This showed up in the unlimited and heapwalk tests
	on ARM targets.

2009-08-06	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/src/objectextendinformation.c: Minor rework to eliminate
	uncovered ranges introduced by Chris' patch.

2009-08-06	Chris Johns <chrisj@rtems.org>

	* score/src/objectextendinformation.c: Ensure that nothing is moved or
	copied until all memory is successfully allocated.

2009-08-06	Joel Sherrill <joel.sherrill@OARcorp.com>

	* posix/src/mqueuecreatesupp.c, posix/src/mqueuenametoid.c,
	posix/src/mqueueopen.c, posix/src/semaphorecreatesupp.c: Tinker with
	error handling for name too long. Use strnlen to ensure we do not run
	off the end of the maximum length string.

2009-08-06      Christian Mauderer <christian.mauderer@embedded-brains.de>

	* rtems/include/rtems/rtems/types.h: Improve documentation.

2009-08-06	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/bspcmdline/bspcmdline.h, libmisc/bspcmdline/bspcmdline_get.c,
	libmisc/bspcmdline/bspcmdline_getparam.c,
	libmisc/bspcmdline/bspcmdline_getparamraw.c,
	libmisc/bspcmdline/bspcmdline_getparamrhs.c: Add rtems_ as prefix to
	all routines.

2009-08-06	Chris Johns <chrisj@rtems.org>

	* libblock/src/bdbuf.c: Fix group user logic.
	* libblock/include/rtems/blkdev.h, libblock/src/blkdev.c,
	libblock/src/nvdisk.c, libblock/src/flashdisk.c: Add set block
	size, and get media block size support.

2009-08-05	Joel Sherrill <joel.sherrill@oarcorp.com>

	* posix/src/sigaction.c: _POSIX_signals_Clear_process_signals now takes
	signal number not mask.

2009-08-05	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libcsupport/Makefile.am, rtems/Makefile.am, rtems/preinstall.am,
	sapi/Makefile.am, sapi/preinstall.am, score/Makefile.am,
	score/preinstall.am, score/include/rtems/score/heap.h,
	score/inline/rtems/score/heap.inl: Remove inline version now that it
	is in a C file.
	* libcsupport/src/end_profile.c: New file.

2009-08-05	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/Makefile.am: Move from inline to body to avoid path explosion
	from inlining this. Makes coverage analysis easier.
	* score/src/heapalignupuptr.c: New file.

2009-08-05	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/bspcmdline/bspcmdline.h, libmisc/bspcmdline/bspcmdline_get.c,
	libmisc/bspcmdline/bspcmdline_getparam.c,
	libmisc/bspcmdline/bspcmdline_getparamraw.c,
	libmisc/bspcmdline/bspcmdline_getparamrhs.c: New files.
	Missed in previous commit.

2009-08-05	Joel Sherrill <joel.sherrill@oarcorp.com>

	* Makefile.am, preinstall.am, libmisc/Makefile.am, wrapup/Makefile.am:
	Add new BSP Boot Command Line helper routines. Recently boot_card()
	has grown the ability to have a command line string pointer. These
	routines provide an interface to that string.

2009-08-05	Joel Sherrill <joel.sherrill@oarcorp.com>

	* sapi/include/confdefs.h: Fix typo.

2009-08-05	Joel Sherrill <joel.sherrill@OARcorp.com>

	* posix/src/psignalclearsignals.c: Add comments.

2009-08-05	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libcsupport/include/rtems/libio_.h,
	libcsupport/src/fs_null_handlers.c: Null handlers are now const.
	* libi2c/libi2c.c, libi2c/libi2c.h: Documentation. Do not create
	semaphores on the fly.
	* cpukit/libblock/src/bdpart.c: Fixed format specifier.
	* cpukit/libblock/include/rtems/bdbuf.h, rtems/include/rtems.h,
	rtems/include/rtems/rtems/asr.h, rtems/include/rtems/rtems/attr.h,
	rtems/include/rtems/rtems/barrier.h,
	rtems/include/rtems/rtems/barriermp.h,
	rtems/include/rtems/rtems/cache.h, rtems/include/rtems/rtems/clock.h,
	rtems/include/rtems/rtems/config.h, rtems/include/rtems/rtems/dpmem.h,
	rtems/include/rtems/rtems/event.h,
	rtems/include/rtems/rtems/eventmp.h,
	rtems/include/rtems/rtems/eventset.h,
	rtems/include/rtems/rtems/intr.h, rtems/include/rtems/rtems/message.h,
	rtems/include/rtems/rtems/modes.h, rtems/include/rtems/rtems/mp.h,
	rtems/include/rtems/rtems/msgmp.h, rtems/include/rtems/rtems/object.h,
	rtems/include/rtems/rtems/part.h, rtems/include/rtems/rtems/partmp.h,
	rtems/include/rtems/rtems/ratemon.h,
	rtems/include/rtems/rtems/region.h,
	rtems/include/rtems/rtems/regionmp.h,
	rtems/include/rtems/rtems/rtemsapi.h, rtems/include/rtems/rtems/sem.h,
	rtems/include/rtems/rtems/semmp.h, rtems/include/rtems/rtems/signal.h,
	rtems/include/rtems/rtems/signalmp.h,
	rtems/include/rtems/rtems/status.h,
	rtems/include/rtems/rtems/support.h,
	rtems/include/rtems/rtems/taskmp.h, rtems/include/rtems/rtems/tasks.h,
	rtems/include/rtems/rtems/timer.h, rtems/include/rtems/rtems/types.h,
	rtems/inline/rtems/rtems/support.inl: Documentation.
	* include/rtems/irq-extension.h: Documentation. Added API for
	interrupt servers.

2009-08-05	Joel Sherrill <joel.sherrill@oarcorp.com>

	* sapi/include/confdefs.h: Account for memory for POSIX message queue
	file descriptors.

2009-08-05	Joel Sherrill <joel.sherrill@OARcorp.com>

	* posix/src/mqueuecreatesupp.c: Now that the number of POSIX message
	queues and message queue descriptors are independently configured,
	this code is reachable.

2009-08-05	Joel Sherrill <joel.sherrill@OARcorp.com>

	* posix/include/rtems/posix/psignal.h, posix/src/mqueuecreatesupp.c,
	posix/src/psignalclearprocesssignals.c,
	posix/src/psignalclearsignals.c: Minor rework to ease coverage
	analysis.

2009-08-05	Joel Sherrill <joel.sherrill@OARcorp.com>

	* rtems/include/rtems/rtems/intr.h, rtems/src/intrcatch.c: Disable
	rtems_interrupt_catch on targets which do not use the simple vectored
	interrupt model.

2009-08-05	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/src/heapallocatealigned.c: Fix spacing.

2009-08-05	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/src/wkspace.c: Improve debug output.

2009-08-05	Joel Sherrill <joel.sherrill@OARcorp.com>

	* posix/include/rtems/posix/config.h, posix/src/mqueue.c,
	sapi/include/confdefs.h: Add configuration of posix message queue
	file descriptors as separate entity.

2009-08-05	Joel Sherrill <joel.sherrill@OARcorp.com>

	* rtems/include/rtems/rtems/region.h: Use new name.
	* score/include/rtems/debug.h: Fix spacing.

2009-08-05	Chris Johns <chrisj@rtems.org>

	* libmisc/dummy/dummy-networking.c: New.  
	* libmisc/dummy/dummy.c, libmisc/Makefile.am: Move
	trhe networking configuration into a separate file so
	configuration varations do not cause conflicts.
	* score/inline/rtems/score/object.inl,
	score/include/rtems/score/object.h: Remove warnings.
	* score/inline/rtems/score/object.inl: Add _Chain_First,
	_Chain_Last, _Chain_Mext, and _Chain_Previous.
	* sapi/inline/rtems/chain.inl: Add rtems_chain_first,
	rtems_chain_last, rtems_chain_mext, and rtems_chain_previous.
	* libblock/include/rtems/diskdevs.h: Remove the bdbuf pool id and
	block_size_log2. Add media_block_size.
	* libblock/src/diskdevs.c: Remove size restrictions on block
	size. Add media block size initialisation. Remove comment to clean
	up the bdbuf cache.
	* libblock/src/blkdev.c: Remove references to
	block_size_log2. Allow any block size.
	* libblock/include/rtems/bdbuf.h, libblock/src/bdbuf.c: Remove all
	references to pools and make the cache handle demand driver
	variable buffer size allocation. Added worker threads support the
	swapout task.
	* sapi/include/confdefs.h: Updated the bdbuf configutation.
	
2009-08-04	Joel Sherrill <joel.sherrill@OARcorp.com>

	* sapi/include/confdefs.h: Account for allocation of user extension
	data area pointers.

2009-08-03	Roxana Leontie <roxana.leontie@gmail.com>

	* Makefile.am, preinstall.am, libmisc/Makefile.am: changed the
	references to mw_fb.h into fb.h
	* libmisc/mw-fb/mw_fb.h: renamed fb.h

2009-08-03	Roger Dahlkvist <ruppe@kth.se>

	* score/cpu/Makefile.am: nios2 was not in the list.

2009-08-02	Joel Sherrill <joel.sherrill@OARcorp.com>

	* posix/src/psignal.c: Simplify implementation to ease coverage
	analysis.

2009-08-02	Joel Sherrill <joel.sherrill@OARcorp.com>

	* rtems/include/rtems/rtems/support.h: Fix comments.

2009-08-01	Joel Sherrill <joel.sherrill@oarcorp.com>

	* posix/src/psxtransschedparam.c, posix/src/pthread.c: Add error checks
	for 0 time on sporadic scheduler replenish period and initial budget.
	This avoids having to correct for it in the TSR, so we can eliminate
	the check for ticks == 0 there.

2009-08-01	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/inline/rtems/score/heap.inl, score/src/heapresizeblock.c:
	Simplify routine.

2009-08-01	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/inline/rtems/score/heap.inl: Revert accidental commit.

2009-08-01	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/inline/rtems/score/heap.inl, score/src/heapwalk.c: Do not
	inline code to check if newline should be printed. It leads to branch
	path explosion which is really hard to get coverage on.

2009-07-31	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/src/heapgetinfo.c: Simplify implementation.

2009-07-29	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/src/threadinitialize.c: Rework so there is only one error exit
	path. This required setting every variable that contains memory
	allocated from the workspace to NULL early and using that assumption
	in the one failed exit path.

2009-07-29	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/src/wkspace.c: Add debug printks.

2009-07-29	Joel Sherrill <joel.sherrill@oarcorp.com>

	* posix/src/mqueuedeletesupp.c: Mark unreachable section as
	RTEMS_DEBUG.

2009-07-29	Joel Sherrill <joel.sherrill@OARcorp.com>

	* posix/src/killinfo.c: Add _Thread_Enable_dispatch() on EAGAIN
	error case.  Add debug print on loop processing threads waiting
	for signal.
	* posix/src/psignal.c: When the sigwait() Thread Queue processing loop
	was changed to FIFO, I forgot to change the initialization to match.

2009-07-29	Roxana Leontie <roxana.leontie@gmail.com>

	* libmisc/mw-fb/mw_fb.h: Cleaned code and added some more structures.

2009-07-28	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/Makefile.am, libcsupport/preinstall.am,
	sapi/include/confdefs.h: Add configuration and basic device driver
	ver definition for frame buffer device.
	* libcsupport/include/rtems/framebuffer.h: New file.

2009-07-26	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/Makefile.am, score/preinstall.am: SuperCore Spinlock is only
	used by POSIX API. Do not build it when POSIX is not enabled.

2009-07-24	Joel Sherrill <joel.sherrill@oarcorp.com>

	* sapi/src/ioregisterdriver.c: Fix spacing.

2009-07-24	Joel Sherrill <joel.sherrill@OARcorp.com>

	* posix/src/killinfo.c: Rework to make easier to analyze for code
	coverage and to simplify so it is easier to analyze for correctness.

2009-07-24	Roxana Leontie <roxana.leontie@gmail.com>

	* libmisc/mw-fb/mw_fb.h: divided fb_screeninfo structure into
	fb_var_screeninfo and fb_fix_screeninfo

2009-07-23	Ralf Corsepius <ralf.corsepius@rtems.org>

	* aclocal/enable-itron.m4: Default to not building itron.

2009-07-23	Joel Sherrill <joel.sherrill@OARcorp.com>

	* rtems/src/timerreset.c: Mark an unreachable path that is a sanity
	check as conditional on RTEMS_DEBUG.

2009-07-23	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/src/iterateoverthreads.c: Restructure a bit to make analysis
	easier.

2009-07-23	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/Makefile.am, libmisc/shell/main_chmod.c,
	libmisc/shell/main_mdump.c, libmisc/shell/main_medit.c,
	libmisc/shell/main_mfill.c, libmisc/shell/main_mmove.c,
	libmisc/shell/main_msdosfmt.c, libmisc/shell/main_mwdump.c,
	libmisc/shell/main_sleep.c, libmisc/shell/main_umask.c,
	libmisc/shell/shell_script.c, libmisc/stringto/stringto.h,
	libmisc/stringto/stringto_template.h: Convert return type from bool
	to rtems_status_code and add rtems_string_to_pointer. Perform
	associated clean up and changes for return type change.
	* libmisc/stringto/stringtopointer.c: New file.

2009-07-22	Joel Sherrill <joel.sherrill@OARcorp.com>

	* posix/src/killinfo.c: Clean up. Avoid NULL pointer case.

2009-07-22	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/inline/rtems/score/states.inl: Add
	_States_Is_interruptible_by_signal. Add more DOxygen comments and
	clean up.

2009-07-22	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/shell/main_help.c: Provide a few more characters for command
	names.

2009-07-22	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/shell/main_mdump.c, libmisc/shell/main_mwdump.c: Fine tune
	printf format.

2009-07-22	Joel Sherrill <joel.sherrill@oarcorp.com>

	* rtems/src/regionextend.c: Remove warning.

2009-07-22	Joel Sherrill <joel.sherrill@oarcorp.com>

	* posix/include/semaphore.h, posix/include/rtems/posix/semaphore.h:
	Move SEM_FAILED from private file to public file since it is defined
	by POSIX.

2009-07-22	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/shell/main_mount.c: Eliminate warning.

2009-07-22	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/Makefile.am, libmisc/shell/main_chmod.c,
	libmisc/shell/main_mdump.c, libmisc/shell/main_medit.c,
	libmisc/shell/main_mfill.c, libmisc/shell/main_mmove.c,
	libmisc/shell/main_msdosfmt.c, libmisc/shell/main_mwdump.c,
	libmisc/shell/main_sleep.c, libmisc/shell/main_umask.c,
	libmisc/shell/shell.h, libmisc/shell/shell_script.c,
	libmisc/stringto/stringto_template.h: Convert all shell code to use
	stringto.h mehods with better error checking.
	* libmisc/shell/str2int.c: Removed.

2009-07-22	Joel Sherrill <joel.sherrill@oarcorp.com>

	* Makefile.am, preinstall.am, libmisc/Makefile.am, wrapup/Makefile.am:
	Add the stringto family of string to number converters. These are
	error checking wrappers for the strtoXXX methods and do their best to
	return false if the conversion failed. The error checking required
	for this is tedious and error prone. Hence better to have in a family
	of helper routines.
	* libmisc/stringto/stringto.h, libmisc/stringto/stringto_template.h,
	libmisc/stringto/stringtodouble.c, libmisc/stringto/stringtofloat.c,
	libmisc/stringto/stringtoint.c, libmisc/stringto/stringtolong.c,
	libmisc/stringto/stringtolonglong.c,
	libmisc/stringto/stringtounsignedchar.c,
	libmisc/stringto/stringtounsignedint.c,
	libmisc/stringto/stringtounsignedlong.c,
	libmisc/stringto/stringtounsignedlonglong.c: New files.

2009-07-21	Joel Sherrill <joel.sherrill@OARcorp.com>

	* posix/include/rtems/posix/key.h, posix/src/keycreate.c,
	posix/src/keydelete.c, posix/src/keyrundestructors.c: Restructure a
	bit to make it easier to do coverage analysis. Eliminate is_active
	member of control structure because it was redundant with very the
	key object was open or closed.

2009-07-21	Joel Sherrill <joel.sherrill@OARcorp.com>

	* rtems/src/eventseize.c, rtems/src/eventsurrender.c,
	rtems/src/eventtimeout.c: Clean up and minor rework as a side-effect
	of coverage analysis.

2009-07-21	Joel Sherrill <joel.sherrill@OARcorp.com>

	* sapi/src/debug.c, score/include/rtems/debug.h: Rename
	_Debug_Is_enabled to rtems_is_debug_enabled.

2009-07-21	Roxana Leontie <roxana.leontie@gmail.com>

	* libmisc/Makefile.am, libmisc/mw-fb/mw_fb.h: mw_fb.h eliminated the
	ufb_* calls and replaced some of the ioctl structures and numbers
	with the linux framebuffer equivalents
	* libmisc/mw-fb/mw_fb.c: Removed.

2009-07-21	Joel Sherrill <joel.sherrill@oarcorp.com>

	* posix/include/rtems/posix/cancel.h, posix/src/cancel.c,
	posix/src/canceleval.c, posix/src/setcancelstate.c,
	posix/src/setcanceltype.c: Fix a minor bug in the previous
	modification which resulted in psxcancel failing.

2009-07-21	Santosh G Vattam <vattam.santosh@gmail.com>

	* posix/Makefile.am, posix/include/rtems/posix/cancel.h,
	posix/src/cancel.c, posix/src/setcancelstate.c,
	posix/src/setcanceltype.c: Add
	_POSIX_Thread_Evaluate_cancellation_and_enable_dispatch method to
	avoid duplication of code and ease coverage analysis.
	* posix/src/canceleval.c: New file.

2009-07-20	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/src/corebarrierwait.c: Reverse order of tests to increase test
	coverage.

2009-07-19	Joel Sherrill <joel.sherrill@oarcorp.com>

	* rtems/src/ratemongetstatus.c: Fix spacing.

2009-07-17	Joel Sherrill <joel.sherrill@OARcorp.com>

	* posix/src/mutexattrgettype.c: Restructure a bit to make code coverage
	analysis easier.

2009-07-17	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/src/watchdogadjusttochain.c: Correct bug in recent rework.
	Coverage not impacted.

2009-07-13	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* score/src/isrthreaddispatch.c: New file.
	* score/include/rtems/score/isr.h: Added prototype.
	* score/Makefile.am: Update.

2009-07-10	Joel Sherrill <joel.sherrill@OARcorp.com>

	* configure.ac, score/src/threadqenqueuepriority.c: Add
	RTEMS_DO_NOT_UNROLL_THREADQ_ENQUEUE_PRIORITY to give user ability to
	disable the loop in _Thread_queue_Enqueue_priority from being
	unrolled. This reduces code size and makes coverage analysis easier.

2009-07-09	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/src/watchdogadjusttochain.c: Rework to ease code coverage
	analysis.

2009-07-09	Joel Sherrill <joel.sherrill@OARcorp.com>

	* rtems/src/semcreate.c: Clean up rework to eliminate the goto and fix
	a bug introduced by rework.

2009-07-09	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/src/heap.c: Remove unneeded include.

2009-07-08	Joel Sherrill <joel.sherrill@OARcorp.com>

	* rtems/src/semcreate.c: Restructure to simplify and improve ability to
	anlize this routine for coverage.

2009-07-08	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/src/objectgetinfo.c: Clean up and eliminate unreachable code.

2009-07-07	Joel Sherrill <joel.sherrill@oarcorp.com>

	* rtems/src/rtemsobjectapimaximumclass.c,
	score/include/rtems/score/object.h,
	score/src/objectapimaximumclass.c, score/src/objectgetinfo.c: Change
	return type of API maximum class methods to unsigned.

2009-07-07	Chris Johns <chrisj@rtems.org>

	* score/src/objectshrinkinformation.c: Rework loop to simplify and
	remove dead code.

2009-07-07	Joel Sherrill <joel.sherrill@OARcorp.com>

	* ChangeLog, posix/src/mutexsetprioceiling.c: Remove warning.

2009-07-07	Joel Sherrill <joel.sherrill@OARcorp.com>

	* posix/src/mutexsetprioceiling.c: Remove warning.

2009-07-07	Joel Sherrill <joel.sherrill@OARcorp.com>

	* posix/src/mutexsetprioceiling.c: Restructure to eliminate code
	paths which are unreachable. Also add more comments.
	* score/src/coremutexsurrender.c: Mark some code as RTEMS_DEBUG only
	since it cannot be hit unless coremutexseize.c is broken.

2009-07-06	Joel Sherrill <joel.sherrill@OARcorp.com>

	* posix/src/mutexget.c: Restructure to improve ability to do coverage
	analysis.

2009-07-06	Joel Sherrill <joel.sherrill@OARcorp.com>

	* posix/src/psxtransschedparam.c: Restructure to avoid untestable code
	being generated by switch.

2009-07-06	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/src/coremsgsubmit.c: Move impossible case inside an RTEMS_DEBUG
	conditional.

2009-07-06	Joel Sherrill <joel.sherrill@oarcorp.com>

	* posix/Makefile.am, posix/src/mutex.c, posix/src/mutexinit.c: Add
	initial support for the pthread mutex type attribute added by UNIX98.
	It can be normal, recursive, errorcheck or default.
	* posix/src/mutexattrgettype.c, posix/src/mutexattrsettype.c: New files.

2009-07-04	Joel Sherrill <joel.sherrill@OARcorp.com>

	* rtems/src/taskinitusers.c: Restructure to eliminate dead check --
	loop will not be executed when 0 tasks. Also improved comments and
	eliminated a local variable.

2009-07-03	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/src/apiext.c: Unreachable API Extension paths marked as either
	unused or only with certain APIs.

2009-07-03	Joel Sherrill <joel.sherrill@OARcorp.com>

	* itron/src/task.c, posix/src/pthread.c, rtems/src/tasks.c,
	sapi/src/exinit.c, score/include/rtems/score/apiext.h,
	score/src/apiext.c: No APIs currently implemented use the
	predriver_hook so disable it until such time as it is used.

2009-07-03	Joel Sherrill <joel.sherrill@OARcorp.com>

	* posix/src/sigtimedwait.c: Restructure to improve coverage. Improve
	comments.

2009-07-03	Daniel Hellstrom <daniel@gaisler.com>

	* sapi/src/exinit.c, score/include/rtems/score/objectmp.h,
	score/src/objectmp.c: Ensure local node number is set early enough in
	MP configurations.

2009-07-02	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/include/rtems/score/coremsg.h, score/src/coremsgflushwait.c:
	Mark _CORE_message_queue_Flush_waiting_threads with
	FUNCTIONALITY_NOT_CURRENTLY_USED_BY_ANY_API since there is no way to
	reach it via an API.

2009-07-01	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/include/rtems/score/tod.h: Correct name of parameter.

2009-06-30	Joel Sherrill <joel.sherrill@OARcorp.com>

	* posix/src/prwlocktimedrdlock.c: Restructure if slightly to make to
	make it easier to analyze for coverage.

2009-06-29	Joel Sherrill <joel.sherrill@oarcorp.com>

	* posix/src/killinfo.c, posix/src/mutexinit.c, posix/src/psignal.c,
	posix/src/psignalchecksignal.c, posix/src/pthread.c,
	posix/src/pthreadexit.c, posix/src/pthreadinitthreads.c: Remove
	includes of <assert.h> where possible. Make other uses conditional on
	ifdef RTEMS_DEBUG.

2009-06-24	Joel Sherrill <joel.sherrill@oarcorp.com>

	* posix/Makefile.am, posix/include/rtems/posix/priority.h,
	posix/include/rtems/posix/pthread.h,
	posix/inline/rtems/posix/priority.inl, posix/src/killinfo.c,
	posix/src/pthread.c, posix/src/pthreadcreate.c,
	posix/src/pthreadsetschedparam.c: Various modifications to improve
	binary code coverage analysis. Some of these are to mark code as
	debug only. Some are to break conditional expressions into multiple
	lines. Some are to move inline methods that are not time critical
	into subroutines to make them easier to test. Inlining them multiple
	times means that their logic paths are spread across multiple
	methods. This explodes the test cases required.
	* posix/src/psxpriorityisvalid.c, posix/src/psxtransschedparam.c: New files.

2009-06-18	Joel Sherrill <joel.sherrill@OARcorp.com>

	* rtems/src/regionextend.c: Restructure to eliminate dead code being
	generated.

2009-06-18	Chris Johns <chrisj@rtems.org>

	* telnetd/des.c: Split the des_f struct into smaller parts so
	targets that cannot address large structs can be supported.
	
2009-06-17	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/src/objectshrinkinformation.c: Fix spelling error.

2009-06-18	Chris Johns <chrisj@rtems.org>

	* libmisc/shell/hexdump-odsyntax.c: H8300 has the same size float
	and double. Fix error in case statement.
	
2009-06-18	Chris Johns <chrisj@rtems.org>

	* score/cpu/mips/rtems/mips/idtcpu.h: Missed another WAIT
	define. Removed.

2009-06-17	Chris Johns <chrisj@rtems.org>

	* libmisc/shell/extern-dd.h: Delcare the conv arrays extern to
	stop PPC link errors.
	* libmisc/shell/main_time.c, libmisc/Makefile.am,
	libmisc/shell/shellconfig.h: Add a time command.
	
	* libmisc/shell/shellconfig.h, 
2009-06-16	Joel Sherrill <joel.sherrill@oarcorp.com>

	* include/rtems/bspIo.h, libcsupport/Makefile.am: Add putk().
	* libcsupport/src/putk.c: New file.

2009-06-15	Joel Sherrill <joel.sherrill@OARcorp.com>

	* posix/src/killinfo.c: Make easier to map coverage data.

2009-06-15	Chris Johns <chrisj@rtems.org>

	* libmisc/shell/hexdump-odsyntax.c: AVR has the same size float
	and double. Fix error in case statement.
	* libmisc/shell/main_dd.c: Remove sys/conf.h header. It is not
	available if networking is disabled.

2009-06-15	Chris Johns <chrisj@rtems.org>

	* score/cpu/mips/rtems/mips/idtcpu.h: Remote WAIT define. Horrible
	overload.
	
2009-06-13	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/src/heapwalk.c: Remove include of stdlib.h since abort was not
	called anymore.

2009-06-13	Joel Sherrill <joel.sherrill@oarcorp.com>

	* rtems/include/rtems/rtems/region.h,
	rtems/src/rtemsobjectgetclassinfo.c, score/src/heapwalk.c,
	score/src/objectgetnameasstring.c, score/src/objectsetname.c,
	score/src/timespecdivide.c, score/src/ts64divide.c: Remove include of
	stdio.h

2009-06-12	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libblock/src/flashdisk.c, libblock/src/nvdisk.c,
	libblock/src/ramdisk.c, libfs/src/dosfs/fat.c,
	libfs/src/dosfs/msdos_format.c: Eliminate using the GNU/Linux
	specific error numbers EBADRQC and ENOTBLK. Switch to EINVAL and
	ENOTTY as appropriate.

2009-06-12	Chris Johns <chrisj@rtems.org>

	* libmisc/shell/dd-args.c, libmisc/shell/dd-conv.c,
	libmisc/shell/dd-conv_tab.c, libmisc/shell/dd-misc.c,
	libmisc/shell/dd-position.c, libmisc/shell/dd.h,
	libmisc/shell/extern-dd.h, libmisc/shell/hexdump-conv.c,
	libmisc/shell/hexdump-display.c, libmisc/shell/hexdump-odsyntax.c,
	libmisc/shell/hexdump-parse.c, libmisc/shell/hexdump.h,
	libmisc/shell/hexsyntax.c, libmisc/shell/main_dd.c,
	libmisc/shell/main_hexdump.c: New.  
	* libmisc/Makefile.am, libmisc/shell/shellconfig.h: Add dd and
	hexdump commands.

2009-06-12	Chris Johns <chrisj@rtems.org>

	* libblock/include/rtems/flashdisk.h,
	libblock/include/rtems/nvdisk.h, libblock/src/flashdisk.c,
	libblock/src/nvdisk.c: Change names to match the RAM disk change. 
	* libcsupport/src/eval.c: Remove some warnings.
	
2009-06-12	Chris Johns <chrisj@rtems.org>

	* libblock/src/bdbuf.c: Update comments.
	* libblock/src/bdpart.c, libblock/src/ide_part_table.c: Get the
	device from the rdev field of the stat buf.
	* libcsupport/include/rtems/libio.h: Add a path length to evalpath
	handler. Add parent locations to rmmod and unlink handlers.
	* libcsupport/include/rtems/libio_.h: Add a path length to
	rtems_filesystem_evaluate_path. Add
	rtems_filesystem_evaluate_relative_path, rtems_filesystem_dirname,
	and rtems_filesystem_prefix_separators. Remove
	rtems_filesystem_evaluate_parent.
	* libcsupport/src/base_fs.c, libcsupport/src/chdir.c,
	libcsupport/src/chmod.c, libcsupport/src/chown.c,
	libcsupport/src/chroot.c, libcsupport/src/fchdir.c,
	libcsupport/src/link.c, libcsupport/src/mount.c,
	libcsupport/src/open.c, libcsupport/src/privateenv.c,
	libcsupport/src/readlink.c, libcsupport/src/unmount.c,
	libcsupport/src/utime.c, libcsupport/src/unmount.c,
	libcsupport/src/utime.c, libfs/src/devfs/devfs.h,
	libfs/src/devfs/devfs_eval.c, libfs/src/devfs/devstat.c,
	libfs/src/dosfs/msdos_create.c, libfs/src/dosfs/msdos_misc.c,
	libfs/src/imfs/imfs.h, libfs/src/imfs/imfs_eval.c,
	libfs/src/imfs/imfs_load_tar.c, libfs/src/imfs/ioman.c,
	libfs/src/pipe/pipe.c, libmisc/fsmount/fsmount.c,
	libnetworking/lib/ftpfs.c: Add the length parameter to the eval
	call.
	* libcsupport/src/eval.c: Add rtems_filesystem_prefix_separators,
	rtems_filesystem_dirname,
	rtems_filesystem_evaluate_relative_path. Add the length parameter
	to the eval call.
	* libcsupport/src/rmdir.c: Find the parent pathloc then the node
	pathloc from that node. Remove the call to find the parent given
	the node pathloc.
	* libcsupport/src/stat.c: Add the length parameter to the eval
	call. Set the device into the rdev field.
	* libcsupport/src/unlink.c: Find the parent pathloc then the node
	pathloc from that node. Remove the call to find the parent given
	the node pathloc.
	* libfs/src/dosfs/fat.c, libfs/src/dosfs/msdos_format.c: Get the
	disk device number from the stat rdev field.
	* libfs/src/dosfs/msdos.h: Add the length parameter to the eval
	call. Add the parent pathloc to the rmnod handler.
	* libfs/src/dosfs/msdos_dir.c: Add the parent pathloc to the rmnod
	handler.
	* libfs/src/dosfs/msdos_eval.c: Add the length parameter to the
	eval and token call.
	* libfs/src/imfs/imfs_directory.c: Add the parent pathloc to the
	rmnod handler.
	* libfs/src/imfs/imfs_fchmod.c: Do not test the mode flags for
	only the allowed flags. Add the missing flags spec'ed in the POSIX
	standard.
	* libfs/src/imfs/imfs_fsunmount.c, libfs/src/imfs/imfs_rmnod.c,
	libfs/src/imfs/imfs_unlink.c, libfs/src/imfs/memfile.c: Add the
	parent node. Currently ignored in the IMFS.
	* libfs/src/imfs/imfs_stat.c: Return the device number in the rdev
	field.
	* libfs/src/imfs/imfs_mknod.c, libfs/src/imfs/imfs_symlink.c : Add
	the length parameter to the token call.
	* libfs/src/nfsclient/src/nfs.c: Add the length parameter to the
	eval call and parent node to the rmnod and unlink command.
	* libmisc/shell/internal.h: Remove the libc mounter decl to make
	public.
	* libmisc/shell/main_mount.c: Add support for hooking external
	mount support for new file systems.
	* libmisc/shell/shell.h: Add helper functions for the mount
	command.

2009-06-11	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/src/corespinlockwait.c: Mark timeout code which is not
	currently exercised by any API with the
	FUNCTIONALITY_NOT_CURRENTLY_USED_BY_ANY_API conditional.

2009-06-10	Joel Sherrill <joel.sherrill@oarcorp.com>

	* sapi/include/confdefs.h: Fix minor error when application has its own
	initialization task table.

2009-06-08	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/src/heapwalk.c: Verify addresses are aligned.

2009-06-03	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libcsupport/include/rtems/assoc.h,
	libcsupport/include/rtems/malloc.h: Add extern "C" {} guards.
	* libcsupport/include/rtems/libio_.h: Move extern "C" {} guards.

2009-06-01	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/include/rtems/score/thread.h, score/src/threadinitialize.c,
	score/src/threadreset.c, score/src/threadresume.c,
	score/src/threadsuspend.c: Nesting count on thread suspension is only
	supported from ITRON API so disable if ITRON is disabled.

2009-06-01	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/include/rtems/score/thread.h, score/src/threadhandler.c: Merge
	conditional code from main and init/fini C++ constructors so the body
	of this method reads better. Mark thread prototypes which are not
	currently exercised by any APIs with
	FUNCTIONALITY_NOT_CURRENTLY_USED_BY_ANY_API conditional.

2009-05-28	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1415/cpukit
	* rtems/src/semcreate.c, rtems/src/semtranslatereturncode.c,
	score/include/rtems/score/coremutex.h,
	score/inline/rtems/score/coremutex.inl, score/src/coremutex.c:
	Address two paths where a task with a priority above the ceiling
	could obtain a priority ceiling mutex.

2009-05-27	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libcsupport/include/rtc.h: New RTC driver interface.
	* libmisc/Makefile.am, libmisc/shell/shellconfig.h: Added RTC command.
	* libmisc/shell/main_rtc.c: New file.

2009-05-21	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1413/cpukit
	* rtems/src/timerserver.c: Fix bug where server based timers which
	reinitiated themselves did not get reinserted onto timer chain.

2009-05-20	Joel Sherrill <joel.sherrill@oarcorp.com>

	* librpc/src/xdr/xdr_float.c: Change detection logic for h8300.

2009-05-18	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1412/cpukit
	* score/src/coremutex.c: Add missing braces. Broken with strict mutex
	code added.

2009-05-15	Joel Sherrill <joel.sherrill@OARcorp.com>

	* posix/src/getitimer.c, posix/src/setitimer.c: Add error checks and
	clean up so coverage analysis is possible.

2009-05-15	Joel Sherrill <joel.sherrill@OARcorp.com>

	* posix/src/sysconf.c: Restructure to improve coverage analysis.

2009-05-15	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libcsupport/Makefile.am, libcsupport/src/printk.c: Restructure to
	make analysis and coverage easier. Now 100% covered.
	* libcsupport/src/vprintk.c: New file.

2009-05-13	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1411/cpukit
	* rtems/src/workspace.c, score/include/rtems/score/protectedheap.h,
	score/src/pheapgetfreeinfo.c, score/src/pheapgetinfo.c: Improve
	workspace wrapper methods.

2009-05-10	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/shell/login_prompt.c, libmisc/shell/shell_script.c,
	rtems/include/rtems/rtems/timer.h: Fix warnings.

2009-05-08	Joel Sherrill <joel.sherrill@oarcorp.com>

	* posix/include/rtems/posix/psignal.h,
	rtems/inline/rtems/rtems/support.inl: Remove warnings.

2009-05-08	Joel Sherrill <joel.sherrill@oarcorp.com>

	* sapi/include/rtems/config.h: Switch from ssize_t to uintptr_t for
	work space size since it is larger than a single allocatable object.

2009-05-08	Chris Johns <chrisj@rtems.org>

	* cpukit/libblock/src/bdpart.c, libmisc/shell/main_msdosfmt.c,
	libmisc/shell/main_rm.c, libnetworking/libc/gethostnamadr.c,
	score/include/rtems/score/bitfield.h,
	score/inline/rtems/score/priority.inl: Remove warnings.

2009-05-07	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/src/objectgetnext.c: Add checks for NULL pointers.

2009-05-07	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libnetworking/lib/ftpfs.c, libnetworking/rtems/ftpfs.h: Added
	timeouts.  Options are now per file system instance.

2009-05-06	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/uuid/gen_uuid.c, libnetworking/lib/syslog.c,
	telnetd/telnetd.c: Fixed warnings.

2009-05-06	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/Makefile.am:
	* libcsupport/src/isatty_r.c: New file.

2009-05-06	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libmisc/uuid/README: New file.

2009-05-05	Joel Sherrill <joel.sherrill@oarcorp.com>

	* rtems/include/rtems/rtems/part.h,
	rtems/inline/rtems/rtems/region.inl: Fix warnings.

2009-05-05	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/include/rtems/score/heap.h,
	score/inline/rtems/score/address.inl,
	score/inline/rtems/score/heap.inl,
	score/inline/rtems/score/object.inl,
	score/inline/rtems/score/priority.inl,
	score/inline/rtems/score/tod.inl: Remove warnings.

2009-05-05	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* score/include/rtems/system.h: Added
	RTEMS_COMPILER_DEPRECATED_ATTRIBUTE define.
	* include/rtems/endian.h:
	Added functions to translate integers to/from byte streams.
	* libnetworking/lib/ftpfs.c: Added timeout for active data connection
	accept.  Return EIO for close() errors.  Changed PORT format string.
	Fixed connection termination after store errors on passive connections.
	Added magic device identifier for stat().
	* libmisc/uuid/clear.c, libmisc/uuid/compare.c, libmisc/uuid/copy.c,
	libmisc/uuid/COPYING, libmisc/uuid/gen_uuid.c, libmisc/uuid/isnull.c,
	libmisc/uuid/pack.c, libmisc/uuid/parse.c, libmisc/uuid/unpack.c,
	libmisc/uuid/unparse.c, libmisc/uuid/uuidd.h, libmisc/uuid/uuid.h,
	libmisc/uuid/uuidP.h, libmisc/uuid/uuid_time.c: New files.
	* Makefile.am, preinstall.am, libblock/Makefile.am,
	libmisc/Makefile.am, wrapup/Makefile.am: Update.
	* libblock/include/rtems/bdpart.h, libblock/src/bdpart.c,
	libmisc/shell/fdisk.c: New files.
	* libmisc/shell/shellconfig.h: Added FDISK command.
	* libblock/include/rtems/blkdev.h, libblock/include/rtems/diskdevs.h:
	Documentation.
	* libblock/include/rtems/ramdisk.h, libblock/src/ramdisk.c,
	libmisc/fsmount/fsmount.c, libmisc/fsmount/fsmount.h:
	Documentation.  Changed integer types to match block device types.
	Added const qualifier whenever possible.  Added
	rtems_fsmount_create_mount_point() prototype.
	* libfs/src/dosfs/msdos_format.c: Added check for NULL.

2009-05-04	Joel Sherrill <joel.sherrill@oarcorp.com>

	* telnetd/telnetd.h: Spacing.

2009-05-04	Joel Sherrill <joel.sherrill@oarcorp.com>

	* rtems/include/rtems/rtems/clock.h, rtems/src/clocktodtoseconds.c,
	rtems/src/clocktodvalidate.c: Add const to parameter.

2009-05-03	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/shell/shell.c, libmisc/stackchk/check.c: Eliminate warnings.

2009-05-03	Joel Sherrill <joel.sherrill@oarcorp.com>

	* posix/src/condtimedwait.c, posix/src/mutextimedlock.c,
	posix/src/prwlocktimedrdlock.c, posix/src/prwlocktimedwrlock.c,
	posix/src/semopen.c: Silence warnings.

2009-04-29    Sebastian Huber <sebastian.huber@embedded-brains.de>

	* sapi/include/confdefs.h, libblock/include/rtems/bdbuf.h: Changed
	type of rtems_bdbuf_pool_configuration_size to size_t.
	
	* libblock/include/rtems/bdbuf.h, libblock/include/rtems/blkdev.h,
	libblock/include/rtems/diskdevs.h, libblock/src/bdbuf.c,
	libblock/src/blkdev.c, libblock/src/diskdevs.c: Buffer pool
	allocation is now cache aligned.  The cache functions are
	currently not available on all platforms so the cache line size is
	fixed to 32 bytes for now.  Changed various integer types which
	refer to block sizes, numbers and indexes.  Fixed logical block
	indexes in buffer get and read function.  It is now possible to
	delete logical disks.  Modified documentation

2009-04-29	Chris Johns <chrisj@rtems.org>

	* libcsupport/include/rtems/libio.h: Add rtems_off64_t for
	internal use. Update the internal off_t to the 64bit offset.

	* libnetworking/lib/ftpfs.c, libnetworking/lib/tftpDriver.c,
	libfs/src/nfsclient/src/nfs.c, libfs/src/imfs/imfs_fifo.c,
	libfs/src/imfs/memfile.c, libfs/src/imfs/imfs_directory.c,
	libfs/src/imfs/imfs.h, libfs/src/imfs/deviceio.c: Change off_t to
	rtems_off64_t.

	* libmisc/shell/main_msdosfmt.c: Add an info level so the format
	code can tell the user what is happening. Add more options to
	control the format configuration.

	* libfs/src/dosfs/msdos_format.c: Add a print function to display
	the format progress and print statements. Select a better default
	cluster size depending on the size of the disk. This lowers the
	size of the FAT on large disks. Read and maintain the MRB
	partition information.

	* libfs/src/dosfs/dosfs.h, libfs/src/dosfs/fat.h,
	libfs/src/dosfs/fat_file.c, libfs/src/dosfs/fat_file.h,
	libfs/src/dosfs/msdos.h, libfs/src/dosfs/msdos_conv.c,
	libfs/src/dosfs/msdos_create.c, libfs/src/dosfs/msdos_file.c,
	libfs/src/dosfs/msdos_handlers_dir.c,
	libfs/src/dosfs/msdos_handlers_file.c,
	libfs/src/dosfs/msdos_init.c, libfs/src/dosfs/msdos_initsupp.c,
	libfs/src/dosfs/msdos_misc.c, libfs/src/dosfs/msdos_mknod.c: Add
	long file name support. Change off_t to rtems_off64_t.

	* libblock/include/rtems/ide_part_table.h: Add MRB partition table
	size.
	
2009-04-28	Chris Johns <chrisj@rtems.org>

	* libblock/src/bdbuf.c: Flush the transfer sync event before
	blocking in a read.

2009-04-28	Chris Johns <chrisj@rtems.org>

	* libnetworking/nfs/bootp_subr.c: Fixed PR1384. The route set in
	the initialise pass is not deleted so an exists error is
	returned. Ignore the error. Print the server address as an IP
	address not hex digits.  

	* libnetworking/rtems/rtems_dhcp.c: Fixed
	PR1338. Close the socket, handle the returned event flags.
	
2009-04-28	Chris Johns <chrisj@rtems.org>

	* sapi/include/confdefs.h: Add a prototype for Init with C linkage
	and define Init task command line arguments if confdefs.h provides
	an Init entry point.

2009-04-15	Ralf Corsepius <ralf.corsepius@rtems.org>

	* configure.ac: Disable LIBSHELL for unix targets.

2009-04-15	Wei-Tsun Sun <wsun013@gmail.com>

	* libcsupport/src/malloc_initialize.c: Add dummy
	  RTEMS_Malloc_Initialize.

2009-04-14	Till Straumann <strauman@slac.stanford.edu>

	* libnetworking/rtems/rtems_mii_ioctl_kern.c: poll BMSR twice
	to clear latched link-status low.

2009-04-14	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* Makefile.am, preinstall.am, libmisc/shell/login.h: Removed login.h.
	* libmisc/shell/login_check.c, libmisc/shell/login_prompt.c,
	libmisc/shell/shell.c, libmisc/shell/shell.h:  Changed copyright
	notices.  Moved shell login declarations to shell.h.
	* telnetd/check_passwd.c, telnetd/telnetd.c, telnetd/telnetd.h: Changed
	copyright notices.  Update for shell login changes.

2009-04-03	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libnetworking/lib/ftpfs.c: Fixed return codes of open handler.
	Request reply after data write connection close.

2009-04-02	Ralf Corsépius <ralfcorsepius@rtems.org>

	* aclocal/check-rtems-debug.m4: Add missing ','.

2009-03-30	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libcsupport/src/symlink.c: Check if path evaluation handler exists.
	* libnetworking/lib/ftpfs.c: Cleanup.

2009-03-27	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* Makefile.am, preinstall.am, libmisc/Makefile.am,
	libmisc/shell/shell.c, libmisc/shell/shell.h, telnetd/check_passwd.c,
	telnetd/telnetd.c, telnetd/telnetd.h:
	Generalized login check.
	* libmisc/shell/login.h, libmisc/shell/login_check.c,
	libmisc/shell/login_prompt.c: New files.
	* libmisc/stackchk/check.c: Changed format for blown stack message.
	* libcsupport/src/libio_sockets.c: Removed superfluous cast.
	* libnetworking/rtems/ftpfs.h: Documentation.

2009-03-26	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libmisc/shell/shell.h: Pointer to
	oparations table for mount command is now const.
	* libnetworking/lib/ftpfs.c, libnetworking/rtems/ftpfs.h: Rewrite of
	the FTP file system which implements now the trivial command state
	machines of RFC 959.  For the data transfer passive (= default) and
	active (= fallback) modes are now supported.
	* libmisc/shell/main_mount_ftp.c: Update for FTP file system changes.

2009-03-12	Santosh G Vattam <vattam.santosh@gmail.com>

	PR 1378/filesystem
	* libfs/src/imfs/deviceio.c: IMFS device lseek should return the
	current offset.

2009-03-12	Joel Sherrill <joel.sherrill@OARcorp.com>

	* ftpd/ftpd.h: Add extern C.

2009-03-12	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1393/cpukit
	* posix/src/mutextranslatereturncode.c: Add entry to table for
	CORE_MUTEX_RELEASE_NOT_ORDER.

2009-03-11	Ralf Corsépius <ralfcorsepius@rtems.org>

	* configure.ac: Check for __assert().
	* libcsupport/src/__assert.c: Conditionally build __assert().

2009-03-10	Ralf Corsépius <ralfcorsepius@rtems.org>

	* configure.ac: Check for creat().
	* libcsupport/src/creat.c: Build conditionally.

2009-03-09	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1376/filesystem
	* libcsupport/include/rtems/libio.h, libfs/src/dosfs/fat_file.c,
	libfs/src/dosfs/msdos.h, libfs/src/dosfs/msdos_dir.c,
	libfs/src/dosfs/msdos_file.c, libfs/src/imfs/deviceio.c,
	libfs/src/imfs/imfs.h, libfs/src/imfs/imfs_directory.c,
	libfs/src/imfs/imfs_fifo.c, libfs/src/imfs/memfile.c,
	libfs/src/nfsclient/src/nfs.c: lseek handlers should return off_t.

2009-03-06	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/inline/rtems/score/heap.inl: Use the correct fields and do end
	- begin.

2009-03-05	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libcsupport/src/malloc_initialize.c: Fixed invalid function
	parameter.

2009-03-02	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/src/malloc_initialize.c, score/Makefile.am,
	score/include/rtems/score/protectedheap.h,
	score/inline/rtems/score/heap.inl: Get total heap size correct when
	using unified C Program Heap and RTEMS Workspace.
	* score/src/pheapgetsize.c: New file.

2009-03-02	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1388/cpukit
	* rtems/src/semcreate.c: Classic Semaphores allow both priority inherit
	and ceiling attributes to be set on semaphore create. These
	attributes are mutually exclusive and this should be an error.

2009-02-27	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libmisc/shell/shell.c, libmisc/shell/shell.h:  Changed type for
	boolean values from 'int' to 'bool'.  Added option 'login' to enable or
	disable a login prompt.  Changed intialization of global shell
	environment to static initialization.  Changed stack size type to
	'size_t' conforming to classic API.

	* libmisc/shell/shellconfig.h: Fixed some typos.

2009-02-20	Ralf Corsepius <ralf.corsepius@rtems.org>

	* include/sys/priority.h: New.
	* Makefile.am: Add include/sys/priority.h

2009-02-19	Joel Sherrill <joel.sherrill@oarcorp.com>

	* include/rtems/irq-extension.h, include/rtems/irq.h: Spelling errors
	and spacing.

2009-02-19	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libnetworking/rtems/rtems_bsdnet_internal.h: Re-add boolean when
	building BSD code. This is used by at least one of the BSD NIC
	drivers I am currently porting. I am trying out

2009-02-19	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/Makefile.am, libmisc/shell/shellconfig.h: Add halt command to
	shell which results in the shutting RTEMS down.
	* libmisc/shell/main_halt.c: New file.

2009-02-17	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1377/shell
	* libmisc/shell/main_netstats.c: Remove #if 0 which should not have
	been there anyway.

2009-02-12	Joel Sherrill <joel.sherrill@oarcorp.com>

	* sapi/include/rtems/config.h, score/include/rtems/score/thread.h,
	score/src/threadidlebody.c: Change prototype of IDLE thread to
	consistently return void * and take a uintptr_t argument.

2009-02-11	Joel Sherrill <joel.sherrill@oarcorp.com>

	* sapi/src/exinit.c: Eliminate _CPU_Thread_dispatch_pointer and passing
	address of _Thread_Dispatch to _CPU_Initialize. Clean up comments.

2009-02-11	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1374/misc
	* libmisc/stackchk/check.c: Fix printk formatting string.

2009-02-11	Joel Sherrill <joel.sherrill@oarcorp.com>

	* sapi/src/exinit.c: Interrupts are guaranteed to be disabled by
	boot_card(), do not do it here as well.

2009-02-11	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/sys/kernel.h: Remove PSEUDO_* 
	(Unused, not in FreeBSD).
	* libnetworking/sys/kernel.h: Remove struct linker_set (Unused).
	* libnetworking/net/if_loop.c: Remove PSEUDO_SET (Unused).
	* libnetworking/kern/uipc_domain.c: Remove domain_set (Unused).
	* libnetworking/sys/kernel.h: Remove execsw_set,
	si_elem_t (Unused, not in FreeBSD).
	#include <sys/linker_set.h>.
	Add #ifdef _KERNEL guards (From FreeBSD).

2009-02-11	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/sys/kernel.h: Remove hostnamelen, domainnamelen,
	lbolt, tickdelta, timedelta (Unused, not in FreeBSD).

2009-02-10	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/vm/vm.h: Cosmetics from FreeBSD.
	* libnetworking/rtems/rtems_bsdnet_internal.h: Remove struct
	vm_page, vm_page_t, boolean_t (Unused).
	* libnetworking/nfs/bootp_subr.c, 
	libnetworking/nfsclient/nfsdiskless.h:
	Cosmetics from FreeBSD.
	* libnetworking/rtems/rtems_bsdnet_internal.h:
	Remove struct file (Unused).

2009-02-09	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/sys/socketvar.h: Remove struct file,
	soo_ioctl, soo_select, soo_stat, getsock (Unused).

2009-02-06	Ralf Corsépius <ralf.corsepius@rtems.org>
	* posix/include/sched.h, posix/src/sched_getparam.c: 
	Make sched_getparam() POSIX compliant.

2009-02-06	Ralf Corsépius <ralf.corsepius@rtems.org>

	* Makefile.am: Don't install libcsupport/include/tar.h.

2009-02-06	Ralf Corsépius <ralf.corsepius@rtems.org>

	* aclocal/canonical-target-name.m4, aclocal/enable-posix.m4:
	Remove comment referring to HPUX.

2009-02-05	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libnetworking/lib/ftpfs.c: Enable write and mount filesystem
	with read-write access.

2009-02-05	Ralf Corsépius <ralf.corsepius@rtems.org>

	* ftpd/ftpd.c: Change SIX_MONTHS to time_t.
	* sapi/include/rtems/io.h: Move extern "C" brace after includes.

2009-02-04	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/net/if_ppp.h: Eliminate pppattach,  pppintr
	  (Unused).
	* libnetworking/net/if_ppp.c: Eliminate pppintr (Unused).

2009-02-04	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/rtems/rtems_dhcp.c: Remove #define KERNEL.
	* libnetworking/Makefile.am, libnetworking/rtems/rtems_bsdnet.h,
	libnetworking/rtems/rtems_dhcp.c:
	Remove -D_COMPILING_BSD_KERNEL_ (Unused).
	* libnetworking/Makefile.am: Remove -DKERNEL.
	* libnetworking/rtems/rtems_mii_ioctl.c: Remove #undef KERNEL.
	* libnetworking/nfs/bootp_subr.c: #include <sys/ucred.h>.
	* libcsupport/include/sys/ioccom.h: Remove #define KERNEL, 
	#define _KERNEL.
	* libfs/src/nfsclient/src/rpcio.c,
	libfs/src/nfsclient/src/sock_mbuf.c, 
	libfs/src/nfsclient/src/xdr_mbuf.c: Remove #define KERNEL.
	* libfs/src/dosfs/fat_file.h, libfs/src/dosfs/fat_fat_operations.h:
	Move extern "C" brace after includes.

2009-02-03	Ralf Corsépius <ralf.corsepius@rtems.org>

	* posix/src/barrierattrdestroy.c, posix/src/barrierattrinit.c,
	posix/src/cond.c, posix/src/condattrdestroy.c,
	posix/src/condbroadcast.c, posix/src/conddefaultattributes.c,
	posix/src/condsignal.c, posix/src/condtimedwait.c,
	posix/src/condwait.c, posix/src/key.c, posix/src/keycreate.c,
	posix/src/keydelete.c, posix/src/keyrundestructors.c,
	posix/src/killinfo.c, posix/src/mqueue.c,
	posix/src/mqueuecreatesupp.c, posix/src/mqueueopen.c,
	posix/src/mqueuereceive.c, posix/src/mqueuerecvsupp.c,
	posix/src/mqueuesend.c, posix/src/mqueuesendsupp.c,
	posix/src/mqueuetimedreceive.c, posix/src/mqueuetimedsend.c,
	posix/src/mqueueunlink.c, posix/src/mutex.c,
	posix/src/mutexattrdestroy.c, posix/src/mutexinit.c,
	posix/src/mutexlock.c, posix/src/mutextimedlock.c,
	posix/src/mutextrylock.c, posix/src/pbarrier.c,
	posix/src/prwlock.c, posix/src/prwlockrdlock.c,
	posix/src/prwlocktimedrdlock.c, posix/src/prwlocktimedwrlock.c,
	posix/src/prwlocktryrdlock.c, posix/src/prwlocktrywrlock.c,
	posix/src/prwlockwrlock.c, posix/src/psignalunblockthread.c,
	posix/src/pspin.c, posix/src/pspinlock.c,
	posix/src/pspintrylock.c, posix/src/pthread.c,
	posix/src/pthreadattrdestroy.c, posix/src/pthreadcreate.c,
	posix/src/pthreadinitthreads.c, posix/src/pthreadkill.c,
	posix/src/pthreadonce.c, posix/src/pthreadsetschedparam.c,
	posix/src/ptimer.c, posix/src/rwlockattrdestroy.c,
	posix/src/rwlockattrinit.c, posix/src/semaphore.c,
	posix/src/semaphorecreatesupp.c, posix/src/semdestroy.c,
	posix/src/semopen.c, posix/src/semtrywait.c,
	posix/src/semunlink.c, posix/src/semwait.c:
	Eliminate TRUE/FALSE.

2009-01-30	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/include/rtems/score/object.h: Maximum index if 0xffff not 0xff
	when using 32-bit ids. This resulted in unlimited configurations not
	being able to create more than 255 objects of a class.

2009-01-29	 Nickolay Semyonov-Kolchin <nbkolchin@gmail.com>

	PR 1359/cpukit
	* libcsupport/src/libio.c: rtems_libio_allocate:
	rtems_libio_iop_freelist incorrectly zeroed on semaphore error. Now
	checks error and does not modify anything until sure it has created
	semaphore.

2009-01-29	Gene Smith <gene.smith@siemens.com>

	PR 1363/filesystem
	* libfs/src/dosfs/fat.h: Fix issue where 32 bit values are not written
	correctly in FAT f/s data.

2009-01-29	Eric Norum <norume@aps.anl.gov>

	PR 1364/cpukit
	* libcsupport/src/gxx_wrappers.c: Fix compilation problems when
	diagnostics enabled.

2009-01-23	Chris Johns <chrisj@rtems.org>

	* libmisc/shell/shell.c: Fix command line parsing of valid
	characters.

2009-01-21	Nickolay Kolchin <nbkolchin@gmail.com>
	        Joel Sherrill <joel.sherrill@oarcorp.com>

	PR 1357/cpukit
	* rtems/src/tasks.c: Ensure creating a task with no ASR is honored.

2009-01-21	Joel Sherrill <joel.sherrill@OARcorp.com>

	* rtems/src/tasks.c: Initialize event_condition to 0 just because.

2009-01-08	Joel Sherrill <joel.sherrill@OARcorp.com>

	* librpc/src/xdr/xdr_float.c: M32C has no native float but GCC soft
	float should be IEEE format.

2009-01-08	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/src/objectextendinformation.c: Fold two paths into one.

2009-01-06	Ralf Corsépius <ralf.corsepius@rtems.org>

	* rtems/src/barrier.c, rtems/src/barrierwait.c,
	rtems/src/clocktodvalidate.c, rtems/src/dpmem.c,
	rtems/src/msg.c, rtems/src/msgmp.c, rtems/src/msgqcreate.c,
	rtems/src/msgqsend.c, rtems/src/msgqurgent.c, rtems/src/part.c,
	rtems/src/partcreate.c, rtems/src/partmp.c, rtems/src/ratemon.c,
	rtems/src/region.c, rtems/src/regionmp.c, rtems/src/rtemstimer.c,
	rtems/src/sem.c, rtems/src/semcreate.c, rtems/src/semmp.c,
	rtems/src/semobtain.c, rtems/src/signalsend.c, rtems/src/taskcreate.c,
	rtems/src/taskinitusers.c, rtems/src/taskmode.c, rtems/src/taskmp.c,
	rtems/src/taskresume.c, rtems/src/tasks.c,
	rtems/src/tasksetpriority.c: Eliminate TRUE/FALSE.

2009-01-05	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/src/gxx_wrappers.c, posix/include/mqueue.h,
	posix/include/rtems/posix/semaphore.h,
	posix/inline/rtems/posix/barrier.inl,
	posix/inline/rtems/posix/key.inl,
	posix/inline/rtems/posix/mqueue.inl,
	posix/inline/rtems/posix/rwlock.inl,
	posix/inline/rtems/posix/semaphore.inl,
	posix/inline/rtems/posix/spinlock.inl,
	posix/inline/rtems/posix/timer.inl, posix/src/condget.c,
	posix/src/mqueuenametoid.c, posix/src/mutexget.c,
	posix/src/semaphorenametoid.c, posix/src/semopen.c,
	sapi/src/itronapi.c, sapi/src/posixapi.c: Make changes necessary for
	all tests to run on SPARC with 16-bit Ids. This required ensuring
	that all POSIX and compilering binding code makes a distinction
	between the public Id type (e.g. pthread_t, etc.) and the RTEMS
	Object_Id type. All POSIX Object Get routines should not take the
	POSIX Id type as the argument. Sixteen bit RTEMS Ids should be placed
	into the 32-bits reserved by the POSIX API type in a uniform manner
	now. This removed all assumptions that the external Id types in POSIX
	and ITRON are the same as the internal Object Id type.

2009-01-05	Joel Sherrill <joel.sherrill@oarcorp.com>

	* itron/inline/rtems/itron/semaphore.inl: THREAD_STATUS_PROXY_BLOCKING
	should only be defined in multiprocessing configurations.

2009-01-05	Joel Sherrill <joel.sherrill@oarcorp.com>

	* posix/include/rtems/posix/key.h: Remove redundant prototypes for
	inlines.

2009-01-05	Joel Sherrill <joel.sherrill@oarcorp.com>

	PR 1351/cpukit
	* sapi/include/confdefs.h: Mask off unlimited object bit before using
	configured number in calculations.

2009-01-05	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/include/rtems/score/object.h,
	score/src/objectallocatebyindex.c: Object index should be int.
	Fix bug when index is negative.
	* score/src/objectextendinformation.c: Do not allow maximum number
	of allocated objects to exceed maximum representable in index
	field of Object Id.
	* score/src/objectgetisr.c: Use same code that is in _Objects_Get
	to extract index field of Object Id.

2009-01-05	Joel Sherrill <joel.sherrill@oarcorp.com>

	* itron/include/itronsys/types.h: ITRON types should follow native
	integer size.

2009-01-05	Ralf Corsépius <ralf.corsepius@rtems.org>

	* pppd/sys-rtems.c: Remove stray ';' introducing unreachable code.
	* libcsupport/src/error.c: Remove hpux9 anachronism.

2009-01-05	Ralf Corsépius <ralf.corsepius@rtems.org>

	* Makefile.am:
	Install libnetworking/sys/uio.h if building for NEWLIB.
	* libnetworking/Makefile.am:
	Remove installation of libnetworking/sys/uio.h.
	* libcsupport/Makefile.am: Build writev.c/readv.c for NEWLIB.
	* libfs/src/imfs/imfs_eval.c: Add braces to suppress gcc warning on
	empty 'else' block.

2009-01-04	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libcsupport/src/scandir.c: Use external scandir if available.

2009-01-03	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/lib/tftpDriver.c: Add __attribute__((unused)) to
	  unused function args.
	* libnetworking/lib/tftpDriver.c: Use INADDR_ANY/INADDR_BROADCAST.
	* libnetworking/netinet/in.h: Add in_addr_t.
	Re-base "struct in_addr" on in_addr_t (mandated by POSIX). 
	* libnetworking/netinet/in.h: Remove struct ip_opts (unused).

2009-01-02	Ralf Corsépius <ralf.corsepius@rtems.org>

	* ftpd/ftpd.c: Add __attribute__((unused)) to unused function args.
	* libmisc/capture/capture-cli.c, libmisc/capture/capture.c,
	libmisc/devnull/devnull.c, libmisc/monitor/mon-command.c,
	libmisc/monitor/mon-config.c, libmisc/monitor/mon-driver.c,
	libmisc/monitor/mon-extension.c, libmisc/monitor/mon-itask.c,
	libmisc/monitor/mon-monitor.c, libmisc/monitor/mon-network.c,
	libmisc/monitor/mon-part.c, libmisc/monitor/mon-queue.c,
	libmisc/monitor/mon-region.c, libmisc/monitor/mon-sema.c,
	libmisc/monitor/mon-server.c, libmisc/monitor/mon-symbols.c,
	libmisc/monitor/mon-task.c, libmisc/mw-fb/mw_fb.c,
	libmisc/mw-fb/mw_uid.c, libmisc/serdbg/termios_printk.c,
	libmisc/shell/cmds.c, libmisc/shell/fts.c, libmisc/shell/main_cp.c
	libmisc/shell/main_id.c, libmisc/shell/main_logoff.c,
	libmisc/shell/main_mount_nfs.c, libmisc/shell/main_pwd.c,
	libmisc/shell/main_stackuse.c, libmisc/shell/main_tty.c,
	libmisc/shell/main_whoami.c, libmisc/shell/main_wkspaceinfo.c,
	libmisc/shell/shell_script.c, libmisc/shell/utils-cp.c,
	libmisc/shell/utils-ls.c, libmisc/shell/verr.c,
	libmisc/shell/verrx.c, libmisc/stackchk/check.c:
	Add __attribute__((unused)) to unused function args.

2009-01-02	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libblock/src/blkdev.c, libblock/src/flashdisk.c,
	libblock/src/nvdisk-sram.c, libblock/src/nvdisk.c,
	libblock/src/ramdisk.c:
	Add __attribute__((unused)) to unused function args.

2009-01-02	Ralf Corsépius <ralf.corsepius@rtems.org>

	* posix/src/_execve.c, posix/src/aio_cancel.c,
	posix/src/aio_error.c, posix/src/aio_fsync.c,
	posix/src/aio_read.c, posix/src/aio_return.c,
	posix/src/aio_suspend.c, posix/src/aio_write.c, posix/src/alarm.c,
	posix/src/devctl.c, posix/src/lio_listio.c, posix/src/mprotect.c,
	posix/src/pbarrierwait.c, posix/src/psignal.c, posix/src/pthread.c,
	posix/src/pthreadatfork.c, posix/src/sched_getparam.c,
	posix/src/sched_getscheduler.c, posix/src/sched_setparam.c,
	posix/src/sched_setscheduler.c, posix/src/timertsr.c.
	posix/src/ualarm.c: Add __attribute__((unused)) to unused function
	args.

2009-01-02	Ralf Corsépius <ralf.corsepius@rtems.org>

	* posix/include/aio.h, posix/src/aio_suspend.c: Make aio_suspend()
	POSIX-compliant.

2009-01-01	Ralf Corsépius <ralf.corsepius@rtems.org>

	* itron/src/acp_por.c, itron/src/act_cyc.c, itron/src/cal_por.c,
	itron/src/can_wup.c, itron/src/chg_iXX.c, itron/src/clr_flg.c,
	itron/src/cre_flg.c, itron/src/cre_mpf.c, itron/src/cre_mpl.c,
	itron/src/cre_por.c, itron/src/def_alm.c, itron/src/def_cyc.c,
	itron/src/def_int.c, itron/src/del_flg.c, itron/src/del_mpf.c,
	itron/src/del_mpl.c, itron/src/del_por.c, itron/src/dis_int.c,
	itron/src/ena_int.c, itron/src/fwd_por.c, itron/src/get_blf.c,
	itron/src/get_blk.c, itron/src/get_tim.c, itron/src/pacp_por.c,
	itron/src/pcal_por.c, itron/src/pget_blf.c, itron/src/pget_blk.c,
	itron/src/pol_flg.c, itron/src/ref_alm.c, itron/src/ref_cyc.c,
	itron/src/ref_flg.c, itron/src/ref_iXX.c, itron/src/ref_mpf.c,
	itron/src/ref_mpl.c, itron/src/ref_por.c, itron/src/rel_blf.c,
	itron/src/rel_blk.c, itron/src/ret_wup.c, itron/src/rpl_rdv.c,
	itron/src/set_flg.c, itron/src/set_tim.c, itron/src/sta_tsk.c,
	itron/src/tacp_por.c, itron/src/tcal_por.c, itron/src/tget_blf.c,
	itron/src/tget_blk.c, itron/src/tslp_tsk.c, itron/src/twai_flg.c,
	itron/src/wai_flg.c, itron/src/wup_tsk.c:
	Add __attribute__((unused)) to unused function args.

2008-12-31	Ralf Corsépius <ralf.corsepius@rtems.org>

	* score/src/threaddelayended.c, score/src/threadqextractfifo.c,
	score/src/threadqextractpriority.c, score/src/threadqflush.c,
	score/src/threadqtimeout.c:
	Add __attribute__((unused)) to unused function args.
	* score/src/threadblockingoperationcancel.c: Remove nested include.
	Add __attribute__((unused)) to unused function args.

2008-12-31	Ralf Corsépius <ralf.corsepius@rtems.org>

	* score/src/coremutexsurrender.c, score/src/coremsgsubmit.c, 
	score/src/coremsgbroadcast.c, score/src/corebarrierrelease.c:
	Add __attribute__((unused)) to unused function args.
	* score/inline/rtems/score/sysstate.inl:
	Add __attribute__((unused)) to unused function args.
	* rtems/src/timerserver.c: Remove _Timer_Server_body warnings.

2008-12-29	Ralf Corsépius <ralf.corsepius@rtems.org>

	* configure.ac: Require <errno.h>. Cleanup comments.
	Remove check for <sys/errno.h>.

2008-12-23	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libcsupport/Makefile.am: Move src/malloc_p.h to *_SOURCES.
	* rtems/include/rtems/rtems/support.h,
	rtems/include/rtems/rtems/region.h,
	rtems/include/rtems/rtems/intr.h,
	rtems/include/rtems/rtems/clock.h:
	Eliminate TRUE/FALSE.

2008-12-23	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libi2c/libi2c.c: Add missing initializers.
	* libmisc/dummy/dummy.c: Add missing initializers.
	* libnetworking/netinet/ip_icmp.c: Add missing initializers.
	* libnetworking/netinet/ip_input.c: Add missing initializers.
	* libnetworking/netinet/raw_ip.c: Add missing initializers.
	* libnetworking/netinet/udp_usrreq.c: Add missing initializers.
	* libnetworking/rtems/rtems_syscall.c: Add missing initializers.
	* librpc/src/rpc/rtems_rpc.c: Add missing initializers.

2008-12-22	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libfs/src/nfsclient/src/nfs.c: Add missing initializers.
	* libnetworking/netinet/ip_divert.c: Add missing initializers.
	* libnetworking/netinet/if_ether.c: Add missing initializers.
	* libfs/src/nfsclient/src/rpcio.c: Add missing initializers.
	* libnetworking/netinet/in_proto.c: Add missing initializers.
	* libnetworking/net/rtsock.c: Add missing initializers.
	* libnetworking/libc/res_debug.c: Add missing initializers.

2008-12-22	Ralf Corsépius <ralf.corsepius@rtems.org>

	* score/inline/rtems/score/address.inl,
	score/inline/rtems/score/chain.inl,
	score/inline/rtems/score/corebarrier.inl,
	score/inline/rtems/score/coremsg.inl,
	score/inline/rtems/score/coremutex.inl,
	score/inline/rtems/score/coresem.inl,
	score/inline/rtems/score/corespinlock.inl,
	score/inline/rtems/score/heap.inl,
	score/inline/rtems/score/isr.inl,
	score/inline/rtems/score/mppkt.inl,
	score/inline/rtems/score/object.inl,
	score/inline/rtems/score/priority.inl,
	score/inline/rtems/score/stack.inl,
	score/inline/rtems/score/states.inl,
	score/inline/rtems/score/sysstate.inl,
	score/inline/rtems/score/thread.inl,
	score/inline/rtems/score/tqdata.inl,
	score/inline/rtems/score/watchdog.inl:
	Eliminate TRUE/FALSE.

2008-12-22	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/net/if.c, libnetworking/net/if_ethersubr.c
	libnetworking/net/if_loop.c, libnetworking/net/raw_cb.c,,
	libnetworking/net/raw_usrreq.c, libnetworking/netinet/in.c,
	libnetworking/netinet/in_pcb.c, libnetworking/netinet/ip_divert.c,
	libnetworking/netinet/ip_input.c, libnetworking/netinet/ip_mroute.c,
	libnetworking/netinet/ip_output.c, libnetworking/netinet/raw_ip.c,
	libnetworking/netinet/tcp_debug.c, libnetworking/netinet/tcp_input.c,
	libnetworking/netinet/tcp_output.c, libnetworking/netinet/tcp_subr.c,
	libnetworking/netinet/tcp_timer.c, libnetworking/netinet/tcp_usrreq.c,
	libnetworking/netinet/udp_usrreq.c,
	libnetworking/rtems/rtems_mii_ioctl_kern.c,
	libnetworking/rtems/rtems_select.c,
	libnetworking/rtems/rtems_socketpair.c,
	libnetworking/rtems/rtems_syscall.c:
	Include <errno.h> (POSIX,C99) instead of <sys/errno.h> (BSD'ism).

2008-12-22	Ralf Corsépius <ralf.corsepius@rtems.org>

	* score/include/rtems/score/context.h,
	score/include/rtems/score/corebarrier.h,
	score/include/rtems/score/coremsg.h,
	score/include/rtems/score/coremutex.h,
	score/include/rtems/score/corerwlock.h,
	score/include/rtems/score/coresem.h,
	score/include/rtems/score/heap.h,
	score/include/rtems/score/isr.h,
	score/include/rtems/score/object.h,
	score/include/rtems/score/objectmp.h,
	score/include/rtems/score/protectedheap.h,
	score/include/rtems/score/thread.h,
	score/include/rtems/score/threadq.h,
	score/include/rtems/score/tod.h,
	score/include/rtems/score/userext.h,
	score/include/rtems/score/wkspace.h:
	Eliminate TRUE/FALSE.

2008-12-22	Ralf Corsépius <ralf.corsepius@rtems.org>

	* score/src/apimutex.c, score/src/apimutexallocate.c,
	score/src/apimutexlock.c, score/src/corebarrierwait.c,
	score/src/coremsg.c, score/src/coremsgseize.c,
	score/src/coremutexseize.c, score/src/coremutexsurrender.c,
	score/src/coresemseize.c, score/src/coretod.c,
	score/src/coretodset.c, score/src/heapfree.c,
	score/src/heapsizeofuserarea.c, score/src/heapwalk.c,
	score/src/interr.c, score/src/isr.c,
	score/src/mpci.c, score/src/objectinitializeinformation.c,
	score/src/objectmp.c, score/src/objectnametoid.c,
	score/src/objectnametoidstring.c, score/src/objectsetname.c,
	score/src/thread.c, score/src/threadblockingoperationcancel.c,
	score/src/threadchangepriority.c, score/src/threadclearstate.c,
	score/src/threadcreateidle.c, score/src/threaddispatch.c,
	score/src/threadevaluatemode.c, score/src/threadhandler.c,
	score/src/threadinitialize.c, score/src/threadmp.c,
	score/src/threadqextractpriority.c,
	score/src/threadqextractwithproxy.c,
	score/src/threadqrequeue.c, score/src/threadready.c,
	score/src/threadresettimeslice.c, score/src/threadrestart.c,
	score/src/threadresume.c, score/src/threadrotatequeue.c,
	score/src/threadsetstate.c, score/src/threadstartmultitasking.c,
	score/src/threadsuspend.c, score/src/threadyieldprocessor.c,
	score/src/timespecgreaterthan.c, score/src/timespecisvalid.c,
	score/src/timespeclessthan.c, score/src/userextthreadcreate.c,
	score/src/wkspace.c: Eliminate TRUE/FALSE.

2008-12-22	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libi2c/libi2c.h: Change header guard to RTEMS conventions.
	Add extern's.

2008-12-22	Ralf Corsépius <ralf.corsepius@rtems.org>

	* aclocal/canonical-target-name.m4: Remove tic4x.

2008-12-21	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/src/malloc_statistics_helpers.c: Use intptr_t not
	ssize_t.

2008-12-21	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/inline/rtems/score/object.inl, score/src/objectgetbyindex.c:
	Fix issues when using 16-bit object Ids.

2008-12-19	Joel Sherrill <joel.sherrill@oarcorp.com>

	* itron/include/itronsys/types.h: Derive ITRON ID type from Objects_Id
	to avoid sizing mismatches.

2008-12-19	Joel Sherrill <joel.sherrill@oarcorp.com>

	* rtems/src/dpmemcreate.c: Spacing.
	* rtems/src/timerserver.c: Move error check to RTEMS_DEBUG. Cannot
	happen under normal circumstances.

2008-12-19	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libblock/src/ide_part_table.c: Fixed NULL pointer access.
	* libmisc/monitor/mon-command.c, libmisc/monitor/mon-editor.c,
	libmisc/monitor/mon-monitor.c, libmisc/monitor/monitor.h,
	libmisc/shell/cmds.c: The list of registered monitor commands is now
	private and only accessible via a lookup and iterate function.

2008-12-18	Joel Sherrill <joel.sherrill@oarcorp.com>

	* rtems/include/rtems/rtems/regionmp.h, sapi/include/rtems/config.h,
	sapi/src/exinit.c, score/Makefile.am,
	score/include/rtems/score/object.h,
	score/include/rtems/score/objectmp.h, score/src/objectmp.c: Eliminate
	Object Handler Initialization routine since it was all for MP
	configurations.
	* score/src/object.c: Removed.

2008-12-18	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/shell/cmds.c: Revert back to public. Used to execute monitor
	commands in test code.

2008-12-18	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libmisc/serdbg/termios_printk.c, libmisc/serdbg/termios_printk.h:
	Fixed incompatible return value.

	* libmisc/cpuuse/cpuusagereport.c: Changed output format.

	* libmisc/Makefile.am, libmisc/monitor/mon-editor.c: New file.

	* libmisc/capture/capture-cli.c, libmisc/monitor/mon-command.c,
	libmisc/monitor/mon-monitor.c, libmisc/monitor/mon-object.c,
	libmisc/monitor/mon-prmisc.c, libmisc/monitor/mon-symbols.c,
	libmisc/monitor/monitor.h, libmisc/shell/cat_file.c,
	libmisc/shell/cmds.c, libmisc/shell/internal.h,
	libmisc/shell/main_help.c, libmisc/shell/shell.c,
	libmisc/shell/shell.h, libmisc/shell/shell_cmdset.c,
	libmisc/shell/shell_getchar.c, libmisc/shell/str2int.c: Various global
	data is now read only.  Added 'const' qualifier to many pointer
	parameters.  It is no longer possible to remove monitor commands.
	Moved monitor line editor into a separate file to avoid unnecessary
	dependencies.

2008-12-17	Joel Sherrill <joel.sherrill@oarcorp.com>

	* sapi/include/rtems/extension.h, sapi/include/rtems/io.h,
	sapi/src/exinit.c, sapi/src/extension.c, sapi/src/io.c,
	score/include/rtems/score/mpci.h, score/include/rtems/score/object.h,
	score/include/rtems/score/thread.h, score/include/rtems/score/tod.h,
	score/include/rtems/score/userext.h,
	score/include/rtems/score/wkspace.h, score/src/coretod.c,
	score/src/mpci.c, score/src/object.c, score/src/thread.c,
	score/src/userext.c, score/src/wkspace.c: Convert SAPI manager and
	SuperCore Handler initialization routines to directly pull parameters
	from configuration table.

2008-12-17	Joel Sherrill <joel.sherrill@oarcorp.com>

	* itron/include/rtems/itron/config.h,
	itron/include/rtems/itron/eventflags.h,
	itron/include/rtems/itron/fmempool.h,
	itron/include/rtems/itron/mbox.h,
	itron/include/rtems/itron/msgbuffer.h,
	itron/include/rtems/itron/port.h,
	itron/include/rtems/itron/semaphore.h,
	itron/include/rtems/itron/task.h,
	itron/include/rtems/itron/vmempool.h, itron/src/eventflags.c,
	itron/src/fmempool.c, itron/src/itroninittasks.c,
	itron/src/itronsem.c, itron/src/mbox.c, itron/src/msgbuffer.c,
	itron/src/port.c, itron/src/task.c, itron/src/vmempool.c,
	sapi/src/itronapi.c: Convert ITRON manager initialization routines to
	directly pull parameters from configuration table.

2008-12-17	Joel Sherrill <joel.sherrill@oarcorp.com>

	* posix/include/rtems/posix/config.h: Fix typo.

2008-12-17	Joel Sherrill <joel.sherrill@oarcorp.com>

	* posix/include/rtems/posix/barrier.h,
	posix/include/rtems/posix/cond.h, posix/include/rtems/posix/key.h,
	posix/include/rtems/posix/mqueue.h,
	posix/include/rtems/posix/mutex.h,
	posix/include/rtems/posix/psignal.h,
	posix/include/rtems/posix/pthread.h,
	posix/include/rtems/posix/ptimer.h,
	posix/include/rtems/posix/rwlock.h,
	posix/include/rtems/posix/semaphore.h,
	posix/include/rtems/posix/spinlock.h,
	posix/include/rtems/posix/timer.h, posix/src/cond.c, posix/src/key.c,
	posix/src/mqueue.c, posix/src/mutex.c, posix/src/pbarrier.c,
	posix/src/prwlock.c, posix/src/psignal.c, posix/src/pspin.c,
	posix/src/pthread.c, posix/src/pthreadinitthreads.c,
	posix/src/ptimer.c, posix/src/semaphore.c, sapi/src/posixapi.c:
	Convert POSIX manager initialization routines to directly pull
	parameters from configuration table.

2008-12-17	Joel Sherrill <joel.sherrill@oarcorp.com>

	* rtems/Makefile.am, rtems/include/rtems/rtems/attr.h,
	rtems/include/rtems/rtems/barrier.h,
	rtems/include/rtems/rtems/dpmem.h, rtems/include/rtems/rtems/intr.h,
	rtems/include/rtems/rtems/message.h,
	rtems/include/rtems/rtems/part.h,
	rtems/include/rtems/rtems/ratemon.h,
	rtems/include/rtems/rtems/region.h, rtems/include/rtems/rtems/sem.h,
	rtems/include/rtems/rtems/tasks.h, rtems/include/rtems/rtems/timer.h,
	rtems/src/barrier.c, rtems/src/dpmem.c, rtems/src/msg.c,
	rtems/src/part.c, rtems/src/ratemon.c, rtems/src/region.c,
	rtems/src/rtemstimer.c, rtems/src/sem.c, rtems/src/tasks.c,
	sapi/src/rtemsapi.c: Convert manager initialization routines to
	directly pull parameters from configuration table. Eliminate empty
	routines sportted.
	* rtems/src/intr.c: Removed.

2008-12-17	Ralf Corsépius <ralf.corsepius@rtems.org>

	* Makefile.am: Remove include/rtems/stdint.h.
	* include/rtems/stdint.h: Remove.
	* configure.ac: Require stdint.h.
	* score/include/rtems/score/timespec.h: #include <stdint.h>, 
	#include <time.h>. Remove bogus #include <sys/types.h>.

2008-12-16	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/monitor/mon-config.c: Configuration table entry
	work_space_size was not removed.

2008-12-16	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libblock/src/bdbuf.c, libmisc/capture/capture-cli.c,
	libmisc/capture/capture.c, libmisc/mw-fb/mw_uid.c,
	rtems/include/rtems/rtems/support.h, score/Makefile.am,
	score/include/rtems/score/tod.h, score/src/coretod.c,
	score/src/coretodtickle.c: Eliminate all public use of TOD conversion
	routines. Eliminate _TOD_Microseconds_per_tick and let every place
	use the field directly from the Configuration Table. This required
	moving some methods from macros to bodies.
	* score/src/coretodmsecstoticks.c, score/src/coretodtickspersec.c,
	score/src/coretodusectoticks.c: New files.

2008-12-16	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/src/__times.c, posix/src/adjtime.c,
	posix/src/clockgetres.c, posix/src/sysconf.c,
	rtems/src/clockgettickspersecond.c, rtems/src/clockgettod.c,
	rtems/src/clockset.c, rtems/src/clocktodvalidate.c,
	score/src/timespecfromticks.c, score/src/timespectoticks.c,
	score/src/ts64toticks.c: More case converted to use configuration
	table entry not _TOD_Microseconds_per_tick.

2008-12-16	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libgnat/adasupp.c: Add helper method so Ada binding does not
	reference _TOD_Microseconds_per_tick.

2008-12-16	Joel Sherrill <joel.sherrill@oarcorp.com>

	* sapi/include/rtems/config.h: Remove commented out lines. Add macro
	for rtems_configuration_get_nanoseconds_per_tick().

2008-12-15	Joel Sherrill <joel.sherrill@oarcorp.com>

	* itron/include/rtems/itron/itronapi.h, libmisc/capture/capture.c,
	libmisc/monitor/mon-config.c, libmisc/monitor/mon-driver.c,
	libmisc/monitor/mon-itask.c, libmisc/monitor/mon-mpci.c,
	posix/include/rtems/posix/config.h,
	posix/include/rtems/posix/posixapi.h,
	rtems/include/rtems/rtems/config.h,
	rtems/include/rtems/rtems/rtemsapi.h, rtems/src/taskinitusers.c,
	sapi/include/confdefs.h, sapi/include/rtems/config.h,
	sapi/include/rtems/init.h, sapi/src/exinit.c, sapi/src/itronapi.c,
	sapi/src/posixapi.c, sapi/src/rtemsapi.c, score/src/isr.c,
	score/src/thread.c, score/src/threadcreateidle.c,
	score/src/threadstackallocate.c, score/src/threadstackfree.c,
	score/src/wkspace.c: Eliminate pointers to API configuration tables
	in the main configuration table. Reference the main configuration
	table and the API configuration tables directly using the confdefs.h
	version rather than obtaining a pointer to it. This eliminated some
	variables, a potential fatal error, some unnecessary default
	configuration structures. Overall, about a 4.5% reduction in the code
	size for minimum and hello on the SPARC.

2008-12-15	Joel Sherrill <joel.sherrill@oarcorp.com>

	* rtems/include/rtems/rtems/types.h: Fix incorrect type name.

2008-12-14	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/src/realloc.c, rtems/include/rtems/rtems/region.h,
	rtems/src/regioncreate.c, rtems/src/regionextend.c,
	rtems/src/regiongetsegment.c, rtems/src/regiongetsegmentsize.c,
	rtems/src/regionmp.c, rtems/src/regionresizesegment.c,
	sapi/include/rtems/config.h, score/include/rtems/score/heap.h,
	score/include/rtems/score/protectedheap.h, score/src/heap.c,
	score/src/heapallocate.c, score/src/heapallocatealigned.c,
	score/src/heapextend.c, score/src/heapresizeblock.c,
	score/src/heapsizeofuserarea.c, score/src/pheapallocate.c,
	score/src/pheapallocatealigned.c, score/src/pheapextend.c,
	score/src/pheapgetblocksize.c, score/src/pheapresizeblock.c: Change
	sizes of heap/region and allocated objects in heap to intptr_t so
	they can be larger than a single allocatable object (e.g. size_t).

2008-12-14	Joel Sherrill <joel.sherrill@oarcorp.com>

	* itron/src/chg_pri.c, itron/src/cre_tsk.c, itron/src/rot_rdq.c,
	posix/Makefile.am, posix/include/rtems/posix/mutex.h,
	posix/include/rtems/posix/priority.h, posix/src/mutex.c,
	score/include/rtems/score/priority.h: Run all tests successfully with
	maxixum number of priorities as 16 instead of 256. This was done by
	temporarily modifying the score priority.h maximum. This allowed
	testing of all API code to ensure that it worked properly with a
	reduced number of priorities. Most modifications were to switch from
	hard-coded maximum to using the SuperCore variable based upon
	configured number.
	* posix/src/mutexdefaultattributes.c: Removed.

2008-12-11	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/inline/rtems/score/address.inl: Make offset arguments intptr_t
	not int32_t.

2008-12-11	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/net/if_arp.h, libnetworking/net/route.h:
	Include <sys/socket.h> to make header self contained.

2008-12-11	Ralf Corsépius <ralf.corsepius@rtems.org>

	* zlib/zconf.h: #include <stdint.h> instead of <rtems/stdint.h>.
	* score/cpu/arm/rtems/score/types.h,
	score/cpu/avr/rtems/score/types.h,
	score/cpu/bfin/rtems/score/types.h,
	score/cpu/c4x/rtems/score/types.h,
	score/cpu/h8300/rtems/score/types.h,
	score/cpu/i386/rtems/score/types.h,
	score/cpu/lm32/rtems/score/types.h,
	score/cpu/m32c/rtems/score/types.h,
	score/cpu/m32r/rtems/score/types.h,
	score/cpu/m68k/rtems/score/types.h,
	score/cpu/mips/rtems/score/types.h,
	score/cpu/nios2/rtems/score/types.h,
	score/cpu/no_cpu/rtems/score/types.h,
	score/cpu/powerpc/rtems/score/types.h,
	score/cpu/sh/rtems/score/types.h,
	score/cpu/sparc/rtems/score/types.h,
	score/cpu/unix/rtems/score/types.h:
	#include <stdint.h> instead of <rtems/stdint.h>.

2008-12-11	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libcsupport/src/readdir.c, libmd/md4.h, libmd/md5.h,
	libmisc/mw-fb/mw_fb.h, libnetworking/net/ppp_defs.h,
	libnetworking/net/slcompress.c, libnetworking/rtems/bsdnet/_types.h,
	libnetworking/sys/sysctl.h, librpc/include/rpc/types.h, pppd/pppd.h,
	rtems/include/rtems/rtems/types.h, score/include/rtems/system.h:
	#include <stdint.h> instead of <rtems/stdint.h>.

2008-12-10	Ralf Corsépius <ralf.corsepius@rtems.org>

	* aclocal/prog-cc.m4: Use -r instead of -Wl,-r to build *.rels.
	* libcsupport/src/strlcat.c: Add prototypes.
	* libmisc/Makefile.am: Remove stray "\".

2008-12-10	Joel Sherrill <joel.sherrill@oarcorp.com>

	* rtems/include/rtems/rtems/ratemon.h,
	rtems/include/rtems/rtems/types.h, rtems/src/ratemongetstatistics.c,
	rtems/src/ratemongetstatus.c, rtems/src/ratemonperiod.c,
	rtems/src/ratemonreportstatistics.c,
	score/include/rtems/score/thread.h, score/src/coretodgetuptime.c:
	Make all Thread and Period Statistics use publicly defined types. Do
	not leak the SuperCore Timestamp type through the APIs.

2008-12-09	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/Makefile.am, score/preinstall.am,
	score/include/rtems/score/timespec.h,
	score/include/rtems/score/timestamp.h: Add 64-bit implementation of
	SuperCore Timestamps. Tested on PowerPC/psim and SPARC/sis.
	* score/include/rtems/score/timestamp64.h, score/src/ts64addto.c,
	score/src/ts64divide.c, score/src/ts64dividebyinteger.c,
	score/src/ts64equalto.c, score/src/ts64getnanoseconds.c,
	score/src/ts64getseconds.c, score/src/ts64greaterthan.c,
	score/src/ts64lessthan.c, score/src/ts64set.c,
	score/src/ts64settozero.c, score/src/ts64subtract.c,
	score/src/ts64toticks.c, score/src/ts64totimespec.c: New files.

2008-12-09	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libblock/src/bdbuf.c: Fix typo having crept in during
	  boolean->bool transition.

2008-12-09	Ralf Corsépius <ralf.corsepius@rtems.org>

	* score/cpu/unix/cpu.c: Add prototypes, eliminate nested externs.

2008-12-08	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/src/__times.c, libmisc/cpuuse/cpuusagereport.c,
	libmisc/cpuuse/cpuusagereset.c, posix/src/clockgettime.c,
	posix/src/pthread.c, posix/src/timersettime.c,
	rtems/include/rtems/rtems/ratemon.h,
	rtems/src/clockgetsecondssinceepoch.c, rtems/src/clockgetuptime.c,
	rtems/src/ratemongetstatus.c, rtems/src/ratemonperiod.c,
	rtems/src/ratemonreportstatistics.c, rtems/src/taskwakewhen.c,
	rtems/src/timerfirewhen.c, rtems/src/timerserver.c,
	rtems/src/timerserverfirewhen.c, score/Makefile.am,
	score/preinstall.am, score/include/rtems/score/thread.h,
	score/include/rtems/score/tod.h, score/src/coretod.c,
	score/src/coretodget.c, score/src/coretodgetuptime.c,
	score/src/coretodset.c, score/src/coretodtickle.c,
	score/src/threaddispatch.c, score/src/threadinitialize.c: Add
	SuperCore handler Timestamp to provide an opaque class for the
	representation and manipulation of uptime, time of day, and the
	difference between two timestamps. By using SuperCore Timestamp, it
	is clear which methods and APIs really have to be struct timespec and
	which can be in an optimized native format.
	* score/include/rtems/score/timestamp.h,
	score/src/coretodgetuptimetimespec.c: New files.

2008-12-08	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libfs/src/nfsclient/src/nfs.c: Use
	rtems_clock_get_seconds_since_epoch() from public API.

2008-12-08	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libfs/src/nfsclient/Makefile.am: Remove RTEMS_RELLDFLAGS.
	* aclocal/prog-cc.m4: Add RTEMS_RELLDFLAGS hack.
	* libfs/src/nfsclient/src/dirutils.c: #include <limits.h>.

2008-12-08	Ralf Corsépius <ralf.corsepius@rtems.org>

	* rtems/include/rtems/rtems/clock.h: #include <sys/time.h>
	* librpc/include/rpc/rpcent.h: #include <rpc/types.h>.
	* librpc/include/rpc/xdr.h: #include <rtems/bsd/sys/cdefs.h>.

2008-12-08	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libfs/src/devfs/devfs.h: Add missing "extern"s.
	* libfs/src/imfs/imfs.h: Add missing "extern"s
	* libfs/src/pipe/pipe.h: Add missing "extern"s.
	Add extern "C" {}.

2008-12-07	Ralf Corsépius <ralf.corsepius@rtems.org>

	* score/cpu/arm/cpu.c, score/cpu/avr/cpu.c, score/cpu/bfin/cpu.c,
	score/cpu/c4x/cpu.c, score/cpu/h8300/cpu.c, score/cpu/i386/cpu.c,
	score/cpu/lm32/cpu.c, score/cpu/m32c/cpu.c, score/cpu/m32r/cpu.c,
	score/cpu/mips/cpu.c, score/cpu/nios2/cpu.c, score/cpu/no_cpu/cpu.c,
	score/cpu/sh/cpu.c, score/cpu/sparc/cpu.c, score/cpu/unix/cpu.c:
	Fix typo.

2008-12-05	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/include/rtems/score/timespec.h: Remove unnecessary includes.
	Fix typo.
	* posix/include/rtems/posix/time.h, score/src/coretodget.c,
	score/src/coretodgetuptime.c: Add required include files which
	were formerly included from timespec.h

2008-12-05	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libfs/src/pipe/fifo.c: Do not include .inl files directly. Use .h
	files with kernel visibility violated until functionality exposed.

2008-12-05	Ralf Corsépius <ralf.corsepius@rtems.org>

	* configure.ac: Check for functions in newlib.
	* posix/Makefile.am: Unconditionally compile files which now
	are in newlib.
	* libcsupport/Makefile.am: Unconditionally compile files which now
	  are in newlib.

2008-12-05	Ralf Corsépius <ralf.corsepius@rtems.org>

	* posix/src/execl.c, posix/src/execle.c,
	posix/src/execlp.c, posix/src/execv.c,
	posix/src/execve.c, posix/src/execvp.c,
	posix/src/sleep.c, posix/src/usleep.c:
	Compile contents conditionally.

2008-12-05	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libcsupport/src/closedir.c, libcsupport/src/getcwd.c,
	libcsupport/src/isatty.c, libcsupport/src/opendir.c,
	libcsupport/src/readdir.c, libcsupport/src/readdir_r.c,
	libcsupport/src/rewinddir.c, libcsupport/src/seekdir.c,
	libcsupport/src/telldir.c, libcsupport/src/ttyname.c:
	Compile contents conditionally.

2008-12-04	Jukka Pietarinen <jukka.pietarinen@mrf.fi>

	* configure.ac, librpc/src/xdr/xdr_float.c, score/cpu/Makefile.am: Add
	Lattice Mico32 support.

2008-12-04	Joel Sherrill <joel.sherrill@oarcorp.com>

	PR 1348/cpukit
	* rtems/src/ratemonperiod.c: Properly handle period statistics after
	cpu usage information is reset while a period is running.

2008-12-03	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1347/cpukit
	* rtems/include/rtems/rtems/timer.h, rtems/src/rtemstimer.c,
	rtems/src/timerreset.c, rtems/src/timerserver.c,
	rtems/src/timerserverfireafter.c, rtems/src/timerserverfirewhen.c,
	score/Makefile.am, score/include/rtems/score/watchdog.h: Rework Timer
	Server to ensure that the context allows for blocking, allocating
	memory, and acquiring semaphores and mutexes.
	* score/src/watchdogadjusttochain.c: New file.

2008-12-03	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1346/cpukit
	* rtems/include/rtems/rtems/ratemon.h: Sense of rate monotonic
	statistics nanoseconds or ticks granularity conditional is backwards.

2008-12-03	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libfs/src/pipe/fifo.c: Actually disable initializing pipes as
	requested in confdefs.h.

2008-12-01	Joel Sherrill <joel.sherrill@oarcorp.com>

	* sapi/include/confdefs.h: Add disable of pipes by default since they
	use resources which are otherwise not accounted for. Eventually the
	resources will have to be properly configured.

2008-12-01	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libfs/Makefile.am: Add stub for devide filesystem for unix port.
	* libfs/src/devfs/devfs_unixstub.c: New file.

2008-12-01	Joel Sherrill <joel.sherrill@OARcorp.com>

	* rtems/include/rtems/rtems/region.h,
	rtems/include/rtems/rtems/support.h,
	rtems/src/regiongetsegmentsize.c, rtems/src/regionresizesegment.c,
	rtems/src/workspace.c: Revert ssize_t patch.

2008-11-26	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/Makefile.am, score/include/rtems/score/watchdog.h: Add
	_Watchdog_Report and _Watchdog_Report_chain as debug assist routines.
	They are NOT to be used in directives.
	* score/src/watchdogreport.c, score/src/watchdogreportchain.c:
	New files.

2008-11-25	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/src/watchdogadjust.c, score/src/watchdogtickle.c: Spacing.

2008-11-24	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1341/cpukit
	* sapi/include/confdefs.h: The following macros were missing
	the _Configure_From_workspace() wrapper on their size estimate:
	  + CONFIGURE_INTERRUPT_STACK_MEMORY
	  + CONFIGURE_MEMORY_PER_TASK_FOR_CLASSIC_API
	  + CONFIGURE_INTERRUPT_VECTOR_TABLE
	  + CONFIGURE_MEMORY_FOR_STATIC_EXTENSIONS
	In addition, there was a duplicate definition of
	CONFIGURE_MEMORY_PER_TASK_FOR_CLASSIC_API.

2008-11-24	Ralf Corsépius <ralf.corsepius@rtems.org>

	* configure.ac: Add AC_CHECK_FUNC's to check functions migrating
	into newlib.

2008-11-24	Joel Sherrill <joel.sherrill@oarcorp.com>

	* posix/include/rtems/posix/psignal.h: Fix typo in converting method
	from macro to static inline.

2008-11-20	Joel Sherrill <joel.sherrill@oarcorp.com>

	* posix/Makefile.am, posix/include/rtems/posix/psignal.h: Add stubs for
	gettimer() and setitimer().
	* posix/src/getitimer.c, posix/src/setitimer.c: New files.

2008-11-20	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/Makefile.am, posix/Makefile.am: Comment out including
	files which contain routines which are now provided by the newlib
	posix subdirectory.  Document a few which come from the unix directory.

2008-11-20	Joel Sherrill <joel.sherrill@oarcorp.com>

	PR 1340/cpukit
	* sapi/inline/rtems/chain.inl: Add rtems_chain_initialize to public
	chain API.

2008-11-20	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/include/rtems/score/heap.h,
	score/include/rtems/score/protectedheap.h,
	score/include/rtems/score/wkspace.h, score/src/heap.c,
	score/src/heapallocate.c, score/src/heapallocatealigned.c,
	score/src/heapextend.c, score/src/heapresizeblock.c,
	score/src/heapsizeofuserarea.c, score/src/pheapgetblocksize.c,
	score/src/wkspace.c: Revert use of ssize_t. This type is not
	guaranteed to be able to represent a positive number greater than the
	size of a single allocatable object. We needed a type that is able to
	represent the size of a pool of multiple allocatable objects or
	potentially nearly all memory.

2008-11-20	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/src/newlibc_exit.c, score/src/threadhandler.c: Do not
	think about running init/fini on AVR. We do not know what mechanism
	it uses but this is not it.

2008-11-20	Joel Sherrill <joel.sherrill@oarcorp.com>

	PR 1306/cpukit
	* posix/inline/rtems/posix/priority.inl: Eliminate hard coded numbers
	in favor of existing macros.

2008-11-20	Joel Sherrill <joel.sherrill@oarcorp.com>

	* posix/Makefile.am: Add dummy vfork() implementation.
	* posix/src/vfork.c: New file.

2008-11-13	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1336/cpukit
	* sapi/inline/rtems/chain.inl: Add rtems_chain_prepend_unprotected and
	rtems_chain_append_unprotected.

2008-11-12	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/Makefile.am: Add getrusage().
	* libcsupport/src/getrusage.c: New file.

2008-11-12	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/src/timespecaddto.c: Fix typo.

2008-11-07	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/src/ttyname.c: Change third parameter of ttyname to be
	size_t instead of int.

2008-11-05	Joel Sherrill <joel.sherrill@oarcorp.com>

	* librpc/src/xdr/xdr_float.c: Add M32C, M32R, and Blackfin.

2008-11-05	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/src/threadhandler.c: M32R uses different name for init.

2008-11-05	Joel Sherrill <joel.sherrill@oarcorp.com>

	* posix/Makefile.am: Add _execve() so we can use newlib posix support
	directory and eliminate code in RTEMS.
	* posix/src/_execve.c: New file.

2008-11-03	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1333/cpukit
	* libcsupport/include/rtems/termiostypes.h: Typo on type name -- should
	be rtems_device_minor_number.

2008-10-15	Joel Sherrill <joel.sherrill@oarcorp.com>

	PR 1331/networking
	* libmisc/shell/shell.c, telnetd/check_passwd.c, telnetd/telnetd.c,
	telnetd/telnetd.h: Improve comments and explanation of options to
	rtems_telnetd_initialize. Add extra newline to login sequence from
	shell.

2008-10-14	Tim Cussins <timcussins@eml.cc>

	PR 1330/cpukit
	* libcsupport/src/free.c: Should print begin field not start field.

2008-10-14	Wei Shen <cquark@gmail.com>

	* Makefile.am, preinstall.am, libcsupport/src/mknod.c,
	libcsupport/src/open.c, libcsupport/src/pipe.c, libfs/Makefile.am,
	libfs/preinstall.am, libfs/src/imfs/imfs.h,
	libfs/src/imfs/imfs_creat.c, libfs/src/imfs/imfs_debug.c,
	libfs/src/imfs/imfs_eval.c, libfs/src/imfs/imfs_initsupp.c,
	libfs/src/imfs/imfs_mknod.c, libfs/src/imfs/imfs_stat.c,
	libfs/src/imfs/memfile.c: Initial commit of POSIX pipe support.
	* libfs/src/imfs/imfs_fifo.c, libfs/src/pipe/fifo.c,
	libfs/src/pipe/pipe.c, libfs/src/pipe/pipe.h: New files.

2008-10-03	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/src/printk.c: Addresses can be larger than integers
	so use long for %p formats.
	* score/inline/rtems/score/address.inl: Offsets can be positive or
	negative, so use int32_t.  Also do math with intptr_t since there
	are cases where the number of bits in an address do not equal the
	number of bits in an integer.
	* score/inline/rtems/score/heap.inl: Offsets can be positive or
	negative, so use int32_t.

2008-10-03	Joel Sherrill <joel.sherrill@oarcorp.com>

	* configure.ac: Add m32r.
	* libcsupport/src/newlibc_exit.c: For some odd reason, the fini
	symbol for the m32r in C needs an extra leading _.

2008-10-02	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libnetworking/rtems/rtems_glue.c: Copy nothing in
	rtems_bsdnet_parse_driver_name() if namep is NULL.

	* include/rtems/status-checks.h: Added prefix "RTEMS" for all macros.
	Doxygen style comments.  Cleanup.

2008-10-02	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/cpu/Makefile.am: Add new M32R port. It is just a beginning but
	the BSP is functional enough to initialize and shutdown RTEMS.

2008-10-02	Joel Sherrill <joel.sherrill@oarcorp.com>

	* configure.ac: Revert trash committed. Shell builds with m32c now.

2008-10-02	Joel Sherrill <joel.sherrill@oarcorp.com>

	* configure.ac, score/cpu/Makefile.am: Initial addition of M32C port.
	This is still a work in process but most tests do run on simulator.

2008-10-02	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/shell/utils-cp.c: Do not put a 64K buffer on the stack.

2008-10-02	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/inline/rtems/score/priority.inl: Use simple integer as loop
	counter.

2008-10-02	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/monitor/mon-monitor.c, rtems/include/rtems/rtems/types.h: Do
	not have fp context type when no hardware or software floating point
	is available.

2008-10-02	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/src/malloc_statistics_helpers.c,
	libcsupport/src/realloc.c, rtems/include/rtems/rtems/region.h,
	rtems/include/rtems/rtems/support.h,
	rtems/src/regiongetsegmentsize.c, rtems/src/regionresizesegment.c,
	rtems/src/workspace.c, sapi/include/confdefs.h,
	score/include/rtems/score/heap.h,
	score/include/rtems/score/protectedheap.h,
	score/include/rtems/score/wkspace.h, score/src/heap.c,
	score/src/heapallocate.c, score/src/heapallocatealigned.c,
	score/src/heapextend.c, score/src/heapresizeblock.c,
	score/src/heapsizeofuserarea.c, score/src/pheapgetblocksize.c,
	score/src/wkspace.c: Change size_t to ssize_t on all Heap, Workspace
	and Region calls. On 16-bit architectures, size_t can be 16-bits
	which would limit sizes to 64K.

2008-10-02	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/shell/main_cp.c, libmisc/shell/main_ls.c,
	libmisc/shell/main_mv.c, libmisc/shell/main_netstats.c,
	libmisc/shell/main_rm.c, libmisc/shell/shell_script.c: Newlib >
	1.16.0 requires __need_getopt_newlib to be defined to get visibility
	on the reentrancy extensions.

2008-10-01	Gene Smith <gene.smith@siemens.com>

	PR 1328/cpukit
	* libmisc/shell/main_mdump.c, libmisc/shell/main_mwdump.c: Fix printing
	of more than 256 bytes.

2008-09-30	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libi2c/libi2c.h: Added definitions for asynchronous read and write IO
	commands.

2008-09-26	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1316/cpukit
	* score/src/coremsgbroadcast.c: Give error when message is too large
	like when sending a message. This was the documented behavior.

2008-09-26	Eric Norum <norume@aps.anl.gov>

	* libnetworking/lib/rtems_bsdnet_ntp.c: Final resolution of this
	"small" port number change.

2008-09-25	Eric Norum <norume@aps.anl.gov>

	* libnetworking/lib/rtems_bsdnet_ntp.c: Revert previous patch.

2008-09-25	Eric Norum <norume@aps.anl.gov>

	* libnetworking/lib/rtems_bsdnet_ntp.c: Revert previous patch.

2008-09-25	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libfs/src/imfs/deviceio.c: Eliminate duplicate implementation.

2008-09-24	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1326/cpukit
	* libi2c/libi2c.c: Use int for return value when negative values
	possible.

2008-09-24	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/lib/ftpfs.c: Use ssize_t for read retval (Fix
	  comparision of unsigned < 0).

2008-09-23	Eric Norum <norume@aps.anl.gov>

	* libnetworking/lib/rtems_bsdnet_ntp.c: Let TCP/IP stack pick port
	rather than hard coding selection.

2008-09-22	Joel Sherrill <joel.sherrill@oarcorp.com>

	* include/rtems/bspIo.h, libcsupport/Makefile.am: Add genchark() for
	polled debug input from the same device as printk().
	* libcsupport/src/getchark.c: New file.

2008-09-22	Ralf Corsépius <ralf.corsepius@rtems.org>

	* aclocal/version.m4: Bump RTEMS_API to 4.10.
	Bump _RTEMS_VERSION to 4.9.99.0.

2008-09-19	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/shell/main_mallocinfo.c, libmisc/shell/main_wkspaceinfo.c:
	Include information on whether C Program Heap and RTEMS Workspace are
	separate.

2008-09-18	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libfs/Makefile.am: Do not build nfsclient if no networking.

2008-09-18	Miao Yan <yanmiaobest@gmail.com>

	* libfs/src/devfs/devclose.c, libfs/src/devfs/devfs_eval.c,
	libfs/src/devfs/devioctl.c, libfs/src/devfs/devopen.c,
	libfs/src/devfs/devread.c, libfs/src/devfs/devwrite.c: Fix warnings.

2008-09-17	Joel Sherrill <joel.sherrill@oarcorp.com>

	* Doxyfile.in, rtems/mainpage.h, score/include/rtems/system.h: Move to
	generating Doxygen for more of CPU Kit.
	* rtems/Doxyfile, score/Doxyfile, score/mainpage.h: Removed.

2008-09-17	Joel Sherrill <joel.sherrill@oarcorp.com>

	* configure.ac: Add generated Doxyfile which can process entire set of
	preinstalled .h files.
	* Doxyfile.in: New file.

2008-09-17	Joel Sherrill <joel.sherrill@oarcorp.com>

	* sapi/include/confdefs.h: Rename STACK_CHECKER_ON to more appropriate
	CONFIGURE_STACK_CHECKER_ENABLED.

2008-09-17	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libfs/src/devfs/devclose.c, libfs/src/devfs/devfs_init.c,
	libfs/src/devfs/devfs_show.c, libfs/src/devfs/devioctl.c,
	libfs/src/devfs/devopen.c, libfs/src/devfs/devread.c,
	libfs/src/devfs/devwrite.c: Fix warnings.

2008-09-17	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/src/free.c, libcsupport/src/malloc.c,
	libcsupport/src/malloc_initialize.c, libcsupport/src/malloc_p.h,
	libcsupport/src/malloc_sbrk_helpers.c,
	libcsupport/src/malloc_statistics_helpers.c,
	libcsupport/src/malloc_walk.c, libcsupport/src/mallocfreespace.c,
	libcsupport/src/mallocinfo.c, libcsupport/src/realloc.c,
	libcsupport/src/rtems_memalign.c, sapi/include/confdefs.h,
	score/inline/rtems/score/thread.inl: Add support for optionally
	having a unified work area. In other words, the RTEMS Workspace and C
	Program Heap are the same pool of memory.

2008-09-17	Miao Yan <yanmiaobest@gmail.com>

	* Makefile.am, preinstall.am, libcsupport/Makefile.am,
	libcsupport/include/rtems/libcsupport.h,
	libcsupport/include/rtems/libio.h, libcsupport/src/base_fs.c,
	libcsupport/src/libio_init.c, libcsupport/src/newlibc_exit.c,
	libcsupport/src/newlibc_init.c, libcsupport/src/sync.c,
	libfs/Makefile.am, libfs/src/imfs/deviceio.c,
	sapi/include/confdefs.h: Merge GSOC project code to add simple device
	only filesystem (devfs), optionally completely drop out filesystem,
	and to clean up disabling newlib reentrancy support. This dropped 17K
	from the minimum.exe for sparc/sis and arm/rtl22xx_t now has a 15K
	code space.
	* libcsupport/src/__usrenv.c, libcsupport/src/newlibc_reent.c,
	libfs/src/devfs/devclose.c, libfs/src/devfs/devfs.h,
	libfs/src/devfs/devfs_eval.c, libfs/src/devfs/devfs_init.c,
	libfs/src/devfs/devfs_mknod.c, libfs/src/devfs/devfs_node_type.c,
	libfs/src/devfs/devfs_show.c, libfs/src/devfs/devioctl.c,
	libfs/src/devfs/devopen.c, libfs/src/devfs/devread.c,
	libfs/src/devfs/devstat.c, libfs/src/devfs/devwrite.c,
	libfs/src/imfs/deviceerrno.c: New files.
	* libcsupport/src/newlibc.c: Removed.

2008-09-16	Joel Sherrill <joel.sherrill@OARcorp.com>

	* sapi/include/confdefs.h: Revert previous patch. Does not apply to
	head.

2008-09-16	Gene Smith <gene.smith@siemens.com>

	PR 564/cpukit
	* sapi/include/confdefs.h: Fix incorrect name. Was missed in an earlier
	renaming sweep.

2008-09-11	Ralf Corsépius <ralf.corsepius@rtems.org>

	* rtems/include/rtems/rtems/types.h: Do not define rtems_boolean,
	rtems_single, rtems_double unless RTEMS_DEPRECATED_TYPES is given.

2008-09-10	Joel Sherrill <joel.sherrill@OARcorp.com>

	* configure.ac, aclocal/canonical-target-name.m4: Readd NIOS2 and TI
	C4x. Accidentally not done on 4.9 branch. :(
	* score/cpu/c4x/.cvsignore, score/cpu/c4x/ChangeLog,
	score/cpu/c4x/Makefile.am, score/cpu/c4x/cpu.c,
	score/cpu/c4x/cpu_asm.S, score/cpu/c4x/irq.c,
	score/cpu/c4x/preinstall.am, score/cpu/c4x/rtems/asm.h,
	score/cpu/c4x/rtems/score/c4x.h, score/cpu/c4x/rtems/score/cpu.h,
	score/cpu/c4x/rtems/score/cpu_asm.h,
	score/cpu/c4x/rtems/score/types.h, score/cpu/c4x/rtems/tic4x/c4xio.h,
	score/cpu/nios2/.cvsignore, score/cpu/nios2/ChangeLog,
	score/cpu/nios2/Makefile.am, score/cpu/nios2/cpu.c,
	score/cpu/nios2/cpu_asm.S, score/cpu/nios2/irq.c,
	score/cpu/nios2/preinstall.am, score/cpu/nios2/rtems/asm.h,
	score/cpu/nios2/rtems/score/cpu.h,
	score/cpu/nios2/rtems/score/cpu_asm.h,
	score/cpu/nios2/rtems/score/nios2.h,
	score/cpu/nios2/rtems/score/types.h: New files.

2008-09-10	Joel Sherrill <joel.sherrill@OARcorp.com>

	* configure.ac, aclocal/canonical-target-name.m4,
	score/cpu/Makefile.am: Remove TI C4x and NIOS2 ports from 4.9 branch.
	* score/cpu/c4x/.cvsignore, score/cpu/c4x/ChangeLog,
	score/cpu/c4x/Makefile.am, score/cpu/c4x/cpu.c,
	score/cpu/c4x/cpu_asm.S, score/cpu/c4x/irq.c,
	score/cpu/c4x/preinstall.am, score/cpu/c4x/rtems/asm.h,
	score/cpu/c4x/rtems/score/c4x.h, score/cpu/c4x/rtems/score/cpu.h,
	score/cpu/c4x/rtems/score/cpu_asm.h,
	score/cpu/c4x/rtems/score/types.h, score/cpu/c4x/rtems/tic4x/c4xio.h,
	score/cpu/nios2/.cvsignore, score/cpu/nios2/ChangeLog,
	score/cpu/nios2/Makefile.am, score/cpu/nios2/cpu.c,
	score/cpu/nios2/cpu_asm.S, score/cpu/nios2/irq.c,
	score/cpu/nios2/preinstall.am, score/cpu/nios2/rtems/asm.h,
	score/cpu/nios2/rtems/score/cpu.h,
	score/cpu/nios2/rtems/score/cpu_asm.h,
	score/cpu/nios2/rtems/score/nios2.h,
	score/cpu/nios2/rtems/score/types.h: Removed.

2008-09-08	Joel Sherrill <joel.sherrill@oarcorp.com>

	* sapi/include/confdefs.h: Add debug information for
	per task allocations.
	* score/src/objectextendinformation.c: Do not allocate memory for name
	tables because we do not use name tables any longer.

2008-09-08	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/src/threadinitialize.c: _Stack_Ensure_minimum was being called
	here and in _Thread_Stack_Allocate.

2008-09-08	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/include/rtems/libio_.h, libcsupport/src/libio_sockets.c,
	libfs/src/dosfs/fat.h, libfs/src/dosfs/msdos.h,
	libfs/src/imfs/deviceio.c, libmisc/monitor/mon-monitor.c,
	libmisc/monitor/mon-object.c, libmisc/monitor/mon-symbols.c,
	libmisc/monitor/monitor.h, libmisc/stackchk/internal.h,
	rtems/inline/rtems/rtems/part.inl, score/include/rtems/system.h,
	score/include/rtems/score/bitfield.h, score/src/mpci.c,
	score/src/objectextendinformation.c, score/src/threadmp.c: Remove
	extraneous spaces.

2008-09-08	Ralf Corsépius <ralf.corsepius@rtems.org>

	* pppd/auth.c, pppd/ccp.c, pppd/chap.c, pppd/ipcp.c, pppd/lcp.c,
	pppd/options.c, pppd/upap.c: Add missing initializers.

2008-09-07	Ralf Corsépius <ralf.corsepius@rtems.org>

	* httpd/webrom.c: Add missing initializers.
	* libblock/include/rtems/bdbuf.h, libblock/include/rtems/diskdevs.h,
	libblock/include/rtems/ramdisk.h: Use "#include <..>" to include
	public headers.

2008-09-07	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/netinet/in_cksum_arm.h:
	Stop using old-style function definitions.
	* configure.ac: Remove score/cpu/arm/thumb/Makefile.

2008-09-07	Ralf Corsépius <ralf.corsepius@rtems.org>

	* itron/include/itronsys/types.h: Eliminate "boolean".
	* libmisc/monitor/mon-prmisc.c: Add missing initializers.

2008-09-06	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libblock/include/rtems/ramdisk.h, 
	libfs/src/nfsclient/proto/mount_prot.x: Convert to Unix file format.

2008-09-05	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libcsupport/include/clockdrv.h: The Shared Memory Driver no longer
	requires the special IOCTL in Clock_control. This was a hack which
	has existed since before the Classic API Timer Manager was
	implemented. All implementations of and references to Clock_control
	were removed.

2008-09-05	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/src/corebarrier.c, score/src/corebarrierrelease.c,
	score/src/corebarrierwait.c, score/src/coremsg.c,
	score/src/coremsgbroadcast.c, score/src/coremsgclose.c,
	score/src/coremsgflush.c, score/src/coremsgflushsupp.c,
	score/src/coremsgflushwait.c, score/src/coremsginsert.c,
	score/src/coremsgseize.c, score/src/coremsgsubmit.c,
	score/src/corerwlock.c, score/src/coresem.c,
	score/src/coresemflush.c, score/src/coresemseize.c,
	score/src/coresemsurrender.c, score/src/corespinlock.c,
	score/src/threadblockingoperationcancel.c,
	score/src/threadqenqueue.c: Remove unnecessary include of mpci.h.

2008-09-05	Joel Sherrill <joel.sherrill@oarcorp.com>

	* rtems/src/msgmp.c, rtems/src/msgqtranslatereturncode.c,
	rtems/src/semmp.c, rtems/src/semtranslatereturncode.c: Correct
	confusion over SuperCore proxy blocking status and Classic API proxy
	blocking status constants.

2008-09-05	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/src/objectgetinfo.c: Correct for multiprocessor systems when
	all object instances within a particular class are remote.

2008-09-05	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/src/assocnamebad.c: Correct file name in message.

2008-09-05	Joel Sherrill <joel.sherrill@OARcorp.com>

	* sapi/include/confdefs.h: Make sure
	CONFIGURE_TIMER_FOR_SHARED_MEMORY_DRIVER is defined to 0 in single
	processor configurations.

2008-09-05	Joel Sherrill <joel.sherrill@oarcorp.com>

	* sapi/include/confdefs.h: Account for needed a Classic API Timer when
	using the Shared Memory MPCI driver.

2008-09-05	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/include/rtems/score/mpci.h,
	score/inline/rtems/score/threadmp.inl, score/src/mpci.c: Eliminate
	dependencies between MP .h files.

2008-09-05	Eric Norum <norume@aps.anl.gov>

	* libfs/src/nfsclient/src/rpcio.c: Correct breakage introduced by Joel
	removing asserts with side-effects.

2008-09-04	Ralf Corsépius <ralf.corsepius@rtems.org>

	* sapi/include/rtems/config.h,
	sapi/inline/rtems/chain.inl,
	sapi/inline/rtems/extension.inl,
	sapi/src/debug.c,
	sapi/src/extension.c,
	sapi/src/ioregisterdriver.c: Convert to "bool".
	* rtems/src/clocktodvalidate.c,
	rtems/src/intrbody.c,
	rtems/src/msgmp.c,
	rtems/src/msgqcreate.c,
	rtems/src/msgqreceive.c,
	rtems/src/partmp.c,
	rtems/src/regionmp.c,
	rtems/src/semmp.c,
	rtems/src/signalsend.c,
	rtems/src/taskcreate.c,
	rtems/src/taskmode.c,
	rtems/src/taskmp.c,
	rtems/src/tasks.c,
	rtems/src/timerserver.c,
	rtems/src/workspace.c: Convert to "bool".
	* rtems/inline/rtems/rtems/asr.inl,
	rtems/inline/rtems/rtems/attr.inl,
	rtems/inline/rtems/rtems/barrier.inl,
	rtems/inline/rtems/rtems/dpmem.inl,
	rtems/inline/rtems/rtems/eventset.inl,
	rtems/inline/rtems/rtems/message.inl,
	rtems/inline/rtems/rtems/modes.inl,
	rtems/inline/rtems/rtems/options.inl,
	rtems/inline/rtems/rtems/part.inl,
	rtems/inline/rtems/rtems/ratemon.inl,
	rtems/inline/rtems/rtems/region.inl,
	rtems/inline/rtems/rtems/sem.inl,
	rtems/inline/rtems/rtems/status.inl,
	rtems/inline/rtems/rtems/support.inl,
	rtems/inline/rtems/rtems/tasks.inl,
	rtems/inline/rtems/rtems/timer.inl: Convert to "bool".
	* rtems/include/rtems/rtems/asr.h,
	rtems/include/rtems/rtems/clock.h,
	rtems/include/rtems/rtems/config.h,
	rtems/include/rtems/rtems/object.h,
	rtems/include/rtems/rtems/sem.h,
	rtems/include/rtems/rtems/support.h: Convert to "bool".
	* score/src/corebarrierwait.c,
	score/src/coremsg.c,
	score/src/coremsginsert.c,
	score/src/coremsgseize.c,
	score/src/coremsgsubmit.c,
	score/src/coremutexseize.c,
	score/src/corerwlockobtainread.c,
	score/src/corerwlockobtainwrite.c,
	score/src/coresemseize.c,
	score/src/corespinlockwait.c,
	score/src/heapfree.c,
	score/src/heapresizeblock.c,
	score/src/heapsizeofuserarea.c,
	score/src/heapwalk.c,
	score/src/interr.c,
	score/src/objectinitializeinformation.c,
	score/src/objectmp.c,
	score/src/objectnametoid.c,
	score/src/objectsetname.c,
	score/src/pheapextend.c,
	score/src/pheapfree.c,
	score/src/pheapgetblocksize.c,
	score/src/pheapresizeblock.c,
	score/src/pheapwalk.c,
	score/src/threadchangepriority.c,
	score/src/threaddispatch.c,
	score/src/threadevaluatemode.c,
	score/src/threadinitialize.c,
	score/src/threadloadenv.c,
	score/src/threadqextractpriority.c,
	score/src/threadqextractwithproxy.c,
	score/src/threadrestart.c,
	score/src/threadresume.c,
	score/src/threadstart.c,
	score/src/timespecgreaterthan.c,
	score/src/timespecisvalid.c,
	score/src/timespeclessthan.c,
	score/src/userextthreadbegin.c,
	score/src/userextthreadcreate.c,
	score/src/wkspace.c: Convert to "bool".
	* score/inline/rtems/score/address.inl,
	score/inline/rtems/score/chain.inl,
	score/inline/rtems/score/corebarrier.inl,
	score/inline/rtems/score/coremsg.inl,
	score/inline/rtems/score/coremutex.inl,
	score/inline/rtems/score/coresem.inl,
	score/inline/rtems/score/corespinlock.inl,
	score/inline/rtems/score/heap.inl,
	score/inline/rtems/score/isr.inl,
	score/inline/rtems/score/mppkt.inl,
	score/inline/rtems/score/object.inl,
	score/inline/rtems/score/objectmp.inl,
	score/inline/rtems/score/priority.inl,
	score/inline/rtems/score/stack.inl,
	score/inline/rtems/score/states.inl,
	score/inline/rtems/score/sysstate.inl,
	score/inline/rtems/score/thread.inl,
	score/inline/rtems/score/threadmp.inl,
	score/inline/rtems/score/tqdata.inl,
	score/inline/rtems/score/watchdog.inl:
	Convert to "bool".
	* score/include/rtems/debug.h,
	score/include/rtems/score/context.h,
	score/include/rtems/score/corebarrier.h,
	score/include/rtems/score/coremsg.h,
	score/include/rtems/score/coremutex.h,
	score/include/rtems/score/corerwlock.h,
	score/include/rtems/score/coresem.h,
	score/include/rtems/score/corespinlock.h,
	score/include/rtems/score/heap.h,
	score/include/rtems/score/interr.h,
	score/include/rtems/score/isr.h,
	score/include/rtems/score/object.h,
	score/include/rtems/score/objectmp.h,
	score/include/rtems/score/protectedheap.h,
	score/include/rtems/score/sysstate.h,
	score/include/rtems/score/thread.h,
	score/include/rtems/score/threadq.h,
	score/include/rtems/score/timespec.h,
	score/include/rtems/score/tod.h,
	score/include/rtems/score/userext.h,
	score/include/rtems/score/wkspace.h:
	Convert to "bool".
	* score/src/object.c: Stop using old-style function definitions.

2008-09-04	Ralf Corsépius <ralf.corsepius@rtems.org>

	* itron/include/rtems/itron/mbox.h,
	itron/include/rtems/itron/msgbuffer.h,
	itron/include/rtems/itron/semaphore.h,
	itron/inline/rtems/itron/eventflags.inl,
	itron/inline/rtems/itron/fmempool.inl,
	itron/inline/rtems/itron/mbox.inl,
	itron/inline/rtems/itron/msgbuffer.inl,
	itron/inline/rtems/itron/port.inl,
	itron/inline/rtems/itron/semaphore.inl,
	itron/inline/rtems/itron/task.inl,
	itron/inline/rtems/itron/vmempool.inl,
	itron/src/cre_tsk.c, itron/src/sta_tsk.c,
	itron/src/task.c, itron/src/trcv_mbf.c,
	itron/src/trcv_mbx.c, itron/src/tsnd_mbf.c,
	itron/src/twai_sem.c: Convert to "bool".

2008-09-04	Ralf Corsépius <ralf.corsepius@rtems.org>

	* posix/include/rtems/posix/cond.h, 
	posix/include/rtems/posix/key.h,
	posix/include/rtems/posix/mqueue.h,
	posix/include/rtems/posix/mutex.h,
	posix/include/rtems/posix/priority.h, 
	posix/include/rtems/posix/psignal.h,
	posix/include/rtems/posix/pthread.h,
	posix/include/rtems/posix/semaphore.h,
	posix/include/rtems/posix/timer.h: Convert to "bool".
	* posix/inline/rtems/posix/barrier.inl,
	posix/inline/rtems/posix/cond.inl,
	posix/inline/rtems/posix/key.inl,
	posix/inline/rtems/posix/mqueue.inl,
	posix/inline/rtems/posix/mutex.inl,
	posix/inline/rtems/posix/priority.inl,
	posix/inline/rtems/posix/pthread.inl,
	posix/inline/rtems/posix/rwlock.inl,
	posix/inline/rtems/posix/semaphore.inl,
	posix/inline/rtems/posix/spinlock.inl,
	posix/inline/rtems/posix/timer.inl: Convert to "bool".
	* posix/src/cancel.c,
	posix/src/condsignalsupp.c,
	posix/src/condtimedwait.c,
	posix/src/condwaitsupp.c,
	posix/src/keyrundestructors.c,
	posix/src/killinfo.c,
	posix/src/mqueuerecvsupp.c,
	posix/src/mqueuesendsupp.c,
	posix/src/mqueuetimedreceive.c,
	posix/src/mqueuetimedsend.c,
	posix/src/mutexlocksupp.c,
	posix/src/mutextimedlock.c,
	posix/src/prwlocktimedrdlock.c,
	posix/src/prwlocktimedwrlock.c,
	posix/src/psignal.c,
	posix/src/psignalchecksignal.c,
	posix/src/psignalclearsignals.c,
	posix/src/psignalunblockthread.c,
	posix/src/pthread.c,
	posix/src/pthreadcreate.c,
	posix/src/pthreadkill.c,
	posix/src/pthreadsigmask.c,
	posix/src/semaphorewaitsupp.c,
	posix/src/semtimedwait.c,
	posix/src/setcancelstate.c,
	posix/src/setcanceltype.c,
	posix/src/sigtimedwait.c,
	posix/src/testcancel.c,
	posix/src/timerinserthelper.c,
	posix/src/timersettime.c,
	posix/src/timertsr.c: Convert to "bool".

2008-09-04	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/lib/ftpfs.c: Use bool instead of boolean.
	* libi2c/libi2c.c, libi2c/libi2c.h: Use bool instead of boolean.
	* libfs/src/dosfs/dosfs.h, libfs/src/dosfs/fat.c,
	libfs/src/dosfs/fat.h, libfs/src/dosfs/msdos.h,
	libfs/src/dosfs/msdos_dir.c, libfs/src/dosfs/msdos_eval.c,
	libfs/src/dosfs/msdos_format.c, libfs/src/dosfs/msdos_misc.c,
	libfs/src/imfs/imfs_initsupp.c, libfs/src/imfs/ioman.c:
	Use "bool" instead of "rtems_boolean|boolean".
	* libfs/src/imfs/imfs_eval.c: Change "done" to bool.
	* libfs/src/nfsclient/src/xdr_mbuf.c: Stop using old-style
	  definitions.

2008-09-03	Cindy Cicalese <cicalese@mitre.org>

	* libmisc/shell/shell.c: FALSE accidentally changed to true in switch
	to bool type.

2008-09-02	Joel Sherrill <joel.sherrill@oarcorp.com>

	* sapi/include/confdefs.h: Add CONFIGURE_BSP_PREREQUISITE_DRIVERS and
	CONFIGURE_APPLICATION_PREREQUISITE_DRIVERS.

2008-09-02      Ralf Corsépius <ralf.corsepius@rtems.org>

	PR 1301/cpukit
	* sapi/src/debug.c: Let _Debug_Is_enabled return TRUE|FALSE.

2008-09-01	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libcsupport/include/timerdrv.h, 
	libcsupport/include/rtems/libcsupport.h,
	libcsupport/src/chdir.c, libcsupport/src/chmod.c,
	libcsupport/src/chown.c, libcsupport/src/free.c,
	libcsupport/src/link.c, libcsupport/src/lstat.c,
	libcsupport/src/malloc.c, libcsupport/src/malloc_deferred.c,
	libcsupport/src/malloc_initialize.c, libcsupport/src/malloc_p.h,
	libcsupport/src/mount.c, libcsupport/src/newlibc.c,
	libcsupport/src/open.c, libcsupport/src/readlink.c,
	libcsupport/src/readv.c, libcsupport/src/rmdir.c,
	libcsupport/src/stat.c, libcsupport/src/termios.c,
	libcsupport/src/unlink.c, libcsupport/src/unmount.c,
	libcsupport/src/utime.c, libcsupport/src/writev.c:
	Convert using "bool".

2008-09-01	Ralf Corsépius <ralf.corsepius@rtems.org>

	* librpc/src/rpc/auth_none.c, librpc/src/rpc/authunix_prot.c,
	librpc/src/rpc/bindresvport.c, librpc/src/rpc/clnt_generic.c,
	librpc/src/rpc/clnt_udp.c, librpc/src/rpc/getrpcent.c,
	librpc/src/rpc/netname.c, librpc/src/rpc/netnamer.c,
	librpc/src/rpc/pmap_clnt.c, librpc/src/rpc/pmap_getmaps.c,
	librpc/src/rpc/pmap_getport.c, librpc/src/rpc/pmap_prot.c,
	librpc/src/rpc/pmap_prot2.c, librpc/src/rpc/rpc_callmsg.c,
	librpc/src/rpc/svc_run.c, librpc/src/xdr/xdr.c,
	librpc/src/xdr/xdr_array.c, librpc/src/xdr/xdr_float.c,
	librpc/src/xdr/xdr_reference.c:
	Stop using old-style function definitions.

2008-09-01	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libmisc/capture/capture-cli.c, libmisc/capture/capture.c,
	libmisc/capture/capture.h:
	Convert to using "bool".
	* libmisc/serdbg/serdbg.c, libmisc/serdbg/serdbg.h,
	libmisc/serdbg/serdbgcnf.h, libmisc/serdbg/serdbgio.c,
	libmisc/serdbg/termios_printk.c:
	Convert to using "bool".
	* libmisc/shell/main_logoff.c, libmisc/shell/shell.c,
	libmisc/shell/shell.h:
	Convert to using "bool".
	* libmisc/monitor/mon-command.c, libmisc/monitor/mon-config.c,
	libmisc/monitor/mon-driver.c, libmisc/monitor/mon-extension.c,
	libmisc/monitor/mon-itask.c, libmisc/monitor/mon-monitor.c,
	libmisc/monitor/mon-mpci.c, libmisc/monitor/mon-network.c,
	libmisc/monitor/mon-object.c, libmisc/monitor/mon-part.c,
	libmisc/monitor/mon-queue.c, libmisc/monitor/mon-region.c,
	libmisc/monitor/mon-sema.c, libmisc/monitor/mon-symbols.c,
	libmisc/monitor/mon-task.c, libmisc/monitor/monitor.h:
	Convert to using "bool".
	* libmisc/stackchk/check.c, libmisc/stackchk/internal.h,
	libmisc/stackchk/stackchk.h:
	Convert to using "bool".
	* libblock/include/rtems/bdbuf.h, libblock/src/bdbuf.c,
	libblock/src/diskdevs.c, libblock/src/ide_part_table.c,
	libblock/src/ramdisk.c, libblock/src/show_bdbuf.c:
	Convert to using "bool".
	* libblock/src/nvdisk-sram.c: Add missing HAVE_CONFIG_H.

2008-09-01	Ralf Corsépius <ralf.corsepius@rtems.org>

	* httpd/asp.c, httpd/balloc.c, httpd/default.c,
	httpd/emfdb.c, httpd/form.c, httpd/handler.c,
	httpd/md5c.c, httpd/security.c, httpd/sock.c,
	httpd/socket.c, httpd/sym.c, httpd/uemf.c, httpd/um.c,
	httpd/webmain.c, httpd/webs.c, httpd/websuemf.c:
	Stop using old-style function definitions.

2008-09-01	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/libc/addr2ascii.c,
	libnetworking/libc/ascii2addr.c,
	libnetworking/libc/base64.c,
	libnetworking/libc/gethostbyht.c,
	libnetworking/libc/gethostnamadr.c,
	libnetworking/libc/getnetbyht.c,
	libnetworking/libc/getservbyport.c,
	libnetworking/libc/getservent.c,
	libnetworking/libc/herror.c,
	libnetworking/libc/inet_addr.c,
	libnetworking/libc/inet_lnaof.c,
	libnetworking/libc/inet_netof.c,
	libnetworking/libc/inet_network.c,
	libnetworking/libc/inet_ntoa.c,
	libnetworking/libc/inet_ntop.c,
	libnetworking/libc/inet_pton.c,
	libnetworking/libc/linkaddr.c,
	libnetworking/libc/map_v4v6.c,
	libnetworking/libc/res_comp.c,
	libnetworking/libc/res_debug.c,
	libnetworking/libc/res_init.c,
	libnetworking/libc/res_mkquery.c,
	libnetworking/libc/res_query.c,
	libnetworking/nfs/bootp_subr.c,
	libnetworking/rtems/rtems_glue.c:
	Stop using old-style function definitions.

2008-09-01	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/netinet/if_ether.c, 
	libnetworking/netinet/igmp.c,
	libnetworking/netinet/in.c,
	libnetworking/netinet/in_pcb.c,
	libnetworking/netinet/ip_icmp.c,
	libnetworking/netinet/ip_input.c,
	libnetworking/netinet/ip_mroute.c,
	libnetworking/netinet/ip_output.c,
	libnetworking/netinet/raw_ip.c,
	libnetworking/netinet/tcp_debug.c,
	libnetworking/netinet/tcp_input.c,
	libnetworking/netinet/tcp_output.c,
	libnetworking/netinet/tcp_subr.c,
	libnetworking/netinet/tcp_timer.c,
	libnetworking/netinet/tcp_usrreq.c,
	libnetworking/netinet/udp_usrreq.c:
	Stop using old-style function definitions.

2008-09-01	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/netinet/tcp_var.h: Fix broken declaration of
	tcp_trace().

2008-09-01	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/libc/res_comp.c,
	libnetworking/netinet/igmp.c,
	libnetworking/netinet/in_cksum.c,
	libnetworking/netinet/in_proto.c,
	libnetworking/netinet/tcp_debug.c,
	libnetworking/netinet/tcp_input.c,
	libnetworking/netinet/tcp_output.c,
	libnetworking/netinet/tcp_timer.c: 
	Remove BSD "Add clause" (From FreeBSD).

2008-09-01	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/net/if_ethersubr.c, libnetworking/net/if_loop.c,
	libnetworking/net/if_ppp.c, libnetworking/net/ppp_tty.c,
	libnetworking/net/radix.c, libnetworking/net/raw_cb.c,
	libnetworking/net/raw_usrreq.c, libnetworking/net/route.c,
	libnetworking/net/rtsock.c, libnetworking/net/slcompress.c:
	Stop using old-style function definitions.

2008-09-01	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/kern/uipc_domain.c, libnetworking/kern/uipc_mbuf.c
	libnetworking/kern/uipc_socket.c, libnetworking/kern/uipc_socket2.c:
	Stop using old-style function definitions.

2008-08-31	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/include/timerdrv.h: Rename timer driver methods to follow
	RTEMS programming conventions.

2008-08-30	Joel Sherrill <joel.sherrill@oarcorp.com>

	* posix/Makefile.am, rtems/src/tasksetpriority.c: Improve comments and
	wrapping.

2008-08-29	Ralf Corsépius <ralf.corsepius@rtems.org>

	* ftpd/ftpd.c: Fix prototype.

2008-08-27	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libmisc/Makefile.am, libmisc/shell/shell.c, libmisc/shell/shell.h:
	Split out rtems_shell_get_prompt() so it can be overridden by the
	user.
	* libmisc/shell/shell_getprompt.c: New file.

2008-08-27	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/libc/getproto.c, libnetworking/libc/getprotoent.c,
	libnetworking/libc/getprotoname.c,
	libnetworking/libc/getservbyname.c,
	libnetworking/libc/inet_makeaddr.c, libnetworking/libc/recv.c,
	libnetworking/libc/send.c: Stop using old-style
	function-definitions.

2008-08-26	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libmisc/fsmount/fsmount.c: Convert to using bool.

2008-08-26	Thomas Doerfler <Thomas.Doerfler@embedded-brains.de>

	* libbcsupport/src/printk_plugin.c: properly terminate va_list
	processing with va_end

2008-08-26	Ralf Corsépius <ralf.corsepius@rtems.org>

	* pppd/auth.c, pppd/ccp.c, pppd/chap.c, pppd/chat.c,
	pppd/demand.c, pppd/fsm.c, pppd/ipcp.c, pppd/lcp.c,
	pppd/magic.c, pppd/options.c, pppd/rtemsmain.c, 
	pppd/sys-rtems.c, pppd/upap.c, pppd/utils.c:
	Stop using old-style function-definitions.

2008-08-25	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libblock/src/bdbuf.c, libblock/src/diskdevs.c,
	libblock/src/ide_part_table.c, libblock/src/ramdisk.c:
	s/rtems_boolean/bool/g.

2008-08-25	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libmd/md4.c, libmd/md5.c:
	Stop using old-style function-definitions.
	* libcsupport/src/closedir.c, libcsupport/src/getcwd.c,
	libcsupport/src/mount.c, libcsupport/src/newlibc.c,
	libcsupport/src/opendir.c, libcsupport/src/readdir.c,
	libcsupport/src/scandir.c: 
	Stop using old-style function-definitions.

2008-08-25	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libcsupport/src/malloc_boundary.c: Use %zi to print size_t.
	* libmisc/capture/capture.c, libmisc/shell/fts.c:
	Stop using old-style function-definitions.

2008-08-21	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libblock/include/rtems/bdbuf.h, libblock/include/rtems/diskdevs.h,
	libblock/src/bdbuf.c, libblock/src/blkdev.c, libblock/src/diskdevs.c,
	libblock/src/ramdisk.c: Eliminate sign mismatch warnings.

2008-08-21	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libmisc/monitor/mon-network.c: Use memset instead of bzero.

2008-08-21	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libmisc/shell/internal.h: Don't include "config.h".
	Adjust header guard.
	* libmisc/shell/cmp-ls.c, libmisc/shell/err.c, 
	libmisc/shell/errx.c, libmisc/shell/filemode.c, 
	libmisc/shell/fts.c, libmisc/shell/main_cp.c, 
	libmisc/shell/main_ls.c, libmisc/shell/main_mv.c,
	libmisc/shell/main_rm.c, libmisc/shell/print-ls.c,
	libmisc/shell/pwcache.c, libmisc/shell/shellconfig.c,
	libmisc/shell/utils-cp.c, libmisc/shell/utils-ls.c,
	libmisc/shell/verr.c, libmisc/shell/verrx.c,
	libmisc/shell/vis.c, libmisc/shell/vwarn.c,
	libmisc/shell/vwarnx.c, libmisc/shell/warn.c,
	libmisc/shell/warnx.c: Include "config.h".

2008-08-21	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libmisc/monitor/mon-network.c, libmisc/monitor/mon-part.c,
	libmisc/monitor/mon-region.c, libmisc/monitor/mon-sema.c:
	Include "config.h".

2008-08-21	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libmisc/shell/main_ifconfig.c: Use memset instead of bzero.
	* ftpd/ftpd.c: Don't use annonymous unions.

2008-08-21	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libblock/src/flashdisk.c: Remove bool, true, false.

2008-08-20	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libmisc/dummy/dummy.c: Add missing initializers.
	* score/src/threadinitialize.c: Change type of loop counter.

2008-08-20	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libcsupport/src/error.c, libmisc/dummy/dummy.c,
	rtems/src/rtemsobjectgetapiclassname.c,
	rtems/src/rtemsobjectgetapiname.c: Add 0 for missing initializers.

2008-08-20	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* include/rtems/status-checks.h: Fixed integer conversion warning.

2008-08-20	Ralf Corsépius <ralf.corsepius@rtems.org>

	* configure.ac: Abort if stdbool.h is not c99 compliant.

2008-08-20	Ralf Corsépius <ralf.corsepius@rtems.org>

	* pppd/pppd.h: Use stdbool.h. Remove local bool.

2008-08-20	Ralf Corsépius <ralf.corsepius@rtems.org>

	* configure.ac: Add AC_HEADER_STDBOOL.
	* libblock/src/nvdisk.c: Remove bool, true, false (unused, clashes
	with C99/POSIX).

2008-08-19	Cedric Aubert <cedric_aubert@yahoo.fr>

	PR 500/misc
	* libcsupport/src/termios.c: Avoid potential buffer overflow.

2008-08-19	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libnetworking/kern/kern_sysctl.c, libnetworking/libc/res_debug.c: Fix
	warnings.

2008-08-19	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libfs/src/nfsclient/src/nfs.c, libfs/src/nfsclient/src/rpcio.c:
	Remove some warnings. Using ASSERT/assert macros confuses gcc who is
	unsure actions take place. More importantly if you ever compiled with
	NDEBUG set wrong, intended actions would not occur. Likely I did not
	catch all of these.

2008-08-19	Joel Sherrill <joel.sherrill@OARcorp.com>

	* httpd/uemf.h: Add empty braces to macro.

2008-08-19	Tim FitzGeorge <tim.fitzgeorge@astrium.eads.net>

	PR 1296/cpukit.
	* posix/src/timersettime.c: POSIX timers use incorrect repeat interval.
	This patch fixes the following problems in timer_settime: 1) Uses
	value.it_interval for repeat period. 2) Corrects test for incorrect
	value of it_value.tv_nsec (should reject 1000000000).

2008-08-19	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/inline/rtems/score/threadmp.inl: Add include of
	rtems/score/mpci.h and remove extern.

2008-08-19	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libcsupport/include/clockdrv.h: Add Clock_Exit prototype.

2008-08-19	Ralf Corsepius <ralf.corsepius@rtems.org>

	* rtems/inline/rtems/rtems/asr.inl,
	rtems/inline/rtems/rtems/attr.inl,
	rtems/inline/rtems/rtems/barrier.inl,
	rtems/inline/rtems/rtems/dpmem.inl,
	rtems/inline/rtems/rtems/event.inl,
	rtems/inline/rtems/rtems/eventset.inl,
	rtems/inline/rtems/rtems/message.inl,
	rtems/inline/rtems/rtems/modes.inl,
	rtems/inline/rtems/rtems/options.inl,
	rtems/inline/rtems/rtems/part.inl,
	rtems/inline/rtems/rtems/ratemon.inl,
	rtems/inline/rtems/rtems/region.inl,
	rtems/inline/rtems/rtems/sem.inl,
	rtems/inline/rtems/rtems/status.inl,
	rtems/inline/rtems/rtems/support.inl,
	rtems/inline/rtems/rtems/tasks.inl,
	rtems/inline/rtems/rtems/timer.inl,
	Add header guard to force indirect inclusion.
	* score/inline/rtems/score/address.inl,
	score/inline/rtems/score/chain.inl,
	score/inline/rtems/score/corebarrier.inl,
	score/inline/rtems/score/coremsg.inl,
	score/inline/rtems/score/coremutex.inl,
	score/inline/rtems/score/corerwlock.inl,
	score/inline/rtems/score/coresem.inl,
	score/inline/rtems/score/corespinlock.inl,
	score/inline/rtems/score/heap.inl,
	score/inline/rtems/score/isr.inl,
	score/inline/rtems/score/mppkt.inl,
	score/inline/rtems/score/object.inl,
	score/inline/rtems/score/objectmp.inl,
	score/inline/rtems/score/priority.inl,
	score/inline/rtems/score/stack.inl,
	score/inline/rtems/score/states.inl,
	score/inline/rtems/score/sysstate.inl,
	score/inline/rtems/score/thread.inl,
	score/inline/rtems/score/threadmp.inl,
	score/inline/rtems/score/threadq.inl,
	score/inline/rtems/score/tod.inl,
	score/inline/rtems/score/tqdata.inl,
	score/inline/rtems/score/watchdog.inl,
	score/inline/rtems/score/wkspace.inl:
	Add header guard to force indirect inclusion.
	* posix/inline/rtems/posix/barrier.inl,
	posix/inline/rtems/posix/cond.inl,
	posix/inline/rtems/posix/key.inl,
	posix/inline/rtems/posix/mqueue.inl,
	posix/inline/rtems/posix/mutex.inl,
	posix/inline/rtems/posix/priority.inl,
	posix/inline/rtems/posix/pthread.inl,
	posix/inline/rtems/posix/rwlock.inl,
	posix/inline/rtems/posix/semaphore.inl,
	posix/inline/rtems/posix/spinlock.inl,
	posix/inline/rtems/posix/timer.inl:
	Add header guard to force indirect inclusion.
	* itron/inline/rtems/itron/eventflags.inl,
	itron/inline/rtems/itron/fmempool.inl,
	itron/inline/rtems/itron/intr.inl,
	itron/inline/rtems/itron/mbox.inl,
	itron/inline/rtems/itron/msgbuffer.inl,
	itron/inline/rtems/itron/network.inl,
	itron/inline/rtems/itron/port.inl,
	itron/inline/rtems/itron/semaphore.inl,
	itron/inline/rtems/itron/sysmgmt.inl,
	itron/inline/rtems/itron/task.inl,
	itron/inline/rtems/itron/time.inl,
	itron/inline/rtems/itron/vmempool.inl:
	Add header guard to force indirect inclusion.
	* sapi/inline/rtems/chain.inl: 
	Add header guard to force indirect inclusion.

2008-08-19	Ralf Corsepius <ralf.corsepius@rtems.org>

	* rtems/include/rtems/rtems/object.h: Use _RTEMS_RTEMS_OBJECT_H as
	header guard.

2008-08-18	Ralf Corsepius <ralf.corsepius@rtems.org>

	* libnetworking/netinet/in_cksum_arm.h, score/cpu/arm/cpu.c
	score/cpu/h8300/rtems/score/cpu.h: Add missing prototypes.

2008-08-18	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libnetworking/lib/ftpfs.c, libnetworking/libc/inet_ntoa.c,
	libnetworking/libc/rcmd.c, libnetworking/nfs/bootp_subr.c,
	libnetworking/rtems/rtems_glue.c,
	libnetworking/rtems/rtems_malloc_mbuf.c,
	libnetworking/rtems/rtems_showicmpstat.c, libnetworking/sys/malloc.h:
	Fix some warnings.

2008-08-18	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/include/rtems/libcsupport.h, libcsupport/src/scandir.c,
	libmisc/cpuuse/cpuusagereset.c, libmisc/monitor/mon-monitor.c,
	libmisc/serdbg/serdbg.c, libmisc/serdbg/serdbg.h,
	libnetworking/netinet/in_cksum_powerpc.h, shttpd/compat_rtems.h: Fix
	warnings.

2008-08-18	Joel Sherrill <joel.sherrill@oarcorp.com>

	* itron/include/rtems/itron/task.h, itron/src/def_cyc.c,
	itron/src/task.c, libcsupport/src/newlibc_exit.c,
	libcsupport/src/sync.c, libfs/src/imfs/imfs_fchmod.c,
	posix/include/rtems/posix/pthread.h, posix/src/pthread.c,
	posix/src/sysconf.c, rtems/include/rtems/rtems/tasks.h,
	rtems/src/tasks.c, score/include/rtems/score/stack.h,
	score/inline/rtems/score/stack.inl,
	score/inline/rtems/score/thread.inl, score/src/threadhandler.c: Fix
	various nested-externs warnings.

2008-08-18	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/Makefile.am, libcsupport/src/newlibc.c: Split libc_init()
	into a separate file to avoid linkage dependencies on newlibc.c which
	in turn pulls in fclose() and other C library methods.
	* libcsupport/src/newlibc_init.c: New file.

2008-08-18	Ralf Corsepius <ralf.corsepius@rtems.org>

	* aclocal/prog-cc.m4: Add -Wnested-externs.

2008-08-18	Ralf Corsepius <ralf.corsepius@rtems.org>

	* libnetworking/net/ppp_tty.c: Remove bogus local decl of
	termios_baud_to_number(int).
	* libnetworking/netinet/in_cksum_i386.h: Add missing prototype.
	* libnetworking/netinet/in_cksum.c: Add missing prototypes.
	* librpc/src/rpc/clnt_tcp.c, librpc/src/rpc/svc_tcp.c:
	Add missing prototypes.

2008-08-16	Ralf Corsepius <ralf.corsepius@rtems.org>

	* libfs/src/nfsclient/src/librtemsNfs.h: Add missing prototype.

2008-08-16	Ralf Corsepius <ralf.corsepius@rtems.org>

	* aclocal/prog-cc.m4: Add -Wimplicit-function-declaration 
	-Wstrict-prototypes to RTEMS_CFLAGS.

2008-08-15	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1297/cpukit
	* posix/src/prwlockinit.c: Fix NULL attribute pointer handling.

2008-08-14     Sebastian Huber <sebastian.huber@embedded-brains.de>

	* rtems/include/rtems/rtems/ratemon.h,
	rtems/include/rtems/rtems/status.h,
	score/include/rtems/score/coremutex.h,
	score/include/rtems/score/object.h: Removed extraneous commas.

2008-08-08	Joel Sherrill <joel.sherrill@OARcorp.com>

	* rtems/include/rtems/rtems/msgmp.h: Fix MP code missed by Sebastian.

2008-08-08     Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libmisc/monitor/monitor.h, rtems/include/rtems/rtems/tasks.h,
	score/include/rtems/score/thread.h, score/src/threadreset.c,
	score/src/threadrestart.c, score/src/threadstart.c: New type
	Thread_Entry_numeric_type for numeric arguments in thread entry
	functions with at least one numeric argument.

2008-08-07	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/include/rtems/score/sysstate.h,
	score/inline/rtems/score/sysstate.inl, score/src/thread.c: Make
	_System_state_Is_multiprocessing unused when multiprocessing is not
	enabled. Saves one more variable from single processor configuration.

2008-08-07      Chris Johns <chrisj@rtems.org>

	* libcsupport/src/_rename_r.c: Fixed return code bug. Add a check
	to see if the 'to' path was a directory and removed the directory.

	* libmisc/Makefile.am, libmisc/shell/shellconfig.h: Added the mv
	command.

	* libmisc/shell/main_mv.c, libmisc/shell/pathnames-mv.h: New.

2008-08-06      Chris Johns <chrisj@rtems.org>

	* libblock/src/bdbuf.c: PR1272. Fixed similar possible issues in
	the new bdbuf code.

2008-08-06      Brett Swimley <brett.swimley@aedbozeman.com>

	PR 1192/filesystem
	* libblock/src/diskdevs.c: PR1192. Update the disktap pointer
	after the realloc.

2008-08-06      Till Straumann <strauman@slac.stanford.edu>

	* libblock/src/diskdevs.c: PR1269. Delete the semaphore rather
	than release it.

2008-08-05	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 537/bsps
	* libcsupport/include/rtems/libcsupport.h, libcsupport/src/newlibc.c,
	libcsupport/src/no_libc.c, libcsupport/src/unixlibc.c: Eliminate
	vestiges of ticks_per_timeslice controlling newlib reentrancy. The
	parameter was ignored in libc_init().

2008-08-05	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 741/networking
	* libmisc/dummy/dummy.c: Add dummy network configuration.

2008-08-05     Sebastian Huber <sebastian.huber@embedded-brains.de>

	* rtems/include/rtems/rtems/sem.h, rtems/src/semobtain.c:
	Changed option set type to rtems_option.

	* score/src/objectgetinfo.c: Check return value of
	_Objects_API_maximum_class().

	* libmisc/monitor/mon-mpci.c, libmisc/monitor/monitor.h,
	rtems/include/rtems/rtems/message.h, rtems/src/msgmp.c,
	rtems/src/msgqallocate.c, rtems/src/msgqbroadcast.c,
	rtems/src/msgqcreate.c, rtems/src/msgqreceive.c, rtems/src/msgqsend.c,
	rtems/src/msgqurgent.c, score/include/rtems/score/coremsg.h,
	score/include/rtems/score/mpci.h, score/include/rtems/score/thread.h,
	score/inline/rtems/score/coremsg.inl, score/src/coremsg.c,
	score/src/coremsgbroadcast.c, score/src/coremsgseize.c,
	score/src/coremsgsubmit.c:
	Removed parameters of _Message_queue_Allocate().  Changed option set
	type to rtems_option.  Changed type of maximum message and packet size
	to size_t.  Changed the input buffer type for message send functions to
	"const void *".  Changed the pointer to the second return argument in
	the thread wait information to a union.  This union can contain a
	pointer to an immutable or a mutable object.  This is somewhat fragile.
	An alternative would be to add a third pointer for immutable objects,
	but this would increase the structure size.

2008-08-05	Xudong Guan <xudong.guan@criticalsoftware.com>

	PR 1212/cpukit
	* rtems/src/taskmode.c, score/src/threadtickletimeslice.c: Time slicing
	will not happen if the task mode is changed from a non-timeslicing
	mode to timeslicing mode if it is done by the executing thread (e.g.
	in its task body). This change includes sp44 to demonstrate the
	problem and verify the correction.

2008-08-04	Joel Sherrill <joel.sherrill@OARcorp.com>

	* posix/src/mqueuetimedreceive.c, posix/src/mqueuetimedsend.c: Fix
	warnings.

2008-08-04	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1265/cpukit
	* score/include/rtems/score/object.h,
	score/src/objectallocatebyindex.c: Rename index argument to avoid
	warning when rtems.h and string.h are included at the same time by
	user code.

2008-08-03	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/lib/tftpDriver.c: Add prototypes.
	* pppd/rtemsmain.c: Add prototypes.
	* zlib/crc32.c: Add prototypes.

2008-08-02	Chris Johns (chrisj@rtems.org>

	* libblock/include/rtems/blkdev.h: Remove count and start from
	rtems_blkdev_request. Add RTEMS_BLKDEV_START_BLOCK macro.

	* libblock/src/bdbuf.c: Add read ahead blocks always consecutive
	comment. Change count to bufnum and remove start references. Sort
	the transfer list so blocks are consecutive where possible.

	* libblock/src/blkdev.c, libblock/src/nvdisk.c,
	libblock/src/ramdisk.c: Change count to bufnum and remove start
	references.

2008-08-02	Ralf Corsépius <ralf.corsepius@rtems.org>

	* telnetd/telnetd.c: Add missing prototypes. 
	Remove unused local declations.

2008-08-02	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/libc/gethostbydns.c,
	libnetworking/libc/gethostbyht.c,
	libnetworking/libc/gethostbynis.c,
	libnetworking/libc/gethostnamadr.c,
	libnetworking/libc/getnetbydns.c,
	libnetworking/libc/getnetbynis.c,
	libnetworking/libc/getnetnamadr.c,
	libnetworking/libc/nsap_addr.c,
	libnetworking/libc/res_debug.c,
	libnetworking/libc/res_send.c: Add missing prototypes.

2008-08-02	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libi2c/libi2c.c, libi2c/libi2c.h: Add missing prototypes.
	* libmd/md4.c, libmd/md5.c: Add missing prototypes.
	* libmisc/monitor/mon-command.c, libmisc/shell/filemode.c,
	libmisc/shell/shell_script.c: Add missing prototypes.

2008-08-01	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libfs/src/nfsclient/src/xdr_mbuf.c: Add prototypes.

2008-08-01	Ralf Corsépius <ralf.corsepius@rtems.org>

	* librpc/include/rpc/clnt.h: Cleanup.
	* librpc/include/rpc/svc.h: Cleanup.

2008-08-01	Ralf Corsépius <ralf.corsepius@rtems.org>

	* librpc/src/xdr/xdr_mem.c librpc/src/xdr/xdr_rec.c
	librpc/src/xdr/xdr_sizeof.c, librpc/src/xdr/xdr_stdio.c: 
	Misc. ansifications. Add prototypes.

2008-08-01	Joel Sherrill <joel.sherrill@OARcorp.com>

	* rtems/src/msgqsend.c, rtems/src/msgqurgent.c: Fix typos.

2008-08-01	Ralf Corsépius <ralf.corsepius@rtems.org>

	* librpc/src/rpc/getrpcport.c: Misc. ansifications.
	* librpc/src/rpc/getrpcent.c: Remove stray local decls. 
	Misc. ansifications.
	* librpc/src/rpc/clnt_perror.c: Misc. ansifications.
	* librpc/src/rpc/get_myaddress.c: Misc. ansifications.
	* librpc/src/rpc/svc_auth_unix.c: Misc. ansifications.
	* librpc/src/rpc/pmap_clnt.c: Remove stray clnt_perror().
	* librpc/src/rpc/clnt_tcp.c: Add missing prototypes.
	* librpc/src/rpc/clnt_raw.c: Add missing prototypes.
	* librpc/src/rpc/clnt_udp.c: Add missing prototypes.
	* librpc/src/rpc/svc_auth.c: Add missing prototypes.
	* librpc/src/rpc/svc_raw.c: Add missing prototypes.
	* librpc/src/rpc/svc_tcp.c: Add missing prototypes.
	* librpc/src/rpc/svc_udp.c: Add missing prototypes.

2008-08-01	Ralf Corsépius <ralf.corsepius@rtems.org>

	* librpc/src/rpc/svc.c: Add missing prototypes.
	* librpc/src/xdr/xdr_rec.c: Remove register vars.
	* librpc/src/xdr/xdr_mem.c: Misc. ansifications.
	* librpc/src/rpc/svc_tcp.c: Misc. ansifications.
	* librpc/src/rpc/clnt_tcp.c: Misc. ansifications.
	* librpc/src/rpc/svc_raw.c: Misc. ansifications.
	* librpc/src/xdr/xdr_rec.c: Misc. ansifications.
	* librpc/src/rpc/svc_simple.c: Add missing prototypes.
	* librpc/src/rpc/rtems_portmapper.c: Add missing prototypes.
	* librpc/src/rpc/rpcdname.c: Add missing prototypes.
	* librpc/src/rpc/rpc_prot.c: Misc. ansifications.
	* librpc/src/rpc/pmap_rmt.c: Misc. ansifications.
	* librpc/src/rpc/clnt_simple.c: Misc. ansifications.
	* librpc/src/rpc/auth_unix.c: Misc. ansifications. 
	Add missing prototypes.
	* librpc/src/rpc/rtime.c, librpc/src/rpc/svc_udp.c:
	Misc. ansifications.

2008-08-01	Ralf Corsépius <ralf.corsepius@rtems.org>

	* librpc/include/rpc/auth_unix.h, librpc/include/rpc/pmap_clnt.h,
	librpc/include/rpc/pmap_prot.h, librpc/include/rpc/pmap_rmt.h,
	librpc/include/rpc/rpc_msg.h, librpc/include/rpc/svc_auth.h,
	librpc/include/rpcsvc/yppasswd.x, librpc/src/rpc/netnamer.c,
	librpc/src/rpc/svc_udp.c, librpc/src/xdr/xdr_rec.c,
	librpc/include/rpcsvc/ypclnt.h, librpc/include/rpcsvc/yp_prot.h:
	Eliminate __P().

2008-08-01	Ralf Corsépius <ralf.corsepius@rtems.org>

	* score/include/rtems/score/thread.h: Add missing prototype.
	* score/inline/rtems/score/thread.inl: Add missing prototypes.
	* libfs/src/nfsclient/src/nfs.c: Add missing prototype.
	* libnetworking/lib/ftpfs.c, libnetworking/libc/rcmd.c,
	libnetworking/netinet/in_cksum_m68k.h, 
	libnetworking/netinet/ip_divert.c, libnetworking/rtems/ftpfs.h,
	libnetworking/rtems/mkrootfs.c, libnetworking/rtems/mkrootfs.h,
	libnetworking/rtems/rtems_showroute.c: Add missing prototypes.
	* itron/include/itronsys/types.h: Add missing prototype.
	* ftpd/ftpd.c: Fix broken prototype.
	* libblock/include/rtems/bdbuf.h, libblock/src/bdbuf.c:
	Add missing prototypes.

2008-07-31	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libmisc/shell/main_rm.c: sys/mount.h is not available when networking
	is disabled but luckily it is not even needed to compile.

2008-07-31	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libmisc/shell/main_netstats.c: Add missing prototypes.
	* libmisc/shell/main_wkspaceinfo.c: Remove classinfo_tester.
	* shttpd/compat_rtems.c: Replace C++-comments with C-comments.

2008-07-30	Ralf Corsépius <ralf.corsepius@rtems.org>

	* httpd/emfdb.h, httpd/socket.c, httpd/uemf.c, httpd/uemf.h,
	httpd/um.h, httpd/webmain.c, httpd/webs.c, httpd/webs.h, 
	httpd/wsIntrn.h: Add missing protoypes.

2008-07-29	Tim Cussins <timcussins@eml.cc>

	* ChangeLog, libmisc/monitor/mon-object.c: Add mising RTEMS_POSIX_API
	conditional.

2008-07-29	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libmisc/monitor/mon-monitor.c: Remove stray arg from function
	call.

2008-07-29	Ralf Corsépius <ralf.corsepius@rtems.org>

	* ftpd/ftpd.c, ftpd/ftpd.h: Add missing prototypes.

2008-07-29	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libmisc/capture/capture.h, libmisc/monitor/mon-symbols.c, 
	libmisc/monitor/monitor.h: Add missing prototypes.
	* score/inline/rtems/score/tod.inl: Add prototypes.
	* score/src/coretodset.c: Remove stray args in function call.
	* libcsupport/include/rtems/libcsupport.h, 
	libcsupport/include/rtems/libio_.h, 
	libcsupport/src/malloc_statistics_helpers.c,
	libcsupport/src/scandir.c: Add prototypes.
	* telnetd/pty.c: Add prototypes. Remove misc. C++-code pollution.
	* posix/src/prwlocktrywrlock.c, posix/src/prwlocktryrdlock.c,
	posix/src/prwlockrdlock.c: Use C-style comments.

2008-07-29	Chris Johns <chrisj@rtems.org>

	* libblock/src/nvdisk.c: Fix block compile bug.

2008-07-29	Chris Johns <chrisj@rtems.org>

	* libblock/include/rtems/bdbuf.h, cpukit/libblock/src/bdbuf.c:
	Update the comments.

2008-07-29	Chris Johns <chrisj@rtems.org>

	* libblock/Makefile.am: Removed src/show_bdbuf.c.

	* libblock/src/show_bdbuf.c: Removed.

	* libblock/include/rtems/bdbuf.h, cpukit/libblock/src/bdbuf.c:
	Rewritten the bdbuf code. Remove pre-emption disable, score
	access, fixed many bugs and increased performance.

	* libblock/include/rtems/blkdev.h: Added
	RTEMS_BLKDEV_CAPABILITIES block device request. Cleaned up
	comments. Added block and user fields to the sg buffer
	request. Move to rtems_* namespace.

	* libblock/include/rtems/diskdevs.h,
	cpukit/libblock/src/diskdevs.c: Move to rtems_* namespace. Add a
	capabilities field for drivers. Change rtems_disk_lookup to
	rtems_disk_obtain to match the release call. You do not lookup and
	release a disk, you obtain and release a disk.

	* libblock/include/rtems/ide_part_table.h,
	libblock/include/rtems/ramdisk.h, libblock/src/ide_part_table.c:
	Move to rtems_* namespace.

	* libblock/include/rtems/nvdisk.h: Formatting change.

	* libblock/src/blkdev.c: Move to rtems_* namespace. Change
	rtems_disk_lookup to rtems_disk_obtain

	* libblock/src/flashdisk.c: Move to rtems_* namespace. Use the new
	support for the block number in the scatter/grather request
	struct. This allows non-continuous buffer requests for those
	drivers that can support increasing performance.

	* libblock/src/nvdisk.c: Move to rtems_* namespace. Removed
	warnings. Added better error checking. Fixed some comments.

	* libblock/src/ramdisk.c: Move to rtems_* namespace. Added some
	trace functions to help debugging upper layers. Use the new
	support for the block number in the scatter/grather request
	struct. This allows non-continuous buffer requests for those
	drivers that can support increasing performance.

	* libfs/src/dosfs/fat.c, libfs/src/dosfs/fat.h: Use new chains
	API. Removed temporary hack and changed
	set_errno_and_return_minus_one to
	rtems_set_errno_and_return_minus_one. Move fat_buf_access from
	header and stopped it being inlined. Updated to libblock changes.
	
	* libfs/src/dosfs/fat_fat_operations.c,
	libfs/src/dosfs/fat_file.c, libfs/src/dosfs/msdos_create.c,
	libfs/src/dosfs/msdos_dir.c, libfs/src/dosfs/msdos_eval.c,
	libfs/src/dosfs/msdos_file.c, libfs/src/dosfs/msdos_format.c,
	libfs/src/dosfs/msdos_free.c, libfs/src/dosfs/msdos_initsupp.c,
	libfs/src/dosfs/msdos_misc.c, libfs/src/dosfs/msdos_mknod.c: Use
	new chains API. Removed temporary hack and changed
	set_errno_and_return_minus_one to
	rtems_set_errno_and_return_minus_one. Updated to libblock changes.

	* libmisc/Makefile.am: Add new ls and rm command files.

	* libmisc/shell/cmp-ls.c, libmisc/shell/extern-ls.h,
	libmisc/shell/filemode.c, libmisc/shell/print-ls.c,
	libmisc/shell/pwcache.c, libmisc/shell/utils-ls.c,
	libmisc/shell/vis.c, shell/vis.h: New.

	* libmisc/shell/extern-cp.h, libmisc/shell/main_cp.c,
	libmisc/shell/utils-cp.c: Fixed the usage call bug.

	* libmisc/shell/main_blksync.c: Updated to the new block IO ioctl
	command.

	* libmisc/shell/main_ls.c, libmisc/shell/main_rm.c: Updated to BSD
	commands with more features.
	
	* score/src/coremutex.c: Fix the strict order mutex code.

	* libmisc/shell/shell.c: Change shell tasks mode to be timeslice
	and no ASR.
	
	* sapi/include/confdefs.h: Change ata_driver_task_priority to
	rtems_ata_driver_task_priority. Add the new BD buf cache
	parameters with defaults.

	* score/src/interr.c: Do not return if the CPU halt call returns.
	
2008-07-24     Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libcsupport/include/rtems/libcsupport.h: Moved declaration of
	bsp_libc_init() into new bootcard.h.

	* cpukit/include/rtems/irq-extension.h: New function
	rtems_interrupt_handler_iterate() for system information and
	diagnostics.

2008-07-23	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/shell/shell_script.c: Clean up code for command not found
	including the error message.

2008-07-23	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/monitor/mon-extension.c, libmisc/monitor/mon-itask.c,
	libmisc/monitor/mon-part.c, libmisc/monitor/mon-prmisc.c,
	libmisc/monitor/mon-queue.c, libmisc/monitor/mon-region.c,
	libmisc/monitor/mon-sema.c, libmisc/monitor/mon-task.c,
	libmisc/monitor/monitor.h: Use rtems_object_get_name() instead of
	internal routine. This makes it possible to also print string names
	of POSIX objects. Adjust task report to realign since we can have
	longer names.

2008-07-23	Joel Sherrill <joel.sherrill@oarcorp.com>

	* sapi/include/confdefs.h, score/src/threadcreateidle.c: Idle thread
	body is now completely configured via the Configuration table.

2008-07-18	Joel Sherrill <joel.sherrill@oarcorp.com>

	PR 1291/cpukit
	* itron/inline/rtems/itron/semaphore.inl, itron/src/twai_sem.c,
	posix/include/mqueue.h, posix/include/rtems/posix/mqueue.h,
	posix/include/rtems/posix/semaphore.h,
	posix/include/rtems/posix/time.h, posix/src/condtimedwait.c,
	posix/src/mqueuereceive.c, posix/src/mqueuerecvsupp.c,
	posix/src/mqueuesend.c, posix/src/mqueuesendsupp.c,
	posix/src/mqueuetimedreceive.c, posix/src/mqueuetimedsend.c,
	posix/src/mutextimedlock.c, posix/src/mutextranslatereturncode.c,
	posix/src/posixtimespecabsolutetimeout.c,
	posix/src/prwlocktimedrdlock.c, posix/src/prwlocktimedwrlock.c,
	posix/src/semaphoretranslatereturncode.c,
	posix/src/semaphorewaitsupp.c, posix/src/semtimedwait.c,
	posix/src/semtrywait.c, posix/src/semwait.c,
	posix/src/sigtimedwait.c, posix/src/timersettime.c,
	posix/src/ualarm.c, rtems/src/semobtain.c,
	rtems/src/semtranslatereturncode.c,
	score/include/rtems/score/coremutex.h,
	score/include/rtems/score/coresem.h, score/src/coresemseize.c: This
	patch addresses issues on implementation of the timeout on the
	following POSIX services. Some of these services incorrectly took a
	timeout as a relative time. Others would compute a 0 delta to timeout
	if the absolute time and the current time were equal and thus
	incorrectly block the caller forever. The root of the confusion is
	that POSIX specifies that if the timeout is incorrect (e.g. in the
	past, is now, or is numerically invalid), that it does not matter if
	the call would succeed without blocking. This is in contrast to RTEMS
	programming style where all errors are checked before any critical
	sections are entered. This fix implemented a more uniform way of
	handling POSIX absolute time timeouts.
	    + pthread_cond_timedwait - could block forever
	    + mq_timedreceive - used relative not absolute time
	    + mq_timedsend - used relative not absolute time
	    + pthread_mutex_timedlock - used relative not absolute time
	    + pthread_rwlock_timedrdlock- used relative not absolute time
	    + pthread_rwlock_timedwrlock- used relative not absolute time
	    + sem_timedwait - could block forever

2008-07-17	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/monitor/mon-monitor.c, libmisc/monitor/mon-object.c,
	libmisc/monitor/monitor.h, libmisc/shell/main_chmod.c,
	libmisc/shell/main_tty.c, libmisc/shell/main_umask.c,
	libmisc/shell/main_whoami.c: Add pthread command to monitor when
	POSIX is enabled. Remove include of rtems/monitor.h from files not
	related.

2008-07-16	Till Straumann <strauman@slac.stanford.edu>

	* score/cpu/powerpc/rtems/new-exceptions/cpu.h:
	use ppc_interrupt_get_disable_mask() to determine
	which bits to set/clear from _CPU_ISR_Set_level().

2008-07-16	Till Straumann <strauman@slac.stanford.edu>

	* score/cpu/powerpc/rtems/powerpc/registers.h:
	added ppc_interrupt_get_disable_mask() inline function.

2008-07-16	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/shell/shellconfig.h, libmisc/stackchk/stackchk.h: Fix typos.

2008-07-16	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/shell/shell.c, libmisc/shell/shell.h: New argument sequence
	for rtems_shell_init(). This makes it possible to run the shell
	forever or invoke it from a program as a subroutine, have a user
	enter commands, and wait for it to exit.

2008-07-15	Joel Sherrill <joel.sherrill@oarcorp.com>

	* rtems/include/rtems.h, sapi/Makefile.am: Add simple helper to get
	RTEMS version string.
	* sapi/src/getversionstring.c: New file.

2008-07-10     Peter Rasmussen <Peter.Rasmussen@embedded-brains.de>

	* score/cpu/m68k/cpu_asm.S, cpukit/score/cpu/m68k/rtems/asm.h, 
	cpukit/score/cpu/m68k/rtems/score/cpu.h, 
	score/cpu/m68k/rtems/score/m68k.h:

	added support to save coldfire FPU/EMAC context

2008-07-10     Thomas Doerfler <Thomas.Doerfler@embedded-brains.de>

	* libi2c/libi2c.c, libi2c/libi2c.h:
	make buffer passed to *write* functions a const pointer


2008-07-10	Till Straumann <strauman@slac.stanford.edu>

	* cpukit/score/cpu/powerpc/rtems/new-exceptions/cpu.h,
	cpukit/score/cpu/powerpc/rtems/score/cpu.h,
	cpukit/score/cpu/powerpc/rtems/score/powerpc.h:
	Removed all macro definitions which depended on
	the compiler defining a PPC CPU-model dependent
	symbol.
	Macros which were not used by cpukit have been
	moved to libcpu/powerpc/rtems/powerpc/powerpc.h.
	
2008-07-10	Joel Sherrill <joel.sherrill@OARcorp.com>

	* include/rtems/status-checks.h: Fix style.

2008-07-10	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* rtems/include/rtems/rtems/intr.h: Documentation.

	* cpukit/include/rtems/irq-extension.h: Extension of the RTEMS
	Interrupt Manager (shared handler and handler with a handle).


2008-07-09	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* cpukit/include/rtems/status-checks.h: Macros for status code and
	return value checks.

	* cpukit/libmisc/shell/shell.c: Restore terminal settings on exit.

	* cpukit/libfs/src/dosfs/msdos_dir.c,
	cpukit/libfs/src/dosfs/msdos_file.c: Added S_IRWXU, S_IRWXG and S_IRWXO
	to file mode.

	* cpukit/libi2c/libi2c.h, cpukit/libi2c/libi2c.c: Modified error
	messages.  Driver operations table is now constant.  New entry in the
	rtems_libi2c_tfr_mode_t structure: idle_char. This character will be
	continuously transmitted in read only functions.

2008-07-03	Chris Johns <chrisj@rtems.org>

	* cpukit/libcsupport/include/chain.h: Removed. Use the SAPI
	interface that is supported.

	* cpukit/libcsupport/Makefile.am,
	cpukit/libcsupport/preinstall.am: Remove chain.h header
	references.

	* cpukit/sapi/include/rtems/chain.h,
	cpukit/sapi/inline/rtems/chain.inl: New. A supported chains
	interface.

	* cpukit/sapi/Makefile.am, cpukit/sapi/preinstall.am: Updated to
	include the new chains interface.

	* cpukit/libfs/src/imfs/imfs.h,
	cpukit/libfs/src/imfs/imfs_creat.c,
	cpukit/libfs/src/imfs/imfs_debug.c,
	cpukit/libfs/src/imfs/imfs_directory.c,
	cpukit/libfs/src/imfs/imfs_fsunmount.c,
	cpukit/libfs/src/imfs/imfs_getchild.c,
	cpukit/libfs/src/imfs/imfs_load_tar.c,
	cpukit/libfs/src/imfs/imfs_rmnod.c,
	cpukit/libfs/src/imfs/memfile.c,
	cpukit/libfs/src/nfsclient/src/nfs.c,
	cpukit/libcsupport/include/rtems/libio.h,
	cpukit/libcsupport/src/malloc_deferred.c,
	cpukit/libcsupport/src/mount.c,
	cpukit/libcsupport/src/privateenv.c,
	cpukit/libcsupport/src/unmount.c: Change to the new chains
	interface.

	* cpukit/libcsupport/src/malloc_boundary.c: Remove warning.

2008-07-02 	Ralf Corsépius <ralf.corsepius@rtems.org>

	* score/include/rtems/score/thread.h,
	score/src/threaddispatch.c, score/src/threadinitialize.c:
	Support rtems_ada_self iff __RTEMS_ADA__ is given.

2008-07-02	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/shell/shell_script.c: Remove unused function.

2008-07-02 	Ralf Corsépius <ralf.corsepius@rtems.org>

	* configure.ac: Add __RTEMS_ADA__.

2008-07-02	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libnetworking/Makefile.am, libnetworking/libc/gethostnamadr.c,
	libnetworking/libc/getservbyname.c,
	libnetworking/libc/getservbyport.c: Add initial versions of
	getservbyport_r(), gethostbyaddr_r(), and getservbyport_r(). At this
	point they are just simple weappers for the version without the _r in
	the name.

2008-07-01	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/monitor/mon-prmisc.c, rtems/include/rtems/rtems/attr.h:
	Review association tables in monitor.

2008-06-30 	Ralf Corsépius <ralf.corsepius@rtems.org>

	* configure.ac, rtems/src/semtranslatereturncode.c,
	score/include/rtems/score/coremutex.h,
	score/include/rtems/score/thread.h,
	score/inline/rtems/score/coremutex.inl,
	score/src/coremutex.c, score/src/coremutexsurrender.c,
	score/src/threadinitialize.c:
	Rename __STRICT_ORDER_MUTEX__ to __RTEMS_STRICT_ORDER_MUTEX__.

2008-06-30 	Ralf Corsépius <ralf.corsepius@rtems.org>

	* configure.ac: Add AM_CONDITIONAL(LIBGNAT).
	* libgnat/Makefile.am: Use LIBGNAT.
	* wrapup/Makefile.am: Use LIBGNAT.

2008-06-30 	Ralf Corsépius <ralf.corsepius@rtems.org>

	* acinclude.m4: Add magic to update cpuopt.h.
	* configure.ac: Remove magic to update cpuopt.h.

2008-06-30 	Ralf Corsépius <ralf.corsepius@rtems.org>

	* acinclude.m4: Add _RTEMS_CPUOPT_INIT, _RTEMS_CPUOPT_FINI.
	* configure.ac: Apply _RTEMS_CPU_INIT, _RTEMS_CPUOPT_FINI.
	Cleanup mal-formated RTEMS_CPUOPT's.

2008-06-30 	Ralf Corsépius <ralf.corsepius@rtems.org>

	* aclocal/rtems-top.m4: Require AC_DISABLE_OPTION_CHECKING.
	AC_PREREQ(2.62).

2008-06-19	Matthew Riek <matthew.riek@ibiscomputer.com.au>

	* sapi/include/confdefs.h: Use the PRIORITY_DEFAULT_MAXIMUM rather
	than a number.

2008-06-17	Joel Sherrill <joel.sherrill@oarcorp.com>

	* sapi/include/confdefs.h: When you disabled newlib reentrancy, it
	still reserved memory for the reentrancy structure. This is about 1K
	per task. On psim, we now reserve only 1936 bytes and only 240 remain
	after all allocations. Further analysis will be required to narrow
	that down. In addition, the new constant CONFIGURE_CONFDEFS_DEBUG can
	be defined and the structure named Configuration_Memory_Debug will be
	instantiated. This structure contains many of the component values
	that go into the memory reservation computation. This is helpful when
	tracking down problems.

2008-06-17	Joel Sherrill <joel.sherrill@oarcorp.com>

	* sapi/include/confdefs.h: The math in the _Configure_Object_RAM macro
	was always adding heap overhead even when the number of objects
	configured was zero and we would not do an allocation. This resulted
	in an over estimation of the amount of Workspace required (~2K on
	minimum.exe on PowerPC).

2008-06-17	Chris Johns <chrisj@rtems.org>

	* cpukit/sapi/include/confdefs.h: Add missing quote to string to
	remove warning.
	
	* cpukit/score/cpu/m68k/rtems/score/m68k.h: Add the default
	priority level for large memory Coldfires.

2008-06-16	Joel Sherrill <joel.sherrill@oarcorp.com>

	* rtems/include/rtems/rtems/config.h,
	rtems/include/rtems/rtems/tasks.h, rtems/src/taskgetnote.c,
	rtems/src/tasks.c, rtems/src/tasksetnote.c, sapi/include/confdefs.h:
	Add CONFIGURE_DISABLE_CLASSIC_API_NOTEPADS.

2008-06-13	Joel Sherrill <joel.sherrill@oarcorp.com>

	* sapi/include/confdefs.h, score/include/rtems/score/priority.h: Add
	CONFIGURE_IDLE_TASK_INITIALIZES_APPLICATION and
	CONFIGURE_MAXIMUM_PRIORITY.

2008-06-13	Joel Sherrill <joel.sherrill@oarcorp.com>

	* posix/include/rtems/posix/pthread.h, posix/src/pthread.c,
	posix/src/pthreadcreate.c, rtems/include/rtems.h, rtems/src/attr.c,
	sapi/include/confdefs.h, sapi/include/rtems/config.h,
	score/inline/rtems/score/stack.inl, score/src/isr.c,
	score/src/mpci.c, score/src/threadcreateidle.c,
	score/src/threadinitialize.c, score/src/threadstackallocate.c: Add
	ability for application to configure minimum stack size. Add
	RTEMS_CONFIGURED_MINIMUM_STACK_SIZE constant so user can clearly
	indicate they want the configured as opposed to the recommended
	minimum stack size.

2008-06-10	Chris Johns <chrisj@rtems.org>

	* score/include/rtems/score/priority.h: Let the CPU define the
	maximum and minimum priority levels to reduce the amount of memory
	thread chains use.

2008-06-06	Joel Sherrill <joel.sherrill@oarcorp.com>

	* rtems/include/rtems.h, rtems/include/rtems/rtems/clock.h,
	rtems/include/rtems/rtems/config.h,
	rtems/include/rtems/rtems/dpmem.h,
	rtems/include/rtems/rtems/eventset.h,
	rtems/include/rtems/rtems/object.h, rtems/include/rtems/rtems/part.h,
	rtems/include/rtems/rtems/ratemon.h,
	rtems/include/rtems/rtems/region.h, rtems/include/rtems/rtems/sem.h,
	rtems/include/rtems/rtems/tasks.h, rtems/include/rtems/rtems/timer.h,
	rtems/include/rtems/rtems/types.h, rtems/src/ratemonperiod.c: Improve
	Classic API Doxygen.

2008-06-06	Joel Sherrill <joel.sherrill@OARcorp.com>

	* rtems/include/rtems/rtems/ratemon.h, rtems/src/ratemonperiod.c,
	score/include/rtems/score/thread.h: Complete previous patch. Add
	typedef for cpu usage statistics.

2008-06-06	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libcsupport/src/__times.c, libmisc/cpuuse/cpuusagereport.c,
	libmisc/cpuuse/cpuusagereset.c, libmisc/monitor/mon-task.c,
	rtems/include/rtems/rtems/ratemon.h, rtems/src/ratemongetstatus.c,
	rtems/src/ratemonperiod.c, score/include/rtems/score/thread.h,
	score/src/threaddispatch.c, score/src/threadinitialize.c,
	score/src/threadtickletimeslice.c: Add typedefs for cpu usage and
	period timing statistics. Also renamed related variables and
	structure members so they are the same whether you are using
	nanosecond (e.g. struct timespec) or ticks (e.g. uint32_t)
	granularity. This lays the groundwork for future cleanup.

2008-06-05	Joel Sherrill <joel.sherrill@OARcorp.com>

	* sapi/include/confdefs.h: Rework to be more accurate on allocation. In
	particular, there was a report from that Matthew Riek that memory was
	being reserved twice for the IDLE task. This was covering up other
	places that under allocated memory. Before I was done, I had reworked
	the file to be easier to read, maintain and be more accurate.

2008-06-05	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/include/rtems/score/isr.h, score/src/isr.c: Use
	CPU_SIMPLE_VECTORED_INTERRUPTS porting parameter to avoid allocating
	memory for vector table.

2008-06-05	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/src/wkspace.c: Fix error in comment.

2008-06-05	Joel Sherrill <joel.sherrill@OARcorp.com>

	* posix/src/psignal.c: Do not allocate any memory for queued signals if
	the configuration parameter is 0. Before we would end up with an
	allocation of 0 which rounded up and wasted some memory when POSIX
	was configured.

2008-06-05	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libcsupport/src/newlibc_exit.c: Only run the fini section on exit if
	the target toolset uses init/fini sections.

2008-06-05	Joel Sherrill <joel.sherrill@OARcorp.com>

	* itron/include/rtems/itron/task.h, itron/src/task.c: ITRON currently
	has no functional data in the user extension data area structure so
	this disables the definition, allocation and deallocation of that
	structure. If we ever have to add data to it, then it will be easy to
	reenable.

2008-06-04	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/src/objectgetinfo.c, score/src/objectidtoname.c,
	score/src/threadget.c: Make sure the pointer to the API object table
	is valid before derefencing it.

2008-06-02	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/include/rtems/score/interr.h, score/src/interr.c: Convention
	calls for leading underscore on private RTEMS variables.

2008-05-31	Ralf Corsépius <ralf.corsepius@rtems.org>

	* score/include/rtems/score/object.h, 
	score/include/rtems/score/watchdog.h: Move #include's out of 
	extern "C" {}.

2008-05-30	Till Straumann <strauman@slac.stanford.edu>

	* libfs/src/nfsclient/src/nfs.c:BUGFIX: must not attempt to
	release node if rtems_filesystem_evaluate_path() fails
	in nfs_eval_link() since pathloc contains no valid node.

2008-05-27	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/shell/shell_getchar.c: Minor change so dropping connection
	while at prompt results in shell logging out and connection still
	being available.

2008-05-27	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/src/newlibc_exit.c, score/src/threadhandler.c: Call
	fini() as part of exit(). This avoids atexit() being a required
	function.

2008-05-27	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/shell/shell.c: Minor change so dropping connection during
	login prompt results in connection still being available.


2008-05-27	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* score/include/rtems/score/object.h,
	rtems/include/rtems/rtems/types.h: Added new defines OBJECTS_ID_NONE
	and RTEMS_ID_NONE.  No object can have this ID.

2008-05-27	Sebastian Huber <Sebastian.Huber@embedded-brains.de>

	* include/rtems/fs.h, libblock/include/rtems/diskdevs.h,
	libblock/src/diskdevs.c, libcsupport/include/rtems/libio.h,
	libcsupport/src/base_fs.c, libcsupport/src/error.c,
	libcsupport/src/libio.c, libcsupport/src/mount.c, libfs/src/dosfs/fat.c,
	libfs/src/dosfs/msdos.h, libfs/src/dosfs/msdos_handlers_dir.c,
	libfs/src/dosfs/msdos_handlers_file.c, libfs/src/dosfs/msdos_init.c,
	libfs/src/dosfs/msdos_initsupp.c, libfs/src/imfs/deviceio.c,
	libfs/src/imfs/imfs.h, libfs/src/imfs/imfs_config.c,
	libfs/src/imfs/imfs_creat.c, libfs/src/imfs/imfs_getchild.c,
	libfs/src/imfs/imfs_handlers_device.c,
	libfs/src/imfs/imfs_handlers_directory.c,
	libfs/src/imfs/imfs_handlers_link.c,
	libfs/src/imfs/imfs_handlers_memfile.c, libfs/src/imfs/imfs_init.c,
	libfs/src/imfs/imfs_initsupp.c, libfs/src/imfs/imfs_symlink.c,
	libfs/src/imfs/imfs_unixstub.c, libfs/src/imfs/miniimfs_init.c,
	posix/include/rtems/posix/psignal.h, posix/src/psignal.c,
	rtems/include/rtems/rtems/status.h, rtems/src/semtranslatereturncode.c,
	sapi/include/confdefs.h, sapi/include/rtems/io.h,
	sapi/src/ioregisterdriver.c, sapi/src/itronapi.c, sapi/src/posixapi.c:
	Added const qualifier to various pointers and data tables to
	reduce size of data area.
	IMFS: Fixed creation of symbolic links to avoid a compiler warning.
	DOSFS: Use LibBlock instead of read() to read the boot record.
	
2008-05-27	Sebastian Huber <Sebastian.Huber@embedded-brains.de>

	* libcsupport/include/console.h: New define: CONSOLE_DEVICE_NAME.

2008-05-27	Sebastian Huber <Sebastian.Huber@embedded-brains.de>

	* libcsupport/src/printk.c:
	Bugfix: String output without width option.

2008-05-27	Sebastian Huber <Sebastian.Huber@embedded-brains.de>

	* libnetworking/net/if_ppp.c, libnetworking/net/if_pppvar.h:
	Bugfix: Moved definition of ppp_softc into source file.

2008-05-23	Till Straumann <strauman@slac.stanford.edu>

	* libnetworking/netinet/ip_output.c: when fragmenting
	multicast packets M_MCAST must be set on all fragments.
	This was fixed in FreeBSD ip_output.c 1.82 on 1998/8/23 !
	(see my email to rtems-users from 2008/5/15).

2008-05-22	Joel Sherrill <joel.sherrill@oarcorp.com>

	* itron/include/rtems/itron/task.h, itron/src/del_tsk.c,
	itron/src/exd_tsk.c, itron/src/task.c,
	posix/include/rtems/posix/threadsup.h, posix/src/cancel.c,
	posix/src/cancelrun.c, posix/src/pthread.c, posix/src/pthreadexit.c,
	posix/src/setcancelstate.c, posix/src/setcanceltype.c,
	posix/src/testcancel.c, rtems/src/taskdelete.c,
	score/inline/rtems/score/object.inl, score/src/objectclose.c,
	score/src/threadclose.c: Make all task delete/exit/cancel routines
	follow the same critical section pattern. Also ensure that POSIX
	cancelation routines are run at thread exit.

2008-05-22	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/src/termios_baud2index.c,
	libcsupport/src/termios_baud2num.c,
	libcsupport/src/termios_num2baud.c,
	libcsupport/src/termios_setinitialbaud.c: New files.

2008-05-22	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/Makefile.am, libcsupport/preinstall.am,
	libcsupport/include/rtems/termiostypes.h: Move termios helper
	routines from libchip to libcsupport. Add routine which makes it easy
	for a termios device driver to inform termios of its default baud
	rate. This avoids inconsistencies in later termios settings changes.

2008-05-22	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libcsupport/include/rtems/watchdogdrv.h: Finish writing comments.

2008-05-22	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libcsupport/preinstall.am, sapi/include/confdefs.h: Add baseline
	interface for Watchdog Driver.
	* libcsupport/include/rtems/watchdogdrv.h: New file.

2008-05-16	Till Straumann <strauman@slac.stanford.edu>

	* score/src/threadchangepriority.c: Just in case the transient
	state was set when we entered, ensure that it is still set when
	we exit.
	* score/src/threadclose.c: When a thread is being deleted, it should
	go into the dormant state -- not the transient state.

2008-05-15	Thomas Doerfler <Thomas.Doerfler@embedded-brains.de>

	* libi2c/libi2c.h, libi2c/libi2c.h: added interface to query
	driver private data

2008-05-13	Eric Norum: <norume@aps.anl.gov>

	* cpukit/libcsupport/src/mallocinfo.c: Add locks around non-atomic
	structure assignment.

2008-05-13	Robert S. Grimes <rsg@alum.mit.edu>

	* libi2c/libi2c.h: Fix typo.

2008-05-13	Joel Sherrill <joel.sherrill@oarcorp.com>

	* pppd/example/system.h: Fix path in example -- NOT COMPILED WITH
	CPUKIT.

2008-05-12	Joel Sherrill <joel.sherrill@OARcorp.com>

	* sapi/include/rtems/init.h, sapi/src/exinit.c: Refactored and renamed
	initialization routines to rtems_initialize_data_structures,
	rtems_initialize_before_drivers, rtems_initialize_device_drivers, and
	rtems_initialize_start_multitasking. This opened the sequence up so
	that bootcard() could provide a more robust and flexible framework
	which is easier to explain and understand. This also lays the
	groundwork for sharing the division of available memory between the
	RTEMS workspace and heap and the C library initialization across all
	BSPs.

2008-05-06	Joel Sherrill <joel.sherrill@oarcorp.com>

	* sapi/src/exinit.c, score/src/threadstartmultitasking.c: Improve
	comments.

2008-05-06	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/src/objectget.c: Improve comments and readability.

2008-05-06	Joel Sherrill <joel.sherrill@OARcorp.com>

	* rtems/include/rtems/rtems/message.h, sapi/include/confdefs.h,
	score/src/coresemseize.c, score/src/threadhandler.c: Comment
	improvements from class.

2008-05-06	Joel Sherrill <joel.sherrill@oarcorp.com>

	PR 1285/rtems
	* sapi/include/rtems/config.h: Remove obsolete
	rtems_configuration_get_maximum_devices().

2008-05-01	Chris Johns <chrisj@rtems.org>

	* libblock/include/rtems/nvdisk-sram.h,
	libblock/include/rtems/nvdisk.h,
	libblock/src/nvdisk-sram.c,
	libblock/src/nvdisk.c: New. A Non-volatile memory disk drive.
	* Makefile.am, preinstall.am, libblock/Makefile.am: Updated for
	the NV disk driver.

2008-05-01  Maarten Van Es <maarten@mind.be>

	* libnetworking/rtems/rtems_dhcp.c: Removed panic()s.  Added
	interface for rtems_dhcp_failsafe.
	* libnetworking/rtems/rtems_dhcp.h: Added interface for
	rtems_dhcp_failsafe.

2008-05-01  Arnout Vandecappelle <arnout@mind.be>

	* libnetworking/nfs/bootp_subr: Allow some errors for sosend() and
	return on timeout in bootpc_call().  Removed panic()s.
	* libnetworking/rtems/rtems_glue.c: Fix the cast for the
	SIOCAIFADDR ioctl call.
	* libnetworking/rtems/rtems_dhcp_failsafe.c,
	libnetworking/rtems/rtems_dhcp_failsafe.h: New.
	* libnetworking/Makefile.am, libnetworking/preinstall.am: Added
	rtems_dhcp_failsafe.c and rtems_dhcp_failsafe.h files.

2008-04-30	Joel Sherrill <joel.sherrill@oarcorp.com>

	* rtems/include/rtems/rtems/timer.h: Fix typo.

2008-04-28	Joel Sherrill <joel.sherrill@oarcorp.com>

	* rtems/include/rtems.h, rtems/include/rtems/rtems/ratemon.h,
	rtems/include/rtems/rtems/status.h,
	rtems/include/rtems/rtems/tasks.h, rtems/include/rtems/rtems/timer.h,
	rtems/inline/rtems/rtems/sem.inl: More Doxygen warnings removed.

2008-04-28	Daron Chabot <daron.chabot@usask.ca>

	* posix/src/keycreate.c, posix/src/pthreadequal.c,
	rtems/src/semtranslatereturncode.c,
	score/src/threadblockingoperationcancel.c: Fix compilation errors
	when --enable-rtems-debug is used.

2008-04-25	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/include/rtems/system.h: Fix typo in comment.

2008-04-23	Joel Sherrill <joel.sherrill@OARcorp.com>

	* rtems/include/rtems/rtems/partmp.h, sapi/include/confdefs.h: Fix
	typos added with recent changes.

2008-04-22	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/Makefile.am, libcsupport/include/rtems/libio.h: Remove
	rtems_termios_reserve_resources. It is obsolete.
	* libcsupport/src/termiosreserveresources.c: Removed.

2008-04-18	Joel Sherrill <joel.sherrill@oarcorp.com>

	* rtems/mainpage.h: New file.

2008-04-18	Joel Sherrill <joel.sherrill@oarcorp.com>

	* rtems/Doxyfile, rtems/include/rtems/rtems/asr.h,
	rtems/include/rtems/rtems/attr.h,
	rtems/include/rtems/rtems/barrier.h,
	rtems/include/rtems/rtems/barriermp.h,
	rtems/include/rtems/rtems/cache.h,
	rtems/include/rtems/rtems/config.h,
	rtems/include/rtems/rtems/dpmem.h, rtems/include/rtems/rtems/event.h,
	rtems/include/rtems/rtems/eventmp.h,
	rtems/include/rtems/rtems/eventset.h,
	rtems/include/rtems/rtems/intr.h,
	rtems/include/rtems/rtems/message.h,
	rtems/include/rtems/rtems/modes.h, rtems/include/rtems/rtems/mp.h,
	rtems/include/rtems/rtems/msgmp.h,
	rtems/include/rtems/rtems/options.h,
	rtems/include/rtems/rtems/part.h, rtems/include/rtems/rtems/partmp.h,
	rtems/include/rtems/rtems/ratemon.h,
	rtems/include/rtems/rtems/region.h,
	rtems/include/rtems/rtems/regionmp.h,
	rtems/include/rtems/rtems/rtemsapi.h,
	rtems/include/rtems/rtems/sem.h, rtems/include/rtems/rtems/semmp.h,
	rtems/include/rtems/rtems/signal.h,
	rtems/include/rtems/rtems/signalmp.h,
	rtems/include/rtems/rtems/status.h,
	rtems/include/rtems/rtems/support.h,
	rtems/include/rtems/rtems/taskmp.h,
	rtems/include/rtems/rtems/tasks.h, rtems/include/rtems/rtems/timer.h,
	rtems/include/rtems/rtems/types.h, rtems/inline/rtems/rtems/asr.inl,
	rtems/inline/rtems/rtems/attr.inl,
	rtems/inline/rtems/rtems/barrier.inl,
	rtems/inline/rtems/rtems/dpmem.inl,
	rtems/inline/rtems/rtems/event.inl,
	rtems/inline/rtems/rtems/message.inl,
	rtems/inline/rtems/rtems/modes.inl,
	rtems/inline/rtems/rtems/options.inl,
	rtems/inline/rtems/rtems/part.inl,
	rtems/inline/rtems/rtems/ratemon.inl,
	rtems/inline/rtems/rtems/region.inl,
	rtems/inline/rtems/rtems/sem.inl,
	rtems/inline/rtems/rtems/status.inl,
	rtems/inline/rtems/rtems/support.inl,
	rtems/inline/rtems/rtems/timer.inl: More Doxygen improvements.

2008-04-18	Joel Sherrill <joel.sherrill@oarcorp.com>

	* rtems/include/rtems.h, rtems/include/rtems/rtems/asr.h,
	rtems/include/rtems/rtems/attr.h,
	rtems/include/rtems/rtems/barrier.h,
	rtems/include/rtems/rtems/barriermp.h,
	rtems/include/rtems/rtems/cache.h, rtems/include/rtems/rtems/clock.h,
	rtems/include/rtems/rtems/config.h,
	rtems/include/rtems/rtems/dpmem.h, rtems/include/rtems/rtems/event.h,
	rtems/include/rtems/rtems/eventmp.h,
	rtems/include/rtems/rtems/eventset.h,
	rtems/include/rtems/rtems/intr.h,
	rtems/include/rtems/rtems/message.h,
	rtems/include/rtems/rtems/modes.h, rtems/include/rtems/rtems/mp.h,
	rtems/include/rtems/rtems/msgmp.h,
	rtems/include/rtems/rtems/object.h,
	rtems/include/rtems/rtems/options.h,
	rtems/include/rtems/rtems/part.h, rtems/include/rtems/rtems/partmp.h,
	rtems/include/rtems/rtems/ratemon.h,
	rtems/include/rtems/rtems/region.h,
	rtems/include/rtems/rtems/regionmp.h,
	rtems/include/rtems/rtems/rtemsapi.h,
	rtems/include/rtems/rtems/sem.h, rtems/include/rtems/rtems/semmp.h,
	rtems/include/rtems/rtems/signal.h,
	rtems/include/rtems/rtems/signalmp.h,
	rtems/include/rtems/rtems/status.h,
	rtems/include/rtems/rtems/support.h,
	rtems/include/rtems/rtems/taskmp.h,
	rtems/include/rtems/rtems/tasks.h, rtems/include/rtems/rtems/timer.h,
	rtems/include/rtems/rtems/types.h, rtems/inline/rtems/rtems/asr.inl,
	rtems/inline/rtems/rtems/attr.inl,
	rtems/inline/rtems/rtems/barrier.inl,
	rtems/inline/rtems/rtems/dpmem.inl,
	rtems/inline/rtems/rtems/event.inl,
	rtems/inline/rtems/rtems/eventset.inl,
	rtems/inline/rtems/rtems/message.inl,
	rtems/inline/rtems/rtems/modes.inl,
	rtems/inline/rtems/rtems/options.inl,
	rtems/inline/rtems/rtems/part.inl,
	rtems/inline/rtems/rtems/ratemon.inl,
	rtems/inline/rtems/rtems/region.inl,
	rtems/inline/rtems/rtems/sem.inl,
	rtems/inline/rtems/rtems/status.inl,
	rtems/inline/rtems/rtems/support.inl,
	rtems/inline/rtems/rtems/tasks.inl,
	rtems/inline/rtems/rtems/timer.inl: Initial conversion of Classic API
	header files to Doxygen.
	* rtems/Doxyfile: New file.

2008-04-18	Joel Sherrill <joel.sherrill@oarcorp.com>

	* posix/src/key.c: Include <limits.h>
	* posix/src/psignal.c, rtems/src/tasks.c: Do not attempt to process
	a NULL extension block.

2008-04-17	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/dummy/dummy.c, sapi/include/confdefs.h: Add checks for
	application configuration errors. If any POSIX objects or a POSIX
	init thread is configured without POSIX being configure, then error
	out. Similarly for ITRON. Add
	CONFIGURE_APPLICATION_DOES_NOT_NEED_CLOCK_DRIVER configuration
	parameter so the application has to explicitly configure the Clock
	driver in or out if the Timer driver is not configured. Also verify
	RTEMS was built for multiprocessing, if the user tries to configure a
	multiprocessing application.

2008-04-12	Chris Johns <chrisj@rtems.org>

	* libmisc/shell/shell.c, libmisc/shell/shell.h,
	libmisc/shell/shell_script.c: Add support to echo the commands to
	stdout. This is useful with the -v script option to show commands
	as the run. Also added support to chdir to the directory the task
	invoking the script is in.
	* libmisc/shell/extern-cp.h, libmisc/shell/main_cp.c,
	libmisc/shell/utils-cp.c: Update tro the latest FreeBSD version.
	* libcsupport/Makefile.am, libcsupport/src/fchown.c: Add fchown
	support.

2008-04-09	Madhusudan.C.S <madhusudancs@gmail.com>

	* score/include/rtems/score/tod.h: Fix typo.

2008-04-08	Chris Johns <chrisj@rtems.org>

	* libmisc/shell/shell.c: Copy the cmd line to a buffer to split
	into argv parts. Was using the command line history buffer so the
	history was being corrupted.

2008-04-03	Chris Johns <chrisj@rtems.org>

	* libfs/src/nfsclient/src/librtemsNfs.h,
	libfs/src/nfsclient/src/nfs.c: Remove CEXP references. CEXP is
	external to RTEMS and even if in the cpukit it should not cross
	reference in this way.
	* libmisc/shell/shell_getchar.c: New. Taken from the monitor.
	* libmisc/Makefile.am: Add shell_getchar.c and clean up a little
	in the shell area.
	* libmisc/shell/shell.c, libmisc/shell/shell.h: Add line editting
	support.

2008-03-29	Chris Johns <chrisj@rtems.org>

	* librpc/include/rpc/clnt.h: Added the missing __BEGIN_DECLS as
	reported to the mailing list by Pierre Kestener
	(pierre.kestener@cea.fr).

2008-03-25	Till Straumann <strauman@slac.stanford.edu>

	* shttpd/log.c: Activate SPLIT_SNPRINTF for gcc <= 4.2.3 and
	  coldfire.

2008-03-12	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/shell/cmds.c: Directly register the command structure to
	avoid unnecessary duplication of static strings. We know best this
	time.

2008-03-11	Joel Sherrill <joel.sherrill@OARcorp.com>

	* sapi/include/confdefs.h: Do not reserve 2 * minimum stack size
	for the ITRON initialization tasks ALL the time.
	Do not reserve memory for the object name table since it does not
	exist any longer.
	* sapi/include/rtems/sptables.h: Fix typo.

2008-03-11	Joel Sherrill <joel.sherrill@oarcorp.com>

	* rtems/Makefile.am, rtems/include/rtems/rtems/clock.h,
	rtems/src/clockget.c:
	* rtems/src/clockgetsecondssinceepoch.c,
	rtems/src/clockgettickspersecond.c,
	rtems/src/clockgettickssinceboot.c, rtems/src/clockgettod.c,
	rtems/src/clockgettodtimeval.c: New files.
	Refactored rtems_clock_get into 5 methods which are single purpose
	and more strongly typed.  They are:
	    rtems_clock_get_tod - Get TOD in Classic API structure
	    rtems_clock_get_tod_timeval - Get TOD in struct timeval
	    rtems_clock_get_seconds_since_epoch - Get TOD as seconds since 1988
	    rtems_clock_get_ticks_since_boot - Get ticks since boot
	    rtems_clock_get_ticks_per_second - Get ticks per second

2008-03-07	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/shell/main_cp.c, libmisc/shell/main_netstats.c,
	libmisc/shell/shell_script.c: Add memset() of getopt_data to
	ensure it is zeroed out each time we use getopt_r().
	* libmisc/shell/shell.c: Do not echo commands if input is not a tty.
	This makes the scripts behave more like UNIX scripts.

2008-03-07	Joel Sherrill <joel.sherrill@OARcorp.com>

	* posix/Makefile.am: Make clock_settime() available always just like
	clock_gettime().

2008-03-04	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/include/rtems/score/copyrt.h: Update year.

2008-03-04	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/src/gxx_wrappers.c: Add rtems_gxx_mutex_destroy as needed
	by gcc newer than the 4.3 release series.

2008-03-04	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/Makefile.am, libmisc/shell/main_cp.c,
	libmisc/shell/main_cpuuse.c, libmisc/shell/main_date.c,
	libmisc/shell/main_mallocinfo.c, libmisc/shell/main_netstats.c,
	libmisc/shell/main_perioduse.c, libmisc/shell/main_stackuse.c,
	libmisc/shell/main_wkspaceinfo.c, libmisc/shell/print_heapinfo.c,
	libmisc/shell/shell.c, libmisc/shell/shell.h,
	libmisc/shell/shell_makeargs.c, libmisc/shell/shellconfig.c,
	libmisc/shell/shellconfig.h, libmisc/shell/write_file.c: Add initial
	capability to automatically execute a script from the filesystem. Add
	echo command from NetBSD and sleep command.
	* libmisc/shell/main_echo.c, libmisc/shell/main_sleep.c,
	libmisc/shell/shell_script.c: New files.

2008-02-28	Joel Sherrill <joel.sherrill@oarcorp.com>

	* itron/include/rtems/itron/task.h, itron/src/cre_tsk.c,
	posix/src/pthreadcreate.c, rtems/src/taskcreate.c,
	rtems/src/taskdelete.c, rtems/src/timerserver.c,
	score/src/threadclose.c, score/src/threadcreateidle.c,
	score/src/threadinitialize.c: Switch task create and delete
	operations to using API Allocator Mutex. This moves almost all uses
	of the RTEMS Workspace from dispatching disabled to mutex protected
	which should improve deterministic behavior. The implementation was
	carefully done to allow task create and delete extensions to invoke
	more services. In particular, a task delete extension should be able
	to do mutex and file operations.

2008-02-28	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/Makefile.am: Turn on NFS mount support when networking is
	enabled.

2008-02-28	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/src/chroot.c: Formatting.

2008-02-27	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/shell/cat_file.c, libmisc/shell/main_alias.c,
	libmisc/shell/main_blksync.c, libmisc/shell/main_cat.c,
	libmisc/shell/main_chdir.c, libmisc/shell/main_chmod.c,
	libmisc/shell/main_chroot.c, libmisc/shell/main_cpuuse.c,
	libmisc/shell/main_date.c, libmisc/shell/main_help.c,
	libmisc/shell/main_id.c, libmisc/shell/main_logoff.c,
	libmisc/shell/main_ls.c, libmisc/shell/main_mallocinfo.c,
	libmisc/shell/main_mdump.c, libmisc/shell/main_medit.c,
	libmisc/shell/main_mfill.c, libmisc/shell/main_mkdir.c,
	libmisc/shell/main_mmove.c, libmisc/shell/main_mount.c,
	libmisc/shell/main_mount_nfs.c, libmisc/shell/main_msdosfmt.c,
	libmisc/shell/main_mwdump.c, libmisc/shell/main_perioduse.c,
	libmisc/shell/main_pwd.c, libmisc/shell/main_rm.c,
	libmisc/shell/main_rmdir.c, libmisc/shell/main_stackuse.c,
	libmisc/shell/main_tty.c, libmisc/shell/main_umask.c,
	libmisc/shell/main_unmount.c, libmisc/shell/main_whoami.c,
	libmisc/shell/shell.h: Clean up done while writing documentation.
	Some command improvements such as date now allows setting of the
	current TOD. Often commands did not use stdout/stderr per
	expectations and did not return -1 on an error.

2008-02-26	Joel Sherrill <joel.sherrill@OARcorp.com>

	* configure.ac, libfs/Makefile.am: Add nfsclient to cpukit. Although
	the use of RPC/XDR could be an issue, the code does build multilib
	across all targets. There are a few remaining warnings to deal with.
	* libfs/src/nfsclient/.cvsignore, libfs/src/nfsclient/ChangeLog.slac,
	libfs/src/nfsclient/LICENSE, libfs/src/nfsclient/Makefile.am,
	libfs/src/nfsclient/README, libfs/src/nfsclient/preinstall.am,
	libfs/src/nfsclient/rfc1094.txt,
	libfs/src/nfsclient/proto/mount_prot.h,
	libfs/src/nfsclient/proto/mount_prot.x,
	libfs/src/nfsclient/proto/mount_prot_xdr.c,
	libfs/src/nfsclient/proto/nfs_prot.h,
	libfs/src/nfsclient/proto/nfs_prot.x,
	libfs/src/nfsclient/proto/nfs_prot_xdr.c,
	libfs/src/nfsclient/src/cexphelp.c,
	libfs/src/nfsclient/src/dirutils.c,
	libfs/src/nfsclient/src/librtemsNfs.h, libfs/src/nfsclient/src/nfs.c,
	libfs/src/nfsclient/src/nfs.modini.c,
	libfs/src/nfsclient/src/nfsTest.c, libfs/src/nfsclient/src/rpcio.c,
	libfs/src/nfsclient/src/rpcio.h,
	libfs/src/nfsclient/src/rpcio.modini.c,
	libfs/src/nfsclient/src/sock_mbuf.c,
	libfs/src/nfsclient/src/xdr_mbuf.c: New files.

2008-02-26	Joel Sherrill <joel.sherrill@OARcorp.com>

	* sapi/include/rtems/config.h, sapi/include/rtems/sptables.h: Add
	missing field to default multiprocessing configuration table. Also
	document fields in Doxygen format.

2008-02-26	Joel Sherrill <joel.sherrill@OARcorp.com>

	* rtems/src/regionmp.c, score/src/objectnametoidstring.c: Fix some
	warnings.

2008-02-20	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/Makefile.am, libmisc/shell/shellconfig.h: Add netstats
	command to access statistics reporting functions in TCP/IP stack.
	* libmisc/shell/main_netstats.c: New file.

2008-02-19	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/Makefile.am, libmisc/shell/main_wkspaceinfo.c,
	libmisc/shell/shell.c, libmisc/shell/shellconfig.h: Add route and
	ifconfig commands. The code for these was previously in the
	networking guide. Disable NFS filesystem mount until that code is in
	cpukit.
	* libmisc/shell/main_ifconfig.c, libmisc/shell/main_route.c: New files.

2008-02-16	Ralf Corsépius <ralf.corsepius@rtems.org>

	* posix/preinstall.am,  libcsupport/preinstall.am:
	Revert Joel's  2008-01-31 screw up.

2008-02-15	Ralf Corsépius <ralf.corsepius@rtems.org>

	* posix/include/rtems/posix/timer.h: Add c++ guards.
	* posix/src/cond.c, posix/src/mutex.c, posix/src/pbarrier.c,
	posix/src/prwlock.c, posix/src/pspin.c: Include <limits.h>.
	* libcsupport/include/motorola/mc68230.h: Prefix defines with
	MC68230_ to avoid preprocessor clashes.

2008-02-06	Joel Sherrill <joel.sherrill@oarcorp.com>

	* posix/src/mqueueunlink.c, score/Makefile.am,
	score/include/rtems/score/object.h,
	score/inline/rtems/score/object.inl: Enhance
	_Objects_Namespace_remove() to handle freeing object names which are
	strings. All changed _Objects_Close() to call
	_Objects_Namespace_remove(). The resulting code was then moved from
	inline routines to function calls.
	* score/src/objectclose.c, score/src/objectnamespaceremove.c: New files.

2008-02-06	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/src/printk.c: Added width and padding for %s.
	* libmisc/cpuuse/cpuusagereport.c: Support object names that are
	strings longer than 4 chanracters.

2008-02-06	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1277/networking
	* libnetworking/netinet/in_cksum_i386.h: Use q instead of r in
	constraint for assembly language. This restricts the register choice
	to the a-d registers.

2008-02-05	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libnetworking/kern/uipc_socket2.c,
	libnetworking/netinet/tcp_usrreq.c,
	libnetworking/netinet/udp_usrreq.c,
	libnetworking/rtems/rtems_bsdnet.h, libnetworking/rtems/rtems_glue.c:
	Add configuration parameters for network stack efficiency multiplier
	and default socket buffer sizes. Change default multiplier from 8 to
	2 to match GNU/Linux. This has no impact on performance on the BSPs
	tested.

2008-02-04	Jennifer Averett <jennifer.averett@OARcorp.com>

	* rtems/Makefile.am, rtems/include/rtems/rtems/support.h: Added
	workspace manipulation routines for testing.
	* rtems/src/workspace.c: New file.

2008-02-04	Joel Sherrill <joel.sherrill@oarcorp.com>

	* rtems/src/rtemsobjectsetname.c, score/src/objectgetinfoid.c,
	score/src/objectgetnameasstring.c, score/src/objectidtoname.c: Handle
	Object Id of SELF.

2008-01-31	Joel Sherrill <joel.sherrill@OARcorp.com>

	* posix/src/clockgettime.c, posix/src/clocksettime.c,
	Minor modifications to improve testability.
	* posix/src/pthreadcreate.c: Add NULL check for thread entry.

2008-01-31	Joel Sherrill <joel.sherrill@OARcorp.com>

	* posix/src/pthreadinitthreads.c: Clean up error paths.

2008-01-31	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libcsupport/preinstall.am, posix/preinstall.am: Revert temporary
	changes which aid in coverage testing.

2008-01-31	Joel Sherrill <joel.sherrill@OARcorp.com>

	* posix/src/cond.c, posix/src/key.c, posix/src/mqueuenametoid.c,
	posix/src/mutex.c, posix/src/pbarrier.c, posix/src/prwlock.c,
	posix/src/pspin.c, posix/src/pthread.c, posix/src/ptimer.c,
	posix/src/semaphorenametoid.c: Add option for all POSIX objects
	whether named or unnamed to have a string name.  If the API does
	not directly support having a name, then the user must explicitly
	assign it using rtems_object_set_name().
	* rtems/src/rtemsobjectgetapiclassname.c: Improved testability.
	* score/include/rtems/score/object.h,
	score/src/objectgetnameasstring.c, score/src/objectnametoidstring.c,
	score/src/objectsetname.c: Modifications required to pass testing of
	recently modified object name operations.  Also eliminated
	multiprocessing related code that was not reachable.

2008-01-31	Jennifer Averett <jennifer.averett@OARcorp.com>

	* posix/src/timersettime.c: Fix to remove warning.

2008-01-31	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libcsupport/src/posix_memalign.c: Remove warning.

2008-01-31	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/include/rtems/score/object.h, score/src/objectgetinfo.c,
	rtems/include/rtems/rtems/object.h,
	rtems/src/rtemsobjectgetapiclassname.c,
	rtems/src/rtemsobjectgetclassinfo.c: class is a C++ keyword and
	cannot be used as a parameter.

2008-01-30	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/Makefile.am, score/include/rtems/score/threadq.h,
	score/inline/rtems/score/threadq.inl: _Thread_queue_Process_timeout
	was really too complex to be inlined.
	* score/src/threadqprocesstimeout.c: New file.

2008-01-29	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/Doxyfile: Revert Doxygen version changes.

2008-01-29	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/Doxyfile: Update to latest Doxygen format.
	* score/include/rtems/score/apimutex.h,
	score/include/rtems/score/corebarrier.h,
	score/include/rtems/score/coremutex.h,
	score/include/rtems/score/corerwlock.h,
	score/include/rtems/score/heap.h, score/include/rtems/score/object.h,
	score/include/rtems/score/protectedheap.h,
	score/include/rtems/score/thread.h,
	score/include/rtems/score/threadsync.h,
	score/include/rtems/score/tod.h,
	score/inline/rtems/score/corerwlock.inl,
	score/inline/rtems/score/corespinlock.inl: Remove most doxygen
	warnings.

2008-01-29	Joel Sherrill <joel.sherrill@OARcorp.com>

	* rtems/src/rtemsobjectgetapiclassname.c: Class name strings are not
	available when API is disabled. Do not attempt to use them.

2008-01-29	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/include/rtems/system.h: First cut at Doxygen mainpage.

2008-01-29	Joel Sherrill <joel.sherrill@oarcorp.com>

	* itron/src/exd_tsk.c, itron/src/task.c, libmisc/capture/capture.c,
	libmisc/monitor/mon-config.c, libmisc/monitor/mon-driver.c,
	libmisc/monitor/mon-itask.c, libmisc/monitor/mon-monitor.c,
	libmisc/monitor/mon-mpci.c, libmisc/monitor/mon-object.c,
	libmisc/monitor/mon-symbols.c, posix/src/cancelrun.c,
	posix/src/pthreadexit.c, rtems/Makefile.am, rtems/preinstall.am,
	rtems/include/rtems.h, rtems/include/rtems/rtems/support.h,
	rtems/inline/rtems/rtems/tasks.inl, rtems/src/eventmp.c,
	rtems/src/msgmp.c, rtems/src/partmp.c, rtems/src/regionmp.c,
	rtems/src/rtemsobjectgetname.c, rtems/src/semmp.c,
	rtems/src/signalmp.c, rtems/src/taskdelete.c, rtems/src/taskmp.c,
	rtems/src/timerserver.c, score/Makefile.am,
	score/include/rtems/score/object.h,
	score/inline/rtems/score/object.inl, score/src/Unlimited.txt,
	score/src/objectgetnameasstring.c,
	score/src/threadqextractwithproxy.c: Add new Object Services
	collection. This changed the name of a few previously public but
	undocumented services and added a some new services.
	* rtems/include/rtems/rtems/object.h, rtems/src/rtemsbuildid.c,
	rtems/src/rtemsbuildname.c, rtems/src/rtemsobjectapimaximumclass.c,
	rtems/src/rtemsobjectapiminimumclass.c,
	rtems/src/rtemsobjectgetapiclassname.c,
	rtems/src/rtemsobjectgetapiname.c,
	rtems/src/rtemsobjectgetclassicname.c,
	rtems/src/rtemsobjectgetclassinfo.c,
	rtems/src/rtemsobjectidapimaximum.c,
	rtems/src/rtemsobjectidapiminimum.c, rtems/src/rtemsobjectidgetapi.c,
	rtems/src/rtemsobjectidgetclass.c, rtems/src/rtemsobjectidgetindex.c,
	rtems/src/rtemsobjectidgetnode.c, rtems/src/rtemsobjectsetname.c,
	score/src/objectapimaximumclass.c, score/src/objectgetinfo.c,
	score/src/objectgetinfoid.c, score/src/objectsetname.c: New files.
	* rtems/src/rtemsidtoname.c: Removed.

2008-01-29	Jennifer Averett <jennifer.averett@OARcorp.com>

	* score/src/corerwlockrelease.c, score/src/coresemseize.c: Changed
	switch statements to if statements.

2008-01-29	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libcsupport/Makefile.am, libcsupport/include/rtems/malloc.h,
	libcsupport/src/malloc_walk.c, libcsupport/src/posix_memalign.c,
	libcsupport/src/realloc.c, score/src/heapwalk.c: Add rtems_memalign
	as helper and as exposed nmemalign variant with few restrictions.
	Also turn on compilation of _Heap_Walk but make forced calls to it
	conditionally compiled. This should allow more flexibility to the
	user as to run-time checking of the heap.
	* libcsupport/src/rtems_memalign.c: New file.

2008-01-28	Joel Sherrill <joel.sherrill@OARcorp.com>

	* sapi/include/confdefs.h, score/src/mpci.c, score/src/objectmp.c,
	score/src/objectnametoid.c, score/src/objectnametoidstring.c:
	Multiprocessing compiles again and survives initialization. The
	recent object name and confdefs.h changes had broken it.

2008-01-25	Jennifer Averett <jennifer.averett@OARcorp.com>

	* sapi/include/rtems/fatal.h, score/include/rtems/score/coremutex.h,
	score/include/rtems/score/interr.h,
	score/inline/rtems/score/thread.inl, score/src/coremutexseize.c:
	Modifications to aid in full path testing.

2008-01-25	Joel Sherrill <joel.sherrill@oarcorp.com>

	* posix/src/mqueuesendsupp.c: Remove warning.

2008-01-24	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/include/rtems/assoc.h: rtems_assoc_ptr_by_local should be
	in public API.

2008-01-24	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/include/rtems/score/object.h,
	score/src/objectextendinformation.c,
	score/src/objectinitializeinformation.c,
	score/src/objectshrinkinformation.c: Eliminate name_table since it is
	not used.

2008-01-23	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/src/objectnametoidstring.c: New file.

2008-01-23	Joel Sherrill <joel.sherrill@oarcorp.com>

	* itron/include/rtems/itron/object.h, itron/src/cre_tsk.c,
	libblock/src/show_bdbuf.c, libmisc/capture/capture-cli.c,
	libmisc/capture/capture.c, libmisc/monitor/mon-manager.c,
	libmisc/stackchk/check.c, posix/src/condinit.c,
	posix/src/keycreate.c, posix/src/mqueuecreatesupp.c,
	posix/src/mqueuedeletesupp.c, posix/src/mqueuenametoid.c,
	posix/src/mqueueopen.c, posix/src/mqueueunlink.c,
	posix/src/mutexinit.c, posix/src/pbarrierinit.c,
	posix/src/prwlockinit.c, posix/src/pspininit.c,
	posix/src/pthreadcreate.c, posix/src/pthreadexit.c,
	posix/src/semaphorecreatesupp.c, posix/src/semaphorenametoid.c,
	posix/src/timercreate.c, rtems/src/barrierident.c,
	rtems/src/dpmemident.c, rtems/src/msgqident.c, rtems/src/partident.c,
	rtems/src/ratemonident.c, rtems/src/regionident.c,
	rtems/src/semident.c, rtems/src/taskident.c, rtems/src/timerident.c,
	sapi/src/extensionident.c, score/Makefile.am,
	score/include/rtems/score/object.h,
	score/inline/rtems/score/object.inl, score/src/apimutexallocate.c,
	score/src/objectextendinformation.c,
	score/src/objectgetnameasstring.c, score/src/objectmp.c,
	score/src/objectnametoid.c: Convert the Objects_Name type from a
	simple type to a union of an unsigned 32 bit integer and a pointer.
	This should help eliminate weird casts between u32 and pointers in
	various places. The APIs now have to explicitly call _u32 or _string
	versions of helper routines. This should also simplify things and
	eliminate the need for ugly casts in some cases.
	* score/src/objectclearname.c, score/src/objectcomparenameraw.c,
	score/src/objectcomparenamestring.c, score/src/objectcopynameraw.c,
	score/src/objectcopynamestring.c: Removed.

2008-01-23	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/src/threadblockingoperationcancel.c: Clean up.
	* score/src/threadqextract.c: Restructure to eliminate dead code.

2008-01-22	Joel Sherrill <joel.sherrill@OARcorp.com>

	* rtems/src/eventsurrender.c, rtems/src/ratemonperiod.c,
	score/src/threadqdequeue.c, score/src/threadqdequeuefifo.c,
	score/src/threadqdequeuepriority.c: Fix bugs encountered while
	testing and clean up more code.

2008-01-22	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/src/threadqfirst.c: Remove switch.

2008-01-22	Joel Sherrill <joel.sherrill@oarcorp.com>

	* rtems/include/rtems/rtems/event.h,
	rtems/inline/rtems/rtems/eventset.inl, rtems/src/event.c,
	rtems/src/eventseize.c, rtems/src/eventsurrender.c,
	rtems/src/eventtimeout.c, score/Makefile.am, score/preinstall.am,
	score/include/rtems/score/interr.h,
	score/include/rtems/score/thread.h,
	score/include/rtems/score/threadq.h,
	score/include/rtems/score/tqdata.h,
	score/inline/rtems/score/threadq.inl,
	score/inline/rtems/score/tqdata.inl, score/src/threadq.c,
	score/src/threadqdequeue.c, score/src/threadqdequeuefifo.c,
	score/src/threadqdequeuepriority.c, score/src/threadqenqueue.c,
	score/src/threadqenqueuefifo.c, score/src/threadqenqueuepriority.c,
	score/src/threadqextract.c, score/src/threadqextractfifo.c,
	score/src/threadqextractpriority.c,
	score/src/threadqextractwithproxy.c, score/src/threadqfirst.c,
	score/src/threadqfirstfifo.c, score/src/threadqfirstpriority.c,
	score/src/threadqflush.c, score/src/threadqrequeue.c,
	score/src/threadqtimeout.c: Refactor thread queue enqueue and event
	blocking synchronization critical sections. This resulted in three
	copies of essentially the same hard to test critical section code
	becoming the one shared routine _Thread_blocking_operation_Cancel. In
	addition, the thread queue and event code now share a common
	synchronization enumerated type. Along the way, switches were
	reworked to eliminate dead code generated by gcc and comments and
	copyrights were updated.
	* score/include/rtems/score/threadsync.h,
	score/src/threadblockingoperationcancel.c: New files.

2008-01-22	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libi2c/README_libi2c: Correct spelling error.
	* score/src/threadclearstate.c: Improve comment.

2008-01-18	Jennifer Averett <jennifer.averett@OARcorp.com>

	* posix/include/rtems/posix/timer.h, posix/src/cleanuppop.c,
	posix/src/cleanuppush.c, posix/src/mqueueclose.c,
	posix/src/timergettime.c, posix/src/timersettime.c,
	score/include/rtems/score/timespec.h:

2008-01-16	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libmisc/shell/Makefile.am: Don't use make variables.

2008-01-11	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/shell/shell.c: When stdin or stdout is NULL, just use
	existing one.

2008-01-09	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/include/rtems/score/wkspace.h,
	score/inline/rtems/score/wkspace.inl, score/src/wkspace.c: Do not
	inline _Workspace_Free or _Workspace_Allocate since they are not
	always inlined and actually smaller overall as subroutines. They are
	not particularly time critical so inlining is not absolutely
	necessary.

2008-01-09	Joel Sherrill <joel.sherrill@OARcorp.com>

	* posix/Makefile.am, posix/include/rtems/posix/cond.h,
	posix/include/rtems/posix/mutex.h, posix/inline/rtems/posix/cond.inl,
	posix/inline/rtems/posix/mutex.inl: Do not include POSIX Mutex or
	Condition Variable object get helpers because they are more
	complicated than the norm. They can implicitly perform a create. They
	cross the line as being too complex and large to inline since they
	negatively impact size and binary test coverage.
	* posix/src/condget.c, posix/src/mutexget.c: New files.

2008-01-09	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/Makefile.am: Add src/malloc_dirtier.c.
	* libcsupport/include/rtems/malloc.h: Add malloc dirty support.
	* libcsupport/src/malloc_p.h: Correct prototype.

2008-01-09	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/include/rtems/score/coremutex.h,
	score/src/coremutexseizeintr.c: Fix conditional code for inlining
	_CORE_mutex_Seize_interrupt_trylock() and add comments.

2008-01-09	Joel Sherrill <joel.sherrill@oarcorp.com>

	* sapi/include/confdefs.h: Add CONFIGURE_MALLOC_DIRTY.

2008-01-09	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/Makefile.am, libcsupport/include/rtems/malloc.h,
	libcsupport/src/free.c, libcsupport/src/malloc.c,
	libcsupport/src/malloc_deferred.c,
	libcsupport/src/malloc_initialize.c, libcsupport/src/malloc_p.h,
	libcsupport/src/malloc_sbrk_helpers.c,
	libcsupport/src/posix_memalign.c: Place all deferred free code and
	place it in subroutines. Add plugin for dirtying allocated memory to
	assist in debugging. Clean up comments and spacing as needed.
	* libcsupport/src/malloc_dirtier.c: New file.

2008-01-09	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/src/objectgetnoprotection.c: Eliminate duplicate exit path code
	when there is an error.

2008-01-09	Jennifer Averett <jennifer.averett@OARcorp.com>

	* posix/src/keycreate.c, rtems/src/eventseize.c,
	score/include/rtems/score/interr.h: Rearranged source to allow more
	test coverage.

2008-01-09	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libcsupport/src/__assert.c: Clean up and make __assert() call
	__assert_func().

2008-01-09	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/src/__assert.c: Newlib 1.16.0 adds __assert_func(). We
	need to have it also.

2008-01-08	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/Makefile.am: Add malloc_sbrk_helpers.c.
	* libcsupport/include/rtems/malloc.h,
	libcsupport/src/malloc.c, libcsupport/src/malloc_initialize.c,
	libcsupport/src/malloc_p.h,
	libcsupport/src/malloc_statistics_helpers.c: Make sbrk()
	support pluggable and optional.  This eliminates the need for
	heap extend and sbrk in the minimum footprint which is ~2.5K on
	the SPARC.
	* sapi/include/confdefs.h: Add the following configuration points:
	  + CONFIGURE_MALLOC_STATISTICS
	  + CONFIGURE_MALLOC_BSP_SUPPORTS_SBRK
	* libcsupport/src/malloc_sbrk_helpers.c: New file.

2008-01-08	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/Makefile.am: Add missing file.

2008-01-07	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/monitor/mon-manager.c: Style. Eliminate tabs.

2008-01-07	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/Makefile.am: Add new files.
	* libmisc/shell/internal.h: Prototype for rtems_shell_print_heap_info()
	* libmisc/shell/main_mallocinfo.c: Use rtems_shell_print_heap_info().
	* libmisc/shell/shellconfig.h: Add wkspace command.
	* libmisc/shell/main_wkspaceinfo.c,
	libmisc/shell/print_heapinfo.c: New files.

2008-01-07	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/inline/rtems/score/isr.inl: Fix spacing.
	* score/src/apimutexallocate.c: Fix spacing.
	* score/src/coremsgseize.c: Check for message pending instead of
	message pending count to avoid dead code from inlined chain routine.
	It checks if the chain is empty so is redundant to count == 0.

2008-01-07	Joel Sherrill <joel.sherrill@oarcorp.com>

	* rtems/src/eventseize.c, rtems/src/eventtimeout.c: Minor style clean
	up.

2008-01-07	Joel Sherrill <joel.sherrill@oarcorp.com>

	* posix/src/pthreadcreate.c: Add commit.
	* posix/src/pthreadinitthreads.c: Fix line length.

2008-01-07	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/inline/rtems/score/object.inl: Add _Objects_Is_api_valid.

2008-01-07	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/src/threadget.c: Use _Objects_Is_api_valid rather than open
	coding it.

2008-01-05	Chris Johns <chrisj@rtems.org>

	* configure.ac: Fix typo in the strict order mutex CPU OPTs test.
	* libmisc/shell/shell.c: Handle '#' comment characters correctly.
	* libblock/include/rtems/flashdisk.h: Add docmentation about the
	control fields. Add more control fields to handle the flash when
	full.
	* libblock/src/flashdisk.c: Fix the descriptor erase test so it
	detects a descriptor is erased. Add support for unavailable blocks
	the user can configure. Print the used list as a diag. Fix the bug
	when a page is detected as failed and present on more than one
	queue. Add a count to the queues so queue length can be used to
	manage compaction.
	
2008-01-03	Till Straumann <strauman@slac.stanford.edu>

	* score/src/threadhandler.c, sapi/src/exshutdown.c:
	cannot call _fini via atexit() from rtems_shutdown_executive()
	because at the point where rtems_shutdown_executive is called
	the C-library is already dead.
	Instead, register an atexit(_fini) after calling _init().

2007-12-28	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libcsupport/Makefile.am: _rename_r is required by newlib 1.16.0.
	Hopefully this implementation is OK.
	* libcsupport/src/_rename_r.c: New file.

2007-12-22	Chris Johns <chrisj@rtems.org>

	* configure.ac: fixed bug that always enabled strict order
	mutexes.
	* score/inline/rtems/score/coremutex.inl: Fixed coding standard.
	* score/src/coremutex.c: Add the holder's thread to the lock_mutex
	list if the mutex is initialised locked.
	* libnetworking/rtems/rtems_glue.c: Changed semaphore error
	message to show the error is an rtems-net error.
	* libmisc/monitor/mon-network.c: Removed warnings.
	* telnetd/icmds.c: Changed shell_* to rtems_shell_*.
	* score/Makefile.am: Fixed typo that stopped 'make tags' working.
	* libmisc/shell/err.c, libmisc/shell/err.h, libmisc/shell/errx.c,
	libmisc/shell/extern-cp.h, libmisc/shell/fts.c,
	libmisc/shell/fts.h, libmisc/shell/main_cp.c,
	libmisc/shell/utils-cp.c, libmisc/shell/verr.c,
	libmisc/shell/verrx.c, libmisc/shell/vwarn.c,
	libmisc/shell/vwarnx.c, libmisc/shell/warn.c,
	libmisc/shell/warnx.c: New. Ported from BSD.
	* libmisc/shell/shellconfig.h: Add the cp command.
	* libmisc/Makefile.am: Add the new files to the shell.
	* libmisc/shell/shell.c, libmisc/shell/shell.h: Add scripting
	support.
	* libblock/src/flashdisk.c: Fixed disk drive count size setting
	bug.
	
2007-12-21	Xi Yang <hiyangxi@gmail.com>

	* rtems/src/semtranslatereturncode.c: Add support for proper stacking
	of priority inheritance on mutexes as well as enforce proper order of
	release.

2007-12-21	Joel Sherrill <joel.sherrill@OARcorp.com>

	* configure.ac, score/include/rtems/score/coremutex.h,
	score/inline/rtems/score/coremutex.inl: Add the ability to disable
	inlining coremutex seize. This reduces the code size and also
	improves the process of coverage analysis.
	* score/src/coremutexseizeintr.c: New file.

2007-12-21	Xi Yang <hiyangxi@gmail.com>

	* configure.ac, score/include/rtems/score/coremutex.h,
	score/include/rtems/score/thread.h,
	score/inline/rtems/score/coremutex.inl,
	score/src/coremutexsurrender.c, score/src/threadinitialize.c: Add
	support for proper stacking of priority inheritance on mutexes as
	well as enforce proper order of release.

2007-12-21	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1268/cpukit
	* libcsupport/include/rtems/assoc.h: There is no
	rtems_assoc_ptr_by_value method.

2007-12-21	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libcsupport/src/sync.c: Make sync() POSIX-compliant.
	* libcsupport/src/__gettod.c: Make gettimeofday() POSIX-compliant.

2007-12-20	Joel Sherrill <joel.sherrill@OARcorp.com>

	* posix/src/killinfo.c: Clean up and eliminate some dead code paths.

2007-12-20	Joel Sherrill <joel.sherrill@OARcorp.com>

	* posix/include/rtems/posix/timer.h: Include rtems/score/object.h.

2007-12-20	Joel Sherrill <joel.sherrill@oarcorp.com>

	* rtems/Makefile.am, rtems/include/rtems/rtems/tasks.h: Add
	rtems_task_self() directive.
	* rtems/src/taskself.c: New file.

2007-12-20	Jennifer Averett <jennifer.averett@OARcorp.com>

	* posix/Makefile.am, posix/src/kill.c, posix/src/killinfo.c: Split file
	and resolved copyright information.
	* posix/src/kill_r.c: New file.

2007-12-20	Jennifer Averett <jennifer.averett@OARcorp.com>

	* posix/src/ualarm.c: Fixed bug where iteration did not work correctly.

2007-12-19	Joel Sherrill <joel.sherrill@OARcorp.com>

	* sapi/include/confdefs.h: Revert. Requires info not available at
	preprocessing time.

2007-12-19	Joel Sherrill <joel.sherrill@OARcorp.com>

	* sapi/include/confdefs.h: Catch the error when the user lowers the
	maximum number of drivers below the number of statically configured
	ones.

2007-12-19	Joel Sherrill <joel.sherrill@OARcorp.com>

	* sapi/src/extension.c, sapi/src/extensioncreate.c,
	sapi/src/extensiondelete.c, sapi/src/extensionident.c: Extension
	Manager clean up. Update object id switches to new pattern. Catch
	some NULL parameter errors.

2007-12-19	Jennifer Averett <jennifer.averett@OARcorp.com>

	* posix/src/psignalunblockthread.c: Remove source that

2007-12-19	Jennifer Averett <jennifer.averett@OARcorp.com>

	* posix/src/psignalchecksignal.c: Make assert active during debug mode
	only

2007-12-19	Jennifer Averett <jennifer.averett@OARcorp.com>

	* posix/src/psignal.c: Move source around to enable path testing

2007-12-19	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libcsupport/Makefile.am, libcsupport/include/rtems/malloc.h,
	libcsupport/src/free.c, libcsupport/src/malloc.c,
	libcsupport/src/malloc_p.h,
	libcsupport/src/malloc_report_statistics_plugin.c,
	libmisc/shell/shell.c, libmisc/shell/shell.h,
	score/src/objectinitializeinformation.c: Add posix_memalign. Split
	out management of deferred frees to subroutines.
	* libcsupport/src/malloc_deferred.c, libcsupport/src/posix_memalign.c: New files.

2007-12-18	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/Makefile.am, libcsupport/preinstall.am,
	libcsupport/src/malloc.c, libcsupport/src/mallocinfo.c,
	libmisc/Makefile.am, libmisc/shell/main_mallocinfo.c,
	libmisc/shell/shellconfig.h: Split malloc.c into multiple files with
	one function per file. Also split out statistics into a separate file
	which can be plugged in dynamically. Right now, it is always in. I
	suspect that splitting the file removed more code than leaving
	statistics in. I tinkered with malloc information command in the
	shell. I resurrected the malloc arena code as malloc boundary. This
	code is now compiled all the time even though it does not appear to
	work.
	* libcsupport/include/rtems/malloc.h, libcsupport/src/_calloc_r.c,
	libcsupport/src/_free_r.c, libcsupport/src/_malloc_r.c,
	libcsupport/src/_realloc_r.c, libcsupport/src/calloc.c,
	libcsupport/src/free.c, libcsupport/src/malloc_boundary.c,
	libcsupport/src/malloc_get_statistics.c,
	libcsupport/src/malloc_initialize.c, libcsupport/src/malloc_p.h,
	libcsupport/src/malloc_report_statistics.c,
	libcsupport/src/malloc_report_statistics_plugin.c,
	libcsupport/src/malloc_statistics_helpers.c,
	libcsupport/src/malloc_walk.c, libcsupport/src/realloc.c,
	libmisc/shell/main_perioduse.c: New files.

2007-12-17	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/shell/main_alias.c, libmisc/shell/main_blksync.c,
	libmisc/shell/main_cat.c, libmisc/shell/main_cd.c,
	libmisc/shell/main_chdir.c, libmisc/shell/main_chmod.c,
	libmisc/shell/main_chroot.c, libmisc/shell/main_cpuuse.c,
	libmisc/shell/main_date.c, libmisc/shell/main_dir.c,
	libmisc/shell/main_exit.c, libmisc/shell/main_help.c,
	libmisc/shell/main_id.c, libmisc/shell/main_logoff.c,
	libmisc/shell/main_ls.c, libmisc/shell/main_mallocinfo.c,
	libmisc/shell/main_mdump.c, libmisc/shell/main_medit.c,
	libmisc/shell/main_mfill.c, libmisc/shell/main_mkdir.c,
	libmisc/shell/main_mmove.c, libmisc/shell/main_mount.c,
	libmisc/shell/main_mount_ftp.c, libmisc/shell/main_mount_msdos.c,
	libmisc/shell/main_mount_nfs.c, libmisc/shell/main_mount_tftp.c,
	libmisc/shell/main_msdosfmt.c, libmisc/shell/main_mwdump.c,
	libmisc/shell/main_pwd.c, libmisc/shell/main_rm.c,
	libmisc/shell/main_rmdir.c, libmisc/shell/main_stackuse.c,
	libmisc/shell/main_tty.c, libmisc/shell/main_umask.c,
	libmisc/shell/main_unmount.c, libmisc/shell/main_whoami.c,
	libmisc/shell/shell_cmdset.c, libmisc/shell/shellconfig.h: Change
	rtems_Shell_ to rtems_shell_.

2007-12-17	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/Makefile.am, libmisc/shell/shellconfig.h: Add malloc command
	with info and dump as replacement for older command. Fix what looked
	like a typo for mount sub-commands.
	* libmisc/shell/main_mallocinfo.c: New file.
	* libmisc/shell/main_mallocdump.c: Removed.

2007-12-17	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/Makefile.am, libcsupport/src/mallocfreespace.c: Add
	malloc_info() routine.
	* libcsupport/src/mallocinfo.c: New file.

2007-12-17	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/stackchk/check.c: Add print of current stack pointer and
	stack info even if stack checker is not initialized.

2007-12-17	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/src/printk.c: Style.

2007-12-17	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/src/threadqextractwithproxy.c: Conditionalize code that is only
	required in multiprocessing configuration.

2007-12-17	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/src/objectget.c: Revert.

2007-12-17	Joel Sherrill <joel.sherrill@OARcorp.com>

	* posix/src/timergettime.c: Include rtems/score/timespec.h

2007-12-17	Joel Sherrill <joel.sherrill@OARcorp.com>

	* posix/preinstall.am, posix/include/aio.h, posix/include/devctl.h,
	posix/include/mqueue.h, posix/include/sched.h,
	posix/include/semaphore.h, posix/include/rtems/posix/cancel.h,
	posix/include/rtems/posix/priority.h,
	posix/include/rtems/posix/psignal.h,
	posix/include/rtems/posix/threadsup.h,
	posix/include/rtems/posix/timer.h,
	posix/inline/rtems/posix/priority.inl,
	posix/src/barrierattrdestroy.c, posix/src/barrierattrgetpshared.c,
	posix/src/barrierattrinit.c, posix/src/barrierattrsetpshared.c,
	posix/src/cancel.c, posix/src/cancelrun.c, posix/src/cleanuppop.c,
	posix/src/cleanuppush.c, posix/src/cond.c,
	posix/src/condattrdestroy.c, posix/src/condattrgetpshared.c,
	posix/src/condattrinit.c, posix/src/condattrsetpshared.c,
	posix/src/condbroadcast.c, posix/src/conddefaultattributes.c,
	posix/src/conddestroy.c, posix/src/condinit.c,
	posix/src/condsignal.c, posix/src/condsignalsupp.c,
	posix/src/condwait.c, posix/src/condwaitsupp.c, posix/src/key.c,
	posix/src/keycreate.c, posix/src/keydelete.c,
	posix/src/keygetspecific.c, posix/src/keyrundestructors.c,
	posix/src/keysetspecific.c, posix/src/mqueue.c,
	posix/src/mqueueclose.c, posix/src/mqueuecreatesupp.c,
	posix/src/mqueuedeletesupp.c, posix/src/mqueuegetattr.c,
	posix/src/mqueuenametoid.c, posix/src/mqueuenotify.c,
	posix/src/mqueueopen.c, posix/src/mqueuereceive.c,
	posix/src/mqueuerecvsupp.c, posix/src/mqueuesend.c,
	posix/src/mqueuesendsupp.c, posix/src/mqueuesetattr.c,
	posix/src/mqueueunlink.c, posix/src/mutex.c,
	posix/src/mutexattrdestroy.c, posix/src/mutexattrgetprioceiling.c,
	posix/src/mutexattrgetprotocol.c, posix/src/mutexattrgetpshared.c,
	posix/src/mutexattrinit.c, posix/src/mutexattrsetprioceiling.c,
	posix/src/mutexattrsetprotocol.c, posix/src/mutexattrsetpshared.c,
	posix/src/mutexdefaultattributes.c, posix/src/mutexdestroy.c,
	posix/src/mutexgetprioceiling.c, posix/src/mutexlock.c,
	posix/src/mutexlocksupp.c, posix/src/mutexsetprioceiling.c,
	posix/src/mutextrylock.c, posix/src/mutexunlock.c,
	posix/src/psignal.c, posix/src/psignalchecksignal.c,
	posix/src/psignalclearprocesssignals.c,
	posix/src/psignalclearsignals.c,
	posix/src/psignalsetprocesssignals.c,
	posix/src/psignalunblockthread.c, posix/src/ptimer.c,
	posix/src/rwlockattrdestroy.c, posix/src/rwlockattrgetpshared.c,
	posix/src/rwlockattrinit.c, posix/src/rwlockattrsetpshared.c,
	posix/src/semaphore.c, posix/src/semaphoredeletesupp.c,
	posix/src/semaphorenametoid.c, posix/src/semaphorewaitsupp.c,
	posix/src/semclose.c, posix/src/semdestroy.c,
	posix/src/semgetvalue.c, posix/src/seminit.c, posix/src/semopen.c,
	posix/src/sempost.c, posix/src/semtrywait.c, posix/src/semunlink.c,
	posix/src/semwait.c, posix/src/setcancelstate.c,
	posix/src/setcanceltype.c, posix/src/sysconf.c,
	posix/src/testcancel.c: Add missing copyright statements.

2007-12-17	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/mainpage.h: Sweep to make sure grep for COPYRIGHT passes.

2007-12-17	Joel Sherrill <joel.sherrill@OARcorp.com>

	* posix/Makefile.am, posix/preinstall.am,
	posix/include/rtems/posix/timer.h, score/src/objectget.c: Split POSIX
	Timer implementation into multiple files. Add obvious error checks
	for NULL parameters. Attempt to reduce include files.
	* posix/src/timercreate.c, posix/src/timerdelete.c,
	posix/src/timergetoverrun.c, posix/src/timergettime.c,
	posix/src/timerinserthelper.c, posix/src/timersettime.c,
	posix/src/timertsr.c: New files.
	* posix/src/ptimer1.c: Removed.

2007-12-17	Chris Johns <chrisj@rtems.org>

	* libmisc/shell/main_blksync.c, libmisc/shell/main_msdosfmt.c,
	libmisc/shell/main_unmount.c: New.
	* libmisc/Makefile.am, libmisc/shell/shellconfig.h: Add the
	blksync, msdosfmt, and unmount commands.

2007-12-17	Chris Johns <chrisj@rtems.org>

	* libnetworking/rtems/tftp.h: Provide a decl to the TFTP file
	system opts table.
	* libnetworking/rtems/ftpfs.h: Provide a decl to the FTP file
	system opts table.
	* libmisc/Makefile.am: Add the mount command and supporting files.
	* libmisc/preinstall.am: Rebuilt.
	* libmisc/shell/cat_file.c, libmisc/shell/cmds.c,
	libmisc/shell/main_alias.c, libmisc/shell/main_cat.c,
	libmisc/shell/main_cd.c, libmisc/shell/main_chdir.c,
	libmisc/shell/main_chmod.c, libmisc/shell/main_chroot.c,
	libmisc/shell/main_cpuuse.c, libmisc/shell/main_date.c,
	libmisc/shell/main_dir.c, libmisc/shell/main_exit.c,
	libmisc/shell/main_help.c, libmisc/shell/main_id.c,
	libmisc/shell/main_logoff.c, libmisc/shell/main_ls.c,
	libmisc/shell/main_mallocdump.c, libmisc/shell/main_mdump.c,
	libmisc/shell/main_medit.c, libmisc/shell/main_mfill.c,
	libmisc/shell/main_mkdir.c, libmisc/shell/main_mmove.c,
	libmisc/shell/main_mwdump.c, libmisc/shell/main_pwd.c,
	libmisc/shell/main_rm.c, libmisc/shell/main_rmdir.c,
	libmisc/shell/main_stackuse.c, libmisc/shell/main_tty.c,
	libmisc/shell/main_umask.c, libmisc/shell/main_whoami.c,
	libmisc/shell/shell.c, libmisc/shell/shell_cmdset.c,
	libmisc/shell/shell_makeargs.c, libmisc/shell/str2int.c, 
	libmisc/shell/write_file.c: Move all shell_* types, variables and
	functions to rtems_shell_* to avoid namespace clashes with
	applications. The is an RTEMS shell after all.
	* libmisc/shell/shell.h, libmisc/shell/internal.h,
	libmisc/shell/shellconfig.h: Move all shell_* types, variables and
	functions to rtems_shell_* to avoid namespace clashes with
	applications. Add the mount command supporting types.
	* libmisc/shell/main_mount.c, libmisc/shell/main_mount_ftp.c,
	libmisc/shell/main_mount_msdos.c, libmisc/shell/main_mount_nfs.c,
	libmisc/shell/main_mount_tftp.c: New.
	
2007-12-16	Ralf Corsépius <ralf.corsepius@rtems.org>

	* configure.ac: Revert Joel's 2007-06-13 NDEBUG patch.

2007-12-14	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/Makefile.am, libmisc/shell/cat_file.c,
	libmisc/shell/shell_makeargs.c, libmisc/shell/shellconfig.h: Rename
	cmd_XXX.c to main_XXX.c. Add cpuuse and stackuse commands.
	* libmisc/shell/main_alias.c, libmisc/shell/main_cat.c,
	libmisc/shell/main_cd.c, libmisc/shell/main_chdir.c,
	libmisc/shell/main_chmod.c, libmisc/shell/main_chroot.c,
	libmisc/shell/main_cpuuse.c, libmisc/shell/main_date.c,
	libmisc/shell/main_dir.c, libmisc/shell/main_exit.c,
	libmisc/shell/main_help.c, libmisc/shell/main_id.c,
	libmisc/shell/main_logoff.c, libmisc/shell/main_ls.c,
	libmisc/shell/main_mallocdump.c, libmisc/shell/main_mdump.c,
	libmisc/shell/main_medit.c, libmisc/shell/main_mfill.c,
	libmisc/shell/main_mkdir.c, libmisc/shell/main_mmove.c,
	libmisc/shell/main_mwdump.c, libmisc/shell/main_pwd.c,
	libmisc/shell/main_rm.c, libmisc/shell/main_rmdir.c,
	libmisc/shell/main_stackuse.c, libmisc/shell/main_tty.c,
	libmisc/shell/main_umask.c, libmisc/shell/main_whoami.c: New files.
	* libmisc/shell/cmd_alias.c, libmisc/shell/cmd_cat.c,
	libmisc/shell/cmd_cd.c, libmisc/shell/cmd_chdir.c,
	libmisc/shell/cmd_chmod.c, libmisc/shell/cmd_chroot.c,
	libmisc/shell/cmd_date.c, libmisc/shell/cmd_dir.c,
	libmisc/shell/cmd_exit.c, libmisc/shell/cmd_help.c,
	libmisc/shell/cmd_id.c, libmisc/shell/cmd_logoff.c,
	libmisc/shell/cmd_ls.c, libmisc/shell/cmd_mallocdump.c,
	libmisc/shell/cmd_mdump.c, libmisc/shell/cmd_medit.c,
	libmisc/shell/cmd_mfill.c, libmisc/shell/cmd_mkdir.c,
	libmisc/shell/cmd_mmove.c, libmisc/shell/cmd_mwdump.c,
	libmisc/shell/cmd_pwd.c, libmisc/shell/cmd_rm.c,
	libmisc/shell/cmd_rmdir.c, libmisc/shell/cmd_tty.c,
	libmisc/shell/cmd_umask.c, libmisc/shell/cmd_whoami.c: Removed.

2007-12-14	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/Makefile.am: _Thread_Rotate_ready_queue is only used by ITRON
	API.

2007-12-14	Joel Sherrill <joel.sherrill@OARcorp.com>

	* posix/src/sleep.c, posix/src/usleep.c: Add copyright header.
	* rtems/src/ratemonreportstatistics.c, rtems/src/timerserver.c:
	Minor cleanup to improve testability and eliminate dead code.

2007-12-12	Chris Johns <chrisj@rtems.org>

	* libblock/include/rtems/flashdisk.h, libblock/src/flashdisk.c:
	Add RTEMS license details.

2007-12-12	Chris Johns <chrisj@rtems.org>

	* Makefile.am, preinstall.am: Added
	libblock/include/rtems/flashdisk.h to the installed header list.
	* libblock/Makefile.am: Add flashdisk.c to the files to build.
	* libblock/include/rtems/flashdisk.h, libblock/src/flashdisk.c:
	New.

2007-12-13	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libcsupport/preinstall.am, posix/preinstall.am, rtems/Makefile.am,
	rtems/preinstall.am, sapi/Makefile.am, sapi/preinstall.am,
	score/Makefile.am, score/preinstall.am: Revert testing patch.

2007-12-13	Joel Sherrill <joel.sherrill@OARcorp.com>

	* posix/src/sched_rr_get_interval.c: Fix warning.

2007-12-13	Joel Sherrill <joel.sherrill@OARcorp.com>

	* posix/Makefile.am, posix/src/clockgetcpuclockid.c,
	posix/src/clockgetenableattr.c, posix/src/clockgettime.c,
	posix/src/clocksetenableattr.c, posix/src/clocksettime.c,
	posix/src/devctl.c, posix/src/execl.c, posix/src/execle.c,
	posix/src/execlp.c, posix/src/execv.c, posix/src/execve.c,
	posix/src/execvp.c, posix/src/fork.c, posix/src/mutexinit.c,
	posix/src/pthreadatfork.c, posix/src/pthreadgetcpuclockid.c,
	posix/src/pthreadkill.c, posix/src/semaphorecreatesupp.c,
	posix/src/sysconf.c, posix/src/wait.c, posix/src/waitpid.c: Split
	files into one function per file.
	* posix/src/aio_cancel.c, posix/src/aio_error.c, posix/src/aio_fsync.c,
	posix/src/aio_read.c, posix/src/aio_return.c,
	posix/src/aio_suspend.c, posix/src/aio_write.c,
	posix/src/lio_listio.c, posix/src/sched_getparam.c,
	posix/src/sched_getprioritymax.c, posix/src/sched_getprioritymin.c,
	posix/src/sched_getscheduler.c, posix/src/sched_rr_get_interval.c,
	posix/src/sched_setparam.c, posix/src/sched_setscheduler.c,
	posix/src/sched_yield.c: New files.
	* posix/src/aio.c, posix/src/sched.c, posix/src/types.c: Removed.

2007-12-13	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libcsupport/preinstall.am, posix/preinstall.am, posix/src/aio.c,
	posix/src/clockgetcpuclockid.c, posix/src/clockgetenableattr.c,
	posix/src/clockgettime.c, posix/src/clocksetenableattr.c,
	posix/src/clocksettime.c, posix/src/devctl.c,
	posix/src/pthreadcreate.c, posix/src/pthreadgetcpuclockid.c,
	posix/src/types.c, rtems/preinstall.am, sapi/Makefile.am,
	sapi/preinstall.am, score/Makefile.am, score/preinstall.am: Eliminate
	POSIX_NOT_IMPLEMENTED(). Return ENOSYS instead.

2007-12-13	Joel Sherrill <joel.sherrill@OARcorp.com>

	* posix/src/adjtime.c: Clean up and verify against behavior documented
	in GNU/Linux man page provided with Fedora 7.

2007-12-12	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libgnat/Makefile.am, wrapup/Makefile.am: Another attempt at the
	automake variables.

2007-12-12	Joel Sherrill <joel.sherrill@OARcorp.com>

	* rtems/Makefile.am, rtems/include/rtems/rtems/tasks.h,
	rtems/src/tasks.c, rtems/src/taskvariableadd.c,
	rtems/src/taskvariabledelete.c: Add test code for task variables to
	improve coverage.
	* rtems/src/taskvariable_invoke_dtor.c: New file.

2007-12-12	Joel Sherrill <joel.sherrill@oarcorp.com>

	* posix/preinstall.am: Revert debug patch.

2007-12-12	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libmisc/shell/cmd_ls.c: Add include of <sys/stat.h> needed for UNIX
	BSP.

2007-12-12	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libgnat/Makefile.am: Handle POSIX being disabled correctly.

2007-12-12	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/Makefile.am: Only used by ITRON so do not build if ITRON is
	disabled.

2007-12-12	Chris Johns <chrisj@rtems.org>

	* Makefile.am: Added libmisc/shell/shellconfig.h to the installed
	header list.
	* libmisc/shell/shell_cmdset.c: Let the Initial command add occur
	in any order rather than before any commands have been added. Also
	made the command's strings be copies rather than references.
	* sapi/src/ioregisterdriver.c: Return the I/O initialise calls result.

2007-12-11	Joel Sherrill <joel.sherrill@oarcorp.com>

	* Makefile.am, configure.ac, posix/Makefile.am, wrapup/Makefile.am:
	Move Ada support code that is untestable from the Standard RTEMS Test
	Suite into its own directory. All code in score, posix, rtems, and
	sapi should be testable by the Standard RTEMS Test Suites. It was
	buried under POSIX before so this should be a clearer location
	anyway.
	* libgnat/.cvsignore, libgnat/Makefile.am, libgnat/ada_intrsupp.c,
	libgnat/adasupp.c: New files.
	* posix/src/ada_intrsupp.c, posix/src/adasupp.c: Removed.

2007-12-11	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/src/pheapallocatealigned.c, score/src/pheapgetblocksize.c:
	Reverse file contents.

2007-12-11	Joel Sherrill <joel.sherrill@OARcorp.com>

	* sapi/include/rtems/config.h: Correct idle task prototype.

2007-12-11	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/Makefile.am, libmisc/shell/cmd_help.c, libmisc/shell/cmds.c,
	libmisc/shell/internal.h, libmisc/shell/shell.c,
	libmisc/shell/shell.h, libmisc/shell/shellconfig.h: Command set
	processing now separated from main command loop. Addition of user
	commands and aliases tested. Monitor registration now explicit.
	* libmisc/shell/shell_cmdset.c, libmisc/shell/shell_makeargs.c,
	libmisc/shell/write_file.c: New files.

2007-12-11	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/Makefile.am: Fix typo.

2007-12-10	Joel Sherrill <joel.sherrill@oarcorp.com>

	* ChangeLog, preinstall.am, libmisc/Makefile.am, libmisc/shell/cmds.c,
	libmisc/shell/shell.c, libmisc/shell/shell.h: Split shell commands
	into multiple files and add initial stages of command configuration.
	This seems to work but the monitor commands need to be integrated
	this way and the ability to configure user commands needs to be
	tested.
	* libmisc/shell/cat_file.c, libmisc/shell/cmd_alias.c,
	libmisc/shell/cmd_cat.c, libmisc/shell/cmd_cd.c,
	libmisc/shell/cmd_chdir.c, libmisc/shell/cmd_chmod.c,
	libmisc/shell/cmd_chroot.c, libmisc/shell/cmd_date.c,
	libmisc/shell/cmd_dir.c, libmisc/shell/cmd_exit.c,
	libmisc/shell/cmd_help.c, libmisc/shell/cmd_id.c,
	libmisc/shell/cmd_logoff.c, libmisc/shell/cmd_ls.c,
	libmisc/shell/cmd_mallocdump.c, libmisc/shell/cmd_mdump.c,
	libmisc/shell/cmd_medit.c, libmisc/shell/cmd_mfill.c,
	libmisc/shell/cmd_mkdir.c, libmisc/shell/cmd_mmove.c,
	libmisc/shell/cmd_mwdump.c, libmisc/shell/cmd_pwd.c,
	libmisc/shell/cmd_rm.c, libmisc/shell/cmd_rmdir.c,
	libmisc/shell/cmd_tty.c, libmisc/shell/cmd_umask.c,
	libmisc/shell/cmd_whoami.c, libmisc/shell/internal.h,
	libmisc/shell/shellconfig.c, libmisc/shell/shellconfig.h,
	libmisc/shell/str2int.c: New files.

2007-12-10	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/cpu/no_cpu/rtems/score/cpu.h: Fix Doxygen.

2007-12-10	Joel Sherrill <joel.sherrill@oarcorp.com>

	* sapi/include/rtems/config.h: Fix idle thread prototype.

2007-12-07	Joel Sherrill <joel.sherrill@OARcorp.com>

	* sapi/include/confdefs.h: Separate the concept of configuring the
	interrupt stack size from actually reserving memory for it in the
	RTEMS Workspace.

2007-12-06	Joel Sherrill <joel.sherrill@OARcorp.com>

	* httpd/Makefile.am, httpd/preinstall.am: rtems_webserver.h must be
	installed. It is the initialization interface for both GoAhead and
	Simple HTTPD.

2007-12-05	Joel Sherrill <joel.sherrill@oarcorp.com>

	* sapi/include/rtems/config.h: Correct previous commit.

2007-12-05	Joel Sherrill <joel.sherrill@OARcorp.com>

	* sapi/include/rtems/config.h: Commit temporary fix so
	interrupt_stack_size is accessible before RTEMS is initialized.

2007-12-04	Joel Sherrill <joel.sherrill@OARcorp.com>

	* sapi/include/confdefs.h, sapi/include/rtems/config.h,
	sapi/include/rtems/init.h, sapi/src/exinit.c,
	score/include/rtems/system.h, score/src/isr.c: Move
	interrupt_stack_size field from CPU Table to Configuration Table.
	Eliminate CPU Table from all ports. Delete references to CPU Table in
	all forms.

2007-12-04	Joel Sherrill <joel.sherrill@oarcorp.com>

	* sapi/include/rtems/config.h: Add accessory macros for Configuration
	Table fields merged from CPU Table.

2007-12-03	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libcsupport/src/malloc.c, libmisc/monitor/mon-command.c,
	posix/preinstall.am, posix/include/rtems/posix/cond.h,
	posix/include/rtems/posix/mqueue.h,
	posix/include/rtems/posix/mutex.h,
	posix/include/rtems/posix/pthread.h,
	posix/include/rtems/posix/semaphore.h, posix/src/conddestroy.c,
	posix/src/mutexdestroy.c, posix/src/mutexinit.c,
	posix/src/mutexsetprioceiling.c, posix/src/mutexunlock.c,
	sapi/include/confdefs.h, sapi/include/rtems/config.h,
	sapi/include/rtems/init.h, sapi/include/rtems/sptables.h,
	sapi/src/exinit.c, score/include/rtems/system.h,
	score/include/rtems/score/mpci.h, score/src/mpci.c,
	score/src/thread.c, score/src/threadcreateidle.c,
	score/src/threadstackallocate.c, score/src/threadstackfree.c,
	score/src/wkspace.c: Moved most of the remaining CPU Table fields to
	the Configuration Table. This included pretasking_hook,
	predriver_hook, postdriver_hook, idle_task, do_zero_of_workspace,
	extra_mpci_receive_server_stack, stack_allocate_hook, and
	stack_free_hook. As a side-effect of this effort some multiprocessing
	code was made conditional and some style clean up occurred.

2007-12-03	Chris Johns <chrisj@rtems.org>

	* libmisc/shell/shell.h: Added comments for the parameters to the
	shell_init function.
	* libmisc/shell/shell.c: Only set cflags if tcflags is
	non-zero. This means the shell can use the current cflags settings
	and the application does not need to know the baudrate etc.
	* libmisc/capture/capture.h: Fix the comment.

2007-11-30	Joel Sherrill <joel.sherrill@OARcorp.com>

	* rtems/src/barrierdelete.c, rtems/src/barrierrelease.c,
	rtems/src/barriertranslatereturncode.c, rtems/src/barrierwait.c,
	rtems/src/clockget.c, rtems/src/dpmemdelete.c,
	rtems/src/dpmemexternal2internal.c,
	rtems/src/dpmeminternal2external.c, rtems/src/eventsend.c,
	rtems/src/eventtimeout.c, rtems/src/msgqbroadcast.c,
	rtems/src/msgqdelete.c, rtems/src/msgqflush.c,
	rtems/src/msgqgetnumberpending.c, rtems/src/msgqreceive.c,
	rtems/src/msgqsend.c, rtems/src/msgqurgent.c, rtems/src/partdelete.c,
	rtems/src/partgetbuffer.c, rtems/src/partreturnbuffer.c,
	rtems/src/ratemoncancel.c, rtems/src/ratemondelete.c,
	rtems/src/ratemongetstatistics.c, rtems/src/ratemongetstatus.c,
	rtems/src/ratemonperiod.c, rtems/src/ratemonresetstatistics.c,
	rtems/src/ratemontimeout.c, rtems/src/semdelete.c,
	rtems/src/semflush.c, rtems/src/semobtain.c, rtems/src/semrelease.c,
	rtems/src/semtranslatereturncode.c, rtems/src/signalsend.c,
	rtems/src/taskdelete.c, rtems/src/taskgetnote.c,
	rtems/src/taskissuspended.c, rtems/src/taskrestart.c,
	rtems/src/taskresume.c, rtems/src/tasksetnote.c,
	rtems/src/tasksetpriority.c, rtems/src/taskstart.c,
	rtems/src/tasksuspend.c, rtems/src/taskvariableadd.c,
	rtems/src/taskvariabledelete.c, rtems/src/taskvariableget.c,
	rtems/src/timercancel.c, rtems/src/timerdelete.c,
	rtems/src/timerfirewhen.c, rtems/src/timergetinfo.c,
	rtems/src/timerreset.c, rtems/src/timerserverfireafter.c,
	rtems/src/timerserverfirewhen.c: Restructured all code with
	the switch (location) pattern so that OBJECTS_LOCAL is first
	and we can fall into it and the OBJECTS_ERROR case breaks
	to a return RTEMS_INVALID_ID.  This eliminates the return
	RTEMS_INTERNAL_ERROR at the bottom of each of these files which
	was unreachable and untestable code.  This resulted in a code
	savings of approximately 20 bytes per file on the SPARC/ERC32.

2007-11-30	Glenn Humphrey <glenn.humphrey@OARcorp.com>

	* posix/Makefile.am: Restructed to move the
	OBJECTS_LOCAL case to the top of the switch statement and
	eliminate the fall-through return of POSIX_BOTTOM_REACHED.  These
	changes produced simplier assembly code and allowed for complete
	test coverage.  Also applied some consistency to the functions
	that translate the core status codes to POSIX status codes.

2007-11-30	Glenn Humphrey <glenn.humphrey@OARcorp.com>

	* posix/include/rtems/posix/mutex.h,
	posix/include/rtems/posix/semaphore.h, posix/src/cancel.c,
	posix/src/conddestroy.c, posix/src/condsignalsupp.c,
	posix/src/condwaitsupp.c, posix/src/keydelete.c,
	posix/src/keygetspecific.c, posix/src/keysetspecific.c,
	posix/src/mqueueclose.c, posix/src/mqueuegetattr.c,
	posix/src/mqueuenotify.c, posix/src/mqueuerecvsupp.c,
	posix/src/mqueuesendsupp.c, posix/src/mqueuesetattr.c,
	posix/src/mqueuetranslatereturncode.c, posix/src/mutexdestroy.c,
	posix/src/mutexgetprioceiling.c, posix/src/mutexinit.c,
	posix/src/mutexlocksupp.c, posix/src/mutexsetprioceiling.c,
	posix/src/mutexunlock.c, posix/src/pbarrierdestroy.c,
	posix/src/pbarriertranslatereturncode.c, posix/src/pbarrierwait.c,
	posix/src/prwlockdestroy.c, posix/src/prwlockrdlock.c,
	posix/src/prwlocktimedrdlock.c, posix/src/prwlocktimedwrlock.c,
	posix/src/prwlocktranslatereturncode.c, posix/src/prwlocktryrdlock.c,
	posix/src/prwlocktrywrlock.c, posix/src/prwlockunlock.c,
	posix/src/prwlockwrlock.c, posix/src/pspindestroy.c,
	posix/src/pspinlock.c, posix/src/pspinlocktranslatereturncode.c,
	posix/src/pspintrylock.c, posix/src/pspinunlock.c,
	posix/src/pthreaddetach.c, posix/src/pthreadequal.c,
	posix/src/pthreadgetschedparam.c, posix/src/pthreadjoin.c,
	posix/src/pthreadkill.c, posix/src/pthreadsetschedparam.c,
	posix/src/ptimer1.c, posix/src/semaphorewaitsupp.c,
	posix/src/semclose.c, posix/src/semdestroy.c,
	posix/src/semgetvalue.c, posix/src/sempost.c, posix/src/types.c,
	rtems/src/msgqtranslatereturncode.c, rtems/src/semobtain.c,
	rtems/src/timerfireafter.c, score/include/rtems/system.h,
	score/include/rtems/score/corebarrier.h,
	score/include/rtems/score/coremsg.h,
	score/include/rtems/score/coremutex.h,
	score/include/rtems/score/coresem.h: Restructed to move the
	OBJECTS_LOCAL case to the top of the switch statement and
	eliminate the fall-through return of POSIX_BOTTOM_REACHED.  These
	changes produced simplier assembly code and allowed for complete
	test coverage.  Also applied some consistency to the functions
	that translate the core status codes to POSIX status codes.
	* posix/src/mutextranslatereturncode.c,
	posix/src/semaphoretranslatereturncode.c: New files.
	* posix/src/mutexfromcorestatus.c: Removed.

2007-11-30	Joel Sherrill <joel.sherrill@oarcorp.com>

	* posix/inline/rtems/posix/priority.inl: Fix typo.

2007-11-28	Joel Sherrill <joel.sherrill@OARcorp.com>

	* sapi/src/exinit.c, score/include/rtems/score/object.h,
	score/include/rtems/score/thread.h, score/src/object.c,
	score/src/thread.c: Conditionally compile out more code that is
	specific to multiprocessor configurations.

2007-11-28	Joel Sherrill <joel.sherrill@oarcorp.com>

	* posix/Makefile.am, posix/preinstall.am, posix/src/cancel.c,
	posix/src/conddestroy.c, posix/src/condinit.c,
	posix/src/condsignalsupp.c, posix/src/condwaitsupp.c,
	posix/src/mqueueclose.c, posix/src/mqueuecreatesupp.c,
	posix/src/mqueuedeletesupp.c, posix/src/mqueuegetattr.c,
	posix/src/mqueuenotify.c, posix/src/mqueuerecvsupp.c,
	posix/src/mqueuesendsupp.c, posix/src/mqueuesetattr.c,
	posix/src/mqueueunlink.c, posix/src/mutexattrdestroy.c,
	posix/src/mutexattrgetprioceiling.c,
	posix/src/mutexattrgetprotocol.c, posix/src/mutexattrgetpshared.c,
	posix/src/mutexattrinit.c, posix/src/mutexattrsetprioceiling.c,
	posix/src/mutexattrsetprotocol.c, posix/src/mutexattrsetpshared.c,
	posix/src/mutexdefaultattributes.c, posix/src/mutexdestroy.c,
	posix/src/mutexgetprioceiling.c, posix/src/mutexinit.c,
	posix/src/mutexlocksupp.c, posix/src/mutexsetprioceiling.c,
	posix/src/mutexunlock.c, posix/src/semaphorecreatesupp.c,
	posix/src/semaphoredeletesupp.c, posix/src/semaphorewaitsupp.c,
	posix/src/semclose.c, posix/src/semdestroy.c,
	posix/src/semgetvalue.c, posix/src/sempost.c, posix/src/semunlink.c,
	posix/src/types.c, score/cpu/powerpc/rtems/old-exceptions/cpu.h:
	Remove all pretense of POSIX MP support. The support in place was
	only a shell. This should make maintenance easier.
	* posix/include/rtems/posix/condmp.h,
	posix/include/rtems/posix/mqueuemp.h,
	posix/include/rtems/posix/mutexmp.h,
	posix/include/rtems/posix/pthreadmp.h,
	posix/include/rtems/posix/semaphoremp.h, posix/src/condmp.c,
	posix/src/mutexmp.c, posix/src/semaphoremp.c: Removed.

2007-11-27	Joel Sherrill <joel.sherrill@OARcorp.com>

	* configure.ac, score/inline/rtems/score/thread.inl,
	score/src/threaddispatch.c: Add ability for user to disable inlining
	of _Thread_Enable_dispatch. This can save code space but more
	importantly it means the binary generated does not have code inlined
	that is difficult to test and very seldom executed.

2007-11-27	Glenn Humphrey <glenn.humphrey@OARcorp.com>

	* posix/src/prwlocktimedrdlock.c, posix/src/prwlocktimedwrlock.c,
	rtems/include/rtems/rtems/barrier.h,
	score/src/corerwlockobtainread.c, score/src/corerwlockobtainwrite.c,
	score/src/corerwlockrelease.c: Fixed several implementation errors.

2007-11-27	Glenn Humphrey <glenn.humphrey@OARcorp.com>

	* rtems/src/regioncreate.c, rtems/src/regiondelete.c,
	rtems/src/regionextend.c, rtems/src/regiongetfreeinfo.c,
	rtems/src/regiongetinfo.c, rtems/src/regiongetsegment.c,
	rtems/src/regiongetsegmentsize.c, rtems/src/regionresizesegment.c,
	rtems/src/regionreturnsegment.c: Restructed to move the OBJECTS_LOCAL
	case to the top of the switch statement, have a single exit with one
	call to _RTEMS_Unlock_allocator and eliminate the fall-through return
	of RTEMS_INTERNAL_ERROR.  These changes produced simplier assembly
	code and allowed for complete test coverage.

2007-11-27	Joel Sherrill <joel.sherrill@oarcorp.com>

	* sapi/include/confdefs.h,
	score/cpu/powerpc/rtems/old-exceptions/cpu.h: Add
	CONFIGURE_APPLICATION_EXTRA_DRIVERS.

2007-11-27	Joel Sherrill <joel.sherrill@oarcorp.com>

	* sapi/include/confdefs.h: Add CONFIGURE_APPLICATION_EXTRA_DRIVERS.

2007-11-27	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libnetworking/netinet/in_cksum.c: ARM optimized version does not
	support Thumb.

2007-11-26	Joel Sherrill <joel.sherrill@oarcorp.com>

	* telnetd/pty.c, telnetd/telnetd.c, telnetd/telnetd.h: Style clean up.
	Now works on gen5200/icecube.

2007-11-26	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/src/printk.c, score/src/objectget.c: Fix spacing.

2007-11-26	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/src/malloc.c: Do not assert on free of bad pointer.

2007-11-26	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/include/rtems/score/thread.h: Fix spelling error.

2007-11-17	Till Straumann <strauman@slac.stanford.edu>

	* libi2c/libi2c.c, libi2c/libi2c.h, libi2c/README_libi2c:
	Added checks so that use of 'stdio' is avoided (falling
	back to 'printk') before the system is up.
	Publish driver entry points so that the libi2c driver could
	be added to the applications 'device driver table'.
	This is not fully implemented yet, though, since in addition to
	initializing libi2c the low-level i2c bus drivers as well
	as high-level i2c device drivers need to be registered
	with the library.
	Updated README_libi2c accordingly.

2007-11-17	Till Straumann <strauman@slac.stanford.edu>

	* libnetworking/rtems/rtems_glue.c: let rtems_bsdnet_ifconfig
	(SIOCGIFMEDIA) pass the user parameter down to the ioctl 
	so that it knows what PHY they want to look at.

2007-11-09	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/src/apimutexlock.c, score/src/apimutexunlock.c: Functions were
	in opposite files. Whoops!

2007-11-09	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/shell/shell.c, libmisc/shell/shell.h: Much cleanup but much
	of the focus was on the beginning stages of making the login checker
	pluggable just like the shell.

2007-11-09	Joel Sherrill <joel.sherrill@oarcorp.com>

	* posix/src/mprotect.c: Update comments.

2007-11-09	Joel Sherrill <joel.sherrill@oarcorp.com>

	* posix/Makefile.am: Add support for Ada95 interrupt tasks.  This
	will require gcc 4.3 or newer.
	* posix/src/ada_intrsupp.c: New file.

2007-11-09	Joel Sherrill <joel.sherrill@OARcorp.com>

	* sapi/src/exinit.c, score/Makefile.am,
	score/include/rtems/score/apimutex.h: API Mutex calls should never
	have been inlined. Inlining them lead to many inlined copies of core
	mutex lock. This lead to over 2K savings in the SPARC/ERC32
	minimum.exe.
	* score/src/apimutex.c, score/src/apimutexallocate.c,
	score/src/apimutexlock.c, score/src/apimutexunlock.c: New files.

2007-11-07	Till Straumann <strauman@slac.stanford.edu>

	* score/include/rtems/score/isr.h: added RTEMS_COMPILER_MEMORY_BARRIER
	around _CPU_ISR_Set_level().

2007-11-07	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/inline/rtems/score/object.inl: During test coverage analysis,
	we identified this sanity check which should have been conditional on
	RTEMS_DEBUG since it can NOT be tripped during normal RTEMS
	operations. With all APIs enabled, this saved 352 bytes from the
	minimum executable on the SPARC/ERC32.

2007-11-07	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/include/rtems/system.h, score/include/rtems/score/interr.h: Add
	compiler conditional attribute for methods that do not return. This
	avoids gcc generating unreachable code following calls to
	_Internal_error_Occurred.

2007-11-06	Joel Sherrill <joel.sherrill@OARcorp.com>

	* configure.ac: Add ARM/Thumb Makefile.

2007-11-06	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1266/cpukit
	* posix/src/keycreate.c, posix/src/keyrundestructors.c: Use API instead
	of class for key indexing.

2007-11-06	Joel Sherrill <joel.sherrill@OARcorp.com>

	* telnetd/icmds.c, telnetd/pty.c, telnetd/telnetd.c, telnetd/telnetd.h:
	Fix headers and formatting.

2007-11-06	Glenn Humphrey <glenn.humphrey@OARcorp.com>

	Miscellaneous changes made after a review against the POSIX spec.
	* posix/src/pbarrierinit.c, posix/src/prwlockinit.c: If the caller
	passes a NULL in the attributes parameter, default attributes are used.
	* posix/src/prwlockdestroy.c: If there is at least one thread
	waiting, do not allow deletion.
	* posix/src/prwlockwrlock.c: Corrected parameter passed to the core
	operation used to obtain a RWLock for writing.
	* posix/src/pspinlocktranslatereturncode.c,
	score/include/rtems/score/corespinlock.h,
	score/src/corespinlockrelease.c: If the current thread is not the
	holder of the lock, do not allow an unlock and return EPERM.
	* score/src/corerwlockobtainwrite.c: Corrected to use the operation
	for queueing with a timeout handler.

2007-11-02	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/cpu/sparc/cpu.c, score/cpu/sparc/rtems/score/cpu.h,
	score/include/rtems/score/context.h, score/src/threadhandler.c: Fix
	stack so gdb backtrace does not print corrupted frame message after
	_Thread_Handler. Daniel Hellstrom <daniel@gaisler.com> provided the
	SPARC implementation and I made it more general.

2007-10-26	Glenn Humphrey <glenn.humphrey@OARcorp.com>

	* libmisc/cpuuse/cpuusagereport.c, rtems/src/ratemonreportstatistics.c:
	Cleaned up reports and fixed a bug related the printf format which
	resulted in lack of leading zeroes and misleading magnitude.
	* score/src/timespecdivide.c: Fixed bugs related to zero divide case.

2007-10-26	Joel Sherrill <joel.sherrill@OARcorp.com>

	* itron/src/can_wup.c, itron/src/chg_pri.c, itron/src/del_mbf.c,
	itron/src/del_mbx.c, itron/src/del_sem.c, itron/src/del_tsk.c,
	itron/src/frsm_tsk.c, itron/src/ref_mbf.c, itron/src/ref_mbx.c,
	itron/src/ref_sem.c, itron/src/ref_tsk.c, itron/src/rel_wai.c,
	itron/src/rsm_tsk.c, itron/src/sig_sem.c, itron/src/snd_mbx.c,
	itron/src/sta_tsk.c, itron/src/sus_tsk.c, itron/src/ter_tsk.c,
	itron/src/trcv_mbf.c, itron/src/trcv_mbx.c, itron/src/tsnd_mbf.c,
	itron/src/twai_sem.c, posix/src/cancel.c, posix/src/conddestroy.c,
	posix/src/condinit.c, posix/src/condsignalsupp.c,
	posix/src/condwaitsupp.c, posix/src/keydelete.c,
	posix/src/keygetspecific.c, posix/src/keysetspecific.c,
	posix/src/mqueueclose.c, posix/src/mqueuegetattr.c,
	posix/src/mqueuenotify.c, posix/src/mqueuerecvsupp.c,
	posix/src/mqueuesendsupp.c, posix/src/mqueuesetattr.c,
	posix/src/mutexdestroy.c, posix/src/mutexgetprioceiling.c,
	posix/src/mutexinit.c, posix/src/mutexlocksupp.c,
	posix/src/mutexsetprioceiling.c, posix/src/mutexunlock.c,
	posix/src/pbarrierdestroy.c, posix/src/pbarrierwait.c,
	posix/src/prwlockdestroy.c, posix/src/prwlockrdlock.c,
	posix/src/prwlocktimedrdlock.c, posix/src/prwlocktimedwrlock.c,
	posix/src/prwlocktryrdlock.c, posix/src/prwlocktrywrlock.c,
	posix/src/prwlockunlock.c, posix/src/prwlockwrlock.c,
	posix/src/pspindestroy.c, posix/src/pspinlock.c,
	posix/src/pspintrylock.c, posix/src/pspinunlock.c,
	posix/src/pthreaddetach.c, posix/src/pthreadequal.c,
	posix/src/pthreadgetschedparam.c, posix/src/pthreadjoin.c,
	posix/src/pthreadkill.c, posix/src/pthreadsetschedparam.c,
	posix/src/ptimer1.c, posix/src/semaphorewaitsupp.c,
	posix/src/semclose.c, posix/src/semdestroy.c,
	posix/src/semgetvalue.c, posix/src/sempost.c, posix/src/types.c,
	rtems/src/barrierdelete.c, rtems/src/barrierrelease.c,
	rtems/src/barrierwait.c, rtems/src/dpmemdelete.c,
	rtems/src/dpmemexternal2internal.c,
	rtems/src/dpmeminternal2external.c, rtems/src/eventsend.c,
	rtems/src/eventtimeout.c, rtems/src/msgqbroadcast.c,
	rtems/src/msgqdelete.c, rtems/src/msgqflush.c,
	rtems/src/msgqgetnumberpending.c, rtems/src/msgqreceive.c,
	rtems/src/msgqsend.c, rtems/src/msgqurgent.c, rtems/src/partdelete.c,
	rtems/src/partgetbuffer.c, rtems/src/partreturnbuffer.c,
	rtems/src/ratemoncancel.c, rtems/src/ratemondelete.c,
	rtems/src/ratemongetstatistics.c, rtems/src/ratemongetstatus.c,
	rtems/src/ratemonperiod.c, rtems/src/ratemonresetstatistics.c,
	rtems/src/ratemontimeout.c, rtems/src/regiondelete.c,
	rtems/src/regionextend.c, rtems/src/regiongetfreeinfo.c,
	rtems/src/regiongetinfo.c, rtems/src/regiongetsegment.c,
	rtems/src/regiongetsegmentsize.c, rtems/src/regionresizesegment.c,
	rtems/src/regionreturnsegment.c, rtems/src/semdelete.c,
	rtems/src/semflush.c, rtems/src/semobtain.c, rtems/src/semrelease.c,
	rtems/src/signalsend.c, rtems/src/taskdelete.c,
	rtems/src/taskgetnote.c, rtems/src/taskissuspended.c,
	rtems/src/taskrestart.c, rtems/src/taskresume.c,
	rtems/src/tasksetnote.c, rtems/src/tasksetpriority.c,
	rtems/src/taskstart.c, rtems/src/tasksuspend.c,
	rtems/src/taskvariableadd.c, rtems/src/taskvariabledelete.c,
	rtems/src/taskvariableget.c, rtems/src/timercancel.c,
	rtems/src/timerdelete.c, rtems/src/timerfireafter.c,
	rtems/src/timerfirewhen.c, rtems/src/timergetinfo.c,
	rtems/src/timerreset.c, rtems/src/timerserverfireafter.c,
	rtems/src/timerserverfirewhen.c, sapi/src/extensiondelete.c,
	score/include/rtems/score/object.h, score/src/corerwlocktimeout.c,
	score/src/mpci.c, score/src/objectgetnameasstring.c,
	score/src/threaddelayended.c, score/src/threadqtimeout.c: When
	multiprocessing is disabled, do not even allow the constant
	OBJECTS_REMOTE to appear in the source. Even at -O2, the presence of
	a case OBJECTS_REMOTE in each id->pointer _Objects_Get switch results
	in the generation of binary code which can NOT be reached.

2007-10-26	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/Makefile.am, score/include/rtems/score/thread.h,
	score/inline/rtems/score/thread.inl: No longer inline _Thread_Get. It
	resulted in unnessary code explosion, many uncovered paths when
	looking at binary executable coverage, and only optimized getting
	self. Id translations were still getting pushed to a subroutine call
	to _Objects_Get. Later the non-inlined version can be further
	optimized to get Ids in range for the current API, then self, then
	look at other APIs.
	* score/src/threadget.c: New file.

2007-10-26	Thomas Doerfler <Thomas.Doerfler@embedded-brains.de>

	* libi2c/README-libi2c
	document structure of libi2c library 

2007-10-25	Thomas Doerfler <Thomas.Doerfler@embedded-brains.de>

	* libi2c/libi2c.c, libi2c/libi2c.h:
	extend API to support SPI devices
	made libi2c.h C++-proof

2007-10-19	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libcsupport/src/assoc.c: Removed.  Accidentally included routine
	also in another file.  Mistake after splitting.
	* libcsupport/Makefile.am: Reflect file removal.

2007-10-15	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/netdb.h, libnetworking/libc/gethostnamadr.c,
	libnetworking/libc/getnetnamadr.c: Adjust to POSIX.
	Minor updates from FreeBSD.

2007-10-11	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/include/rtems/score/copyrt.h: Update year.

2007-10-11	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/include/rtems/score/copyrt.h: Update year.

2007-10-11	Daniel Hellstrom <daniel@gaisler.com>

	* libi2c/libi2c.c, libi2c/libi2c.h: Add message about needing IMFS.
	Fixed check of status when registering driver. Add use of strerror().

2007-10-04	Keith Robertson <kjrobert@alumni.uwaterloo.ca>,
	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/ifaddrs.h, libnetworking/libc/getifaddrs.c,
	libnetworking/libc/if_indextoname.c,
	libnetworking/libc/if_nameindex.c: New (from FreeBSD)
	* Makefile.am: Add files above.
	* libnetworking/net/if.h: Add if_nameindex (from FreeBSD).

2007-09-28	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/stackchk/check.c: Eliminate output with little information.
	Always print a blown message using the same routine. Now works with
	GNAT RTS -fstack-checking if you have patch for the RTEMS specific
	support in your GCC version.

2007-09-25	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libcsupport/src/gxx_wrappers.c: Revert.

2007-09-25	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libcsupport/src/gxx_wrappers.c, libmisc/monitor/mon-mpci.c: Use
	PRId32 to fix warning.

2007-09-25	Joel Sherrill <joel.sherrill@oarcorp.com>

	* telnetd/passwd.h: New file.

2007-09-25	Joel Sherrill <joel.sherrill@oarcorp.com>

	* telnetd/README, telnetd/pty.c, telnetd/pty.h, telnetd/telnetd.c,
	telnetd/telnetd.h: telnetd rewrite.
	* telnetd/check_passwd.c, telnetd/des.c, telnetd/genpw.c: New files.

2007-09-24	Joel Sherrill <joel.sherrill@oarcorp.com>

	PR 1262/filesystem
	* libcsupport/Makefile.am, libnetworking/libc/herror.c,
	libnetworking/libc/res_send.c, libnetworking/sys/uio.h,
	telnetd/Makefile.am, telnetd/README, telnetd/preinstall.am,
	telnetd/pty.c, telnetd/telnetd.c: Add support for readv() and
	writev() including documentation and test case.
	* libcsupport/src/readv.c, libcsupport/src/writev.c: New files.

2007-09-21	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libnetworking/Makefile.am: Add dummy socketpair() implementation to
	document what is required to provide a fully functional
	implementation.
	* libnetworking/rtems/rtems_socketpair.c: New file.

2007-09-21	Ralf Corsépius <ralf.corsepius@rtems.org>

	* aclocal/version.m4: Bump RTEMS_API to 4.9.
	Bump RTEMS_VERSION to 4.8.99.0.

2007-09-20	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/src/read.c, libcsupport/src/write.c: Fix spacing.

2007-09-17	Joel Sherrill <joel.sherrill@oarcorp.com>

	* posix/src/semaphorecreatesupp.c: Fixed warning.

2007-09-17	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/dumpbuf/dumpbuf.c: Use printk.

2007-09-16	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/net/ppp_defs.h: Include rtems/stdint.h.
	Use uint32_t for ext_accm.

2007-09-16	Ralf Corsépius <ralf.corsepius@rtems.org>

	* pppd/auth.c, pppd/demand.c, pppd/ipcp.c, pppd/ipcp.h,
	pppd/lcp.c, pppd/lcp.h, pppd/magic.c, pppd/magic.h, pppd/options.c,
	pppd/pppd.h, pppd/sys-rtems.c, pppd/utils.c: Convert to using C99
	fixed-size types instead of BSD fixed-size types.

2007-09-14	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/stackchk/check.c: Fix alignment of output.

2007-09-14	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/monitor/monitor.h: Add network commands that were in the
	network supplement but not in the code.
	* libmisc/monitor/mon-network.c: New file.

2007-09-14	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1261/cpukit
	* posix/src/semaphorecreatesupp.c: Initialize all fields during
	semaphore creation.

2007-09-14	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1260/cpukit
	* posix/src/pthread.c: Get initial signals blocked from creating
	thread not from ourselves.

2007-09-14	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/src/watchdogtickle.c: Remove tabs.

2007-09-13	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1259/rtems
	* rtems/src/taskcreate.c: Initialize is_global in all cases since
	memory is not guaranteed to be zero.

2007-09-12  Sergei Organov  <osv@javad.com>

	PR 1258/rtems
	* cpukit/score/src/heapallocatealigned.c (block_allocate): New routine.
	* cpukit/score/src/heapallocatealigned.c (_Heap_Allocate_aligned):
	Use block_allocate() instead of _Heap_Block_allocate(). Replace
	_Heap_Head(the_heap)->next with equivalent _Heap_First(the_heap).
	* cpukit/score/src/heap.c (_Heap_Allocate): fix comments according
	to changed block split strategy in _Heap_Allocate_aligned().

2007-09-10	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libcsupport/src/printk.c: Remove unnecessary comments.

2007-09-10	Thomas Doerfler <Thomas.Doerfler@embedded-brains.de>

	* libmisc/monitor/mon-monitor.c:
	Corrected linked list of rtems_monitor_commands

2007-09-07	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/src/malloc.c: If RTEMS_HEAP_DEBUG is defined, add heap
	walk on init, malloc, and free. The ability to walk the heap appears
	to disappeared during the rework of the C Program heap to skip the
	Region.

2007-09-07	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/src/heap.c: Style.
	* score/src/heapwalk.c: Add more information to prints.
	* score/src/pheapwalk.c: Do not lock allocator mutex if dispatching
	is disabled.

2007-09-06	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/Makefile.am, libcsupport/src/printk.c:
	* libcsupport/src/printk_plugin.c: New file.
	include/rtems/bspIo.h, libmisc/cpuuse/cpuusagereport.c,
	libmisc/cpuuse/cpuuse.h, libmisc/stackchk/check.c,
	libmisc/stackchk/stackchk.h: rtems/include/rtems/rtems/ratemon.h,
	rtems/src/ratemonreportstatistics.c: Added capability to specify
	your own "printf" routine to various reporting functions.  This
	added an XXX_with_plugin as the underlying implementation for
	  + rtems_rate_monotonic_report_statistics
	  + rtems_stack_checker_report_usage
	  + rtems_cpu_usage_report
	As demonstration, the http netdemo can now print out stack
	and cpu usage reports.

2007-09-06	Joel Sherrill <joel.sherrill@oarcorp.com>

	* shttpd/compat_rtems.c: Style clean up.

2007-09-06	Joel Sherrill <joel.sherrill@oarcorp.com>

	* rtems/src/ratemonperiod.c: Clean up.
	* rtems/src/ratemonreportstatistics.c: Clarify period statistics output.

2007-09-06	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/monitor/mon-monitor.c: Fix warnings and typo.

2007-09-05	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/untar/untar.c, libmisc/untar/untar.h: Clean up prototype.

2007-09-05	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/Makefile.am: Add new files.

2007-09-05	Thomas Doerfler <Thomas.Doerfler@embedded-brains.de>

	* libmisc/monitor/mon-object.c,	
	* libmisc/monitor/monitor.h, libmisc/monitor/mon-part.c, 
	* libmisc/monitor/mon-region.c, libmisc/monitor/mon-sema.c, 
	* libmisc/monitor/mon-task, libmisc/Makefile.am: 
	Added functionality for osmonweb support

2007-09-04	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/monitor/mon-monitor.c, libmisc/monitor/mon-object.c,
	libmisc/monitor/monitor.h: Merge minor parts of Thomas' improvements
	that are needed by osmonweb.

2007-09-04	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/untar/untar.c, libmisc/untar/untar.h: Add const to char *.
	Use printk.

2007-08-28	Joel Sherrill <joel.sherrill@OARcorp.com>

	* rtems/include/rtems/rtems/clock.h, score/src/threadhandler.c: Fix
	spacing and spelling.

2007-08-28	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1256/networking
	* ftpd/ftpd.c: Fix unaligned access.

2007-08-28	Joel Sherrill <joel.sherrill@OARcorp.com>

	* posix/Makefile.am: Always build nanosleep.

2007-08-17	Chris Johns <chrisj@rtems.org>

	* libmisc/capture/README: Minor copyright change.
	* libmisc/capture/capture-cli.c, libmisc/capture/capture.c,
	libmisc/capture/capture.h: Fixed the memory leak when lots of
	tasks are being created and deleted. Improved the trigger
	interface so all task type actions can be caught.

2007-08-13	Chris Johns <chrisj@rtems.org>

	* score/include/rtems/score/object.h: Point the
	OBJECTS_RTEMS_CLASSES_LAST macro to the last entry.

2007-07-31	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1248/networking
	* libnetworking/rtems/rtems_glue.c: Luke Stras <luke@spacequest.com>
	reported that when no interfaces are successfully attached, the
	default route is broken and may result in a jump to an illegal
	address.

2007-07-31	Ralf Corsépius <ralf.corsepius@rtems.org>

	* score/inline/rtems/score/priority.inl: Use size_t instead of
	  uint32_t for array index.

2007-07-30	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/netinet/in_cksum_m68k.h: Use __mcoldfire__ to
	  identify coldfire cpus.

2007-07-30	Ralf Corsépius <ralf.corsepius@rtems.org>

	* shttpd/log.c: Activate SPLIT_SNPRINTF for gcc <= 4.2.1 and
	  coldfire.

2007-07-30	Ralf Corsépius <ralf.corsepius@rtems.org>

	* shttpd/log.c: Add preliminary version of SPLIT_SNPRINTF to
	  work-around bug m68k/coldfire -fomit-frame-pointer bug
	  http://gcc.gnu.org/bugzilla/show_bug.cgi?id=32307.

2007-07-27	Chris Johns <chrisj@rtems.org>

	* wrapup/Makefile.am: Create archive from a file for hosts
	with a limited command line size.

2007-07-26	Ralf Corsépius <ralf.corsepius@rtems.org>

	* include/rtems/bspIo.h, include/rtems/pci.h:
	Add extern "C" guards. Reported by
	Robert S. Grimes <rsg@alum.mit.edu>.

2007-07-24	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/cpuuse/cpuusagereport.c, libmisc/cpuuse/cpuusagereset.c,
	score/src/timespecdivide.c: Fix various math and reporting bugs. Now
	the time appears to be reported correctly and add up to what is
	expected.

2007-07-24	Ralf Corsépius <ralf.corsepius@rtems.org>

	* shttpd/Makefile.am: Prefix all non-public symbols with _shttp_.
	* shttpd/compat_rtems.c: Don't build my_stat for rtems.
	* shttpd/defs.h: Don't build most of my_* wrappers for rtems.

2007-07-18	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/Makefile.am, libmisc/cpuuse/cpuusagereport.c,
	libmisc/cpuuse/cpuusagereset.c: Fix bug where cpu usage calculation
	was always using uptime not time since last cpu usage reset when
	using nanoseconds granularity.
	* libmisc/cpuuse/cpuusagedata.c: New file.

2007-07-13	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/src/mount.c: Allow null for output parameter.

2007-07-12	Joel Sherrill <joel.sherrill@oarcorp.com>

	* shttpd/compat_rtems.c, shttpd/compat_rtems.h: Add port to listen on
	to shttpd initialization.

2007-07-11	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libcsupport/src/malloc.c: Clean up Malloc debug code.
	* score/include/rtems/score/heap.h: Spacing.
	* score/inline/rtems/score/thread.inl:
	* score/src/heapfree.c. Clean up and add explicit check of the address
	being freed actually being in the heap.
	* score/src/heapwalk.c: Switch to printk and do not call abort.

2007-07-06	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/stackchk/check.c: Make checking the integrity of the pattern
	area contingent on the stack checker user extension having been
	initialized.

2007-06-21	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libnetworking/rtems/rtems_syscall.c: Remove RTEMS versions of send()
	and recv(). We already had the BSD versions and these conflict
	sometimes when linking.

2007-06-21	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libnetworking/rtems/mkrootfs.h, libnetworking/rtems/rtems_bsdnet.h,
	libnetworking/rtems/rtems_bsdnet_internal.h: Add extern __cplusplus.

2007-06-20	Joel Sherrill <joel.sherrill@OARcorp.com>

	* sapi/include/confdefs.h: Do not instantiate initialization
	thas/thread pointer tables for an API that is not configured.

2007-06-20	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libcsupport/Makefile.am:
	* libcsupport/src/open_dev_console.c: New file.

2007-06-20	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/src/corerwlock.c: Make sure structure is fully initialized.
	When reused, some fields will not be zero like at initialization.

2007-06-20	Joel Sherrill <joel.sherrill@oarcorp.com>

	* sapi/include/confdefs.h: POSIX threads use twice the minimum stack
	size. Account for this.

2007-06-13	Joel Sherrill <joel.sherrill@OARcorp.com>

	* configure.ac: Add NDEBUG as a command line compilation option.

2007-06-12	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libmd/.cvsignore: New file.

2007-06-12	Ralf Corsépius <ralf.corsepius@rtems.org>

	* shttpd/defs.h: Eliminate my_strncasecmp.
	* shttpd/string.c: Eliminate my_strncasecmp.

2007-06-12	Ralf Corsépius <ralf.corsepius@rtems.org>

	* wrapup/Makefile.am: Pickup ../libmd/libmd.a.
	* pppd/Makefile.am: Reflect moving out md*.
	* pppd/md4.h, pppd/md4.c, pppd/md5.c, pppd/md5.h: Remove (moved to
	  libmd).
	* libmd/Makefile.am, libmd/md4.c, libmd/md4.h, libmd/md5.c, 
	libmd/md5.h, libmd/preinstall.am: New (moved out from pppd).
	* configure.ac, Makefile.am: Add libmd.

2007-06-12	Ralf Corsépius <ralf.corsepius@rtems.org>

	* shttpd/defs.h: Eliminate my_strlcpy.
	* shttpd/string.c: Eliminate my_strlcpy.

2007-06-12	Ralf Corsépius <ralf.corsepius@rtems.org>

	* shttpd/defs.h: Eliminate my_strdup, my_strndup.
	* shttpd/string.c: Eliminate my_strdup, my_strndup.
	* shttpd/Makefile.am: Add -DHAVE_MD5 to use md5 routines from
	  libmd.a.

2007-06-12	Ralf Corsépius <ralf.corsepius@rtems.org>

	* wrapup/Makefile.am: Add libmd.a.

2007-06-11	Ralf Corsépius <ralf.corsepius@rtems.org>

	* pppd/Makefile.am: Remove md5 and md4 from libpppd.a.
	  Add pppd/libmd.a.
	* pppd/md4.c: Don't include pppd.h.

2007-06-11	Ralf Corsépius <ralf.corsepius@rtems.org>

	* shttpd/shttpd.ico, shttpd/resources.rc: Remove (Unused).

2007-06-11	Ralf Corsépius <ralf.corsepius@rtems.org>

	* shttpd/Makefile.am: Conditionally build on LIBNETWORKING.
	* shttpd/compat_rtems.h: Include <arpa/inet.h>.
	Add config.h support.

2007-06-11	Ralf Corsépius <ralf.corsepius@rtems.org>

	* shttpd/compat_rtems.h: Define closesocket.

2007-06-11	Ralf Corsépius <ralf.corsepius@rtems.org>

	* shttpd/compat_rtems.h: Add IS_DIRSEP_CHAR.

2007-06-11	Ralf Corsépius <ralf.corsepius@rtems.org>
	* shttpd/compat_rtems.h, shttpd/compat_rtems.c:
	Use size_t for stack sizes.

2007-06-11	Ralf Corsépius <ralf.corsepius@rtems.org>

	* configure.ac, Makefile.am: Add shttpd.
	* shttpd/Makefile.am: New.
	* shttpd/auth.c, shttpd/cgi.c, shttpd/compat_rtems.c,
	shttpd/compat_rtems.h, shttpd/compat_unix.c, shttpd/compat_unix.h,
	shttpd/compat_win32.c, shttpd/compat_win32.h, shttpd/compat_wince.c,
	shttpd/compat_wince.h, shttpd/config.c, shttpd/defs.h,
	shttpd/io_cgi.c, shttpd/io_dir.c, shttpd/io_emb.c, shttpd/io_file.c,
	shttpd/io.h, shttpd/io_socket.c, shttpd/io_ssl.c, shttpd/llist.h,
	shttpd/log.c, shttpd/Makefile, shttpd/md5.c, shttpd/md5.h,
	shttpd/mime_type.c, shttpd/resources.rc, shttpd/shttpd.1,
	shttpd/shttpd.c, shttpd/shttpd.h, shttpd/shttpd.ico, shttpd/ssl.h,
	shttpd/standalone.c, shttpd/std_includes.h, shttpd/string.c: 
	Import from shttpd-1.37.tar.gz.

2007-06-11	Ralf Corsépius <ralf.corsepius@rtems.org>

	* configure.ac: Remove "pad" from CPU_CONTEXT.

2007-06-05	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/src/coremsg.c: Formatting.

2007-05-29	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/include/rtems/score/copyrt.h: Update copyright notice.

2007-05-29	Joel Sherrill <joel.sherrill@OARcorp.com>

	* sapi/Makefile.am, sapi/include/rtems/io.h, sapi/src/io.c: Split into
	one function per file execpt io.c which contains required
	initialization methods.
	* sapi/src/ioclose.c, sapi/src/iocontrol.c, sapi/src/iodata.c,
	sapi/src/ioinitialize.c, sapi/src/ioopen.c, sapi/src/ioread.c,
	sapi/src/ioregisterdriver.c, sapi/src/iounregisterdriver.c,
	sapi/src/iowrite.c: New files.

2007-05-29	Joel Sherrill <joel.sherrill@OARcorp.com>

	* sapi/include/confdefs.h, sapi/src/io.c: Readded code to copy driver
	table into Workspace but now it is only done if the application needs
	extra slots for dynamic driver registration. Cleaned up
	rtems_io_register_driver and rtems_io_unregister_driver code and
	added numerous error cases to register.

2007-05-28	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libmisc/Makefile.am, libmisc/monitor/mon-object.c,
	libmisc/monitor/monitor.h, sapi/include/confdefs.h,
	sapi/include/rtems/config.h, sapi/include/rtems/io.h,
	sapi/src/exinit.c, sapi/src/io.c: Eliminate maximum_drivers
	configuration parameter since it was used to configure a no longer
	used feature. Device names are now part of the filesystem not in a
	table. This also eliminated the variables _IO_Number_of_devices and
	_IO_Driver_name_table from RTEMS as well as the memory allocation
	used to populate _IO_Driver_name_table.
	* libmisc/monitor/mon-dname.c: Removed.

2007-05-23	Joel Sherrill <joel.sherrill@OARcorp.com>

	* sapi/include/confdefs.h: Add CONFIGURE_MESSAGE_BUFFER_MEMORY so there
	is less dependence on CONFIGURE_MEMORY_OVERHEAD. Do not arbitrarily
	add 1 to CONFIGURE_MEMORY_OVERHEAD so we do not waste a kilobyte for
	unused Workspace. Round the workspace required size to an 8 byte
	boundary instead of a 0x400 byte one. We may end up needing to add 8
	bytes again to account for the alignment rounding.

2007-05-23	Joel Sherrill <joel.sherrill@OARcorp.com>

	Yu Chen <chyyuu@gmail.com>
	* score/src/corespinlockwait.c: Per question posted as
	http://www.rtems.org/ml/rtems-users/2007/may/msg00180.html, changed
	logical operator to <=.

2007-05-22	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/cpu/arm/cpu.c, score/cpu/avr/cpu.c, score/cpu/bfin/cpu.c,
	score/cpu/c4x/cpu.c, score/cpu/h8300/cpu.c, score/cpu/i386/cpu.c,
	score/cpu/m68k/cpu.c, score/cpu/mips/cpu.c, score/cpu/nios2/cpu.c,
	score/cpu/no_cpu/cpu.c, score/cpu/sh/cpu.c, score/cpu/sparc/cpu.c,
	cpukit/sapi/src/exinit.c: Move copying of CPU Table to shared
	executive initialization.

2007-05-22	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/src/corerwlockrelease.c: Do not dereference NULL.

2007-05-21	Joel Sherrill <joel.sherrill@oarcorp.com>

	* rtems/Makefile.am, rtems/include/rtems/rtems/barrier.h,
	rtems/include/rtems/rtems/dpmem.h, rtems/include/rtems/rtems/event.h,
	rtems/include/rtems/rtems/message.h, rtems/include/rtems/rtems/part.h,
	rtems/include/rtems/rtems/ratemon.h, rtems/include/rtems/rtems/region.h,
	rtems/include/rtems/rtems/sem.h, rtems/include/rtems/rtems/tasks.h,
	rtems/include/rtems/rtems/timer.h, sapi/Makefile.am,
	sapi/include/rtems/extension.h: Split Classic API data instantiation
	into individual files. This reduces the size of the BSS section when
	an optional manager stub is used. Some tests showed about a 600 byte
	reduction in BSS size.
	* rtems/src/taskinitusers.c, sapi/src/rtemsapi.c, rtems/src/tasks.c:
	Eliminated the variables _RTEMS_tasks_User_initialization_tasks and
	_RTEMS_tasks_Number_of_initialization_tasks because they were only
	used in one place after initialized. It was a waste of space.
	* rtems/src/barrierdata.c, rtems/src/dpmem.c, rtems/src/dpmemdata.c,
	rtems/src/eventdata.c, rtems/src/msgdata.c, rtems/src/partdata.c,
	rtems/src/ratemondata.c, rtems/src/regiondata.c,
	rtems/src/rtemstimerdata.c, rtems/src/semdata.c, rtems/src/taskdata.c,
	sapi/src/extensiondata.c: New files.

2007-05-21	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/Makefile.am, libmisc/cpuuse/README: Split remaining CPU Usage
	functionality into multiple files to eliminate unnecessary cohesion.
	Update README.
	* libmisc/cpuuse/cpuusagereport.c, libmisc/cpuuse/cpuusagereset.c:
	New files.
	* libmisc/cpuuse/cpuuse.c: Removed.

2007-05-21	Joel Sherrill <joel.sherrill@oarcorp.com>

	* rtems/src/ratemonperiod.c: Fix math ordering bug which resulted in a
	negative value in some circumstances. Also cleaned up to share uptime
	declaration.

2007-05-17	Joel Sherrill <joel.sherrill@oarcorp.com>

	* ChangeLog, configure.ac, libcsupport/src/__times.c,
	libmisc/cpuuse/cpuuse.c, libmisc/stackchk/check.c,
	rtems/include/rtems/rtems/ratemon.h, rtems/src/ratemongetstatus.c,
	rtems/src/ratemonperiod.c, rtems/src/ratemonreportstatistics.c,
	rtems/src/ratemonresetall.c, rtems/src/ratemontimeout.c,
	score/Makefile.am, score/include/rtems/score/thread.h,
	score/include/rtems/score/timespec.h, score/src/threaddispatch.c,
	score/src/threadinitialize.c, score/src/threadtickletimeslice.c,
	score/src/timespecdivide.c: Add nanoseconds granularity to the rate
	monotonic period statistics and CPU usage statistics. This capability
	is enabled by default although may be conditionally disabled by the
	user. It could be too much overhead on small targets but it does not
	appear to be bad in early testing. Its impact on code size has not
	been evaluated either. It is possible that both forms of statistics
	gathering could be disabled with further tweaking of the conditional
	compilation.
	* score/src/timespecdividebyinteger.c: New file.

2007-05-16	Joel Sherrill <joel.sherrill@oarcorp.com>

	* libmisc/cpuuse/cpuuse.c: Use rtems_object_get_name and eliminate
	functionally similar code here. Also cleanup print formats.

2007-05-16	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/src/objectgetnameasstring.c: Internal threads use string names
	so in the current RTEMS source string object name can NOT be
	disabled. It is probably worth considering converting the internal
	threads to uint32_t style names so all the support for string names
	can be conditionally disabled.

2007-05-16	Joel Sherrill <joel.sherrill@oarcorp.com>

	* score/Makefile.am, score/include/rtems/score/timespec.h: Add division
	and greater than operations for timespecs.
	* score/src/timespecdivide.c, score/src/timespecgreaterthan.c:
	New files.

2007-05-16	Ralf Corsépius <ralf.corsepius@rtems.org>

	* score/src/objectgetnameasstring.c: Remove bogus ifdef
	RTEMS_POSIX_API.

2007-05-15	Joel Sherrill <joel.sherrill@oarcorp.com>

	* Makefile.am, preinstall.am, libmisc/Makefile.am, rtems/Makefile.am,
	rtems/include/rtems.h, rtems/include/rtems/rtems/ratemon.h,
	rtems/inline/rtems/rtems/ratemon.inl, rtems/src/ratemoncancel.c,
	rtems/src/ratemoncreate.c, rtems/src/ratemondelete.c,
	rtems/src/ratemongetstatus.c, rtems/src/ratemonident.c,
	rtems/src/ratemonperiod.c, rtems/src/ratemontimeout.c,
	score/Makefile.am, score/include/rtems/score/object.h,
	score/src/threadhandler.c, wrapup/Makefile.am: Integrate Rate
	Monotonic Statistics and Period Usage into Rate Monotonic Manager.
	Added the following directives: rtems_rate_monotonic_get_statistics,
	rtems_rate_monotonic_reset_statistics,
	rtems_rate_monotonic_reset_all_statistics,
	rtems_rate_monotonic_report_statistics, and rtems_object_get_name.
	Obsoleted the rtems/rtmonuse.h file as a public interface.
	* rtems/src/ratemongetstatistics.c,
	rtems/src/ratemonreportstatistics.c, rtems/src/ratemonresetall.c,
	rtems/src/ratemonresetstatistics.c, rtems/src/rtemsobjectgetname.c,
	score/src/objectgetnameasstring.c: New files.
	* libmisc/rtmonuse/rtmonuse.c, libmisc/rtmonuse/rtmonuse.h: Removed.

2007-05-14	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libcsupport/Makefile.am, libcsupport/src/unixlibc.c: Split off dummry
	rtems_io_register_name for use on unix.
	* libcsupport/src/unixlibc_io.c: New file.

2007-05-11	Joel Sherrill <joel.sherrill@OARcorp.com>

	* score/src/coremsgseize.c: A blocking sender's message size was
	pulled out of the wrong field in the Wait information structure.
	* score/src/objectallocate.c: With the new optional manager support,
	we only stub out the initialization. This makes it possible to attempt
	to create an object with the information structure only initialized
	with all zeros.  This ensures we return an error cleanly in this case.

2007-05-11	Joel Sherrill <joel.sherrill@OARcorp.com>

	* rtems/src/region.c, sapi/src/exinit.c: Now that the Region is
	an optional manager, we cannot depend on it do initialize the
	internal Allocator Mutex.  This was always a questionable place to
	do it, so this is a cleanup.

2007-05-11	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libmisc/cpuuse/cpuuse.c, libmisc/stackchk/check.c,
	libmisc/stackchk/stackchk.h: Clean up as side-effect of making them
	suitable for inclusion in the Users Guide.

2007-05-11	Joel Sherrill <joel.sherrill@oarcorp.com>

	* ChangeLog: Move all ChangeLog entries for 2006 and earlier to
	ChangeLog-pre2007.
	* ChangeLog-pre2007: New file.

2007-05-10	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1241/rtems
	* score/src/threadchangepriority.c, score/src/threadqrequeue.c: Close
	critical section window added with requeueing support.

2007-05-10	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libcsupport/include/rtems/cdefs.h,
	  libcsupport/include/sys/cdefs.h: Remove.
	* Makefile.am: Remove libcsupport/include/sys/cdefs.h.
	* libcsupport/Makefile.am: Remove include/rtems/cdefs.h.
	* include/rtems/bsd/sys/queue.h, libcsupport/include/sys/ioccom.h,
	libnetworking/netdb.h, libnetworking/resolv.h,
	libnetworking/arpa/inet.h, libnetworking/arpa/nameser.h,
	libnetworking/libc/gethostbydns.c, libnetworking/libc/res_stubs.c,
	libnetworking/machine/in_cksum.h, libnetworking/net/ethernet.h,
	libnetworking/net/if.h, libnetworking/net/if_dl.h,
	libnetworking/netinet/ip.h, libnetworking/netinet/tcp.h,
	libnetworking/rtems/rtems_bsdnet_internal.h,
	libnetworking/sys/libkern.h, libnetworking/sys/mount.h,
	libnetworking/sys/poll.h, libnetworking/sys/socket.h,
	libnetworking/sys/sysctl.h, libnetworking/sys/syslog.h,
	libnetworking/sys/uio.h, libnetworking/sys/un.h,
	librpc/include/rpc/auth.h, librpc/include/rpc/auth_unix.h,
	librpc/include/rpc/clnt.h, librpc/include/rpc/clnt_soc.h,
	librpc/include/rpc/pmap_clnt.h, librpc/include/rpc/pmap_prot.h,
	librpc/include/rpc/pmap_rmt.h, librpc/include/rpc/svc.h,
	librpc/include/rpc/svc_soc.h, librpc/include/rpc/xdr.h,
	librpc/include/rpcsvc/ypclnt.h, librpc/include/rpc/rpc_com.h:
	Include <rtems/bsd/sys/cdefs.h> instead of <sys/cdefs.h>.

2007-05-10	Ralf Corsépius <ralf.corsepius@rtems.org>

	* Makefile.am: Reflect introduction of
	  include/rtems/bsd/sys/cdefs.h.
	* include/rtems/bsd/sys/cdefs.h: New.

2007-05-10	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/Makefile.am: Reflect having removed sys/queue.h.
	* libnetworking/sys/queue.h: Remove.

2007-05-10	Ralf Corsépius <ralf.corsepius@rtems.org>

	* librpc/src/xdr/xdr_float.c: Include <rtems/endian.h> instead of
	<machine/endian.h>.
	* libnetworking/rtems/rtems_showroute.c, 
	libnetworking/rtems/rtems_showipstat.c,
	libnetworking/rtems/rtems_showtcpstat.c,
	libnetworking/rtems/rtems_showicmpstat.c,
	libnetworking/rtems/rtems_showmbuf.c,
	libnetworking/rtems/rtems_showudpstat.c,
	libnetworking/rtems/rtems_showifstat.c, libnetworking/net/if.c,
	libnetworking/net/raw_cb.c, libnetworking/net/route.c,
	libnetworking/net/rtsock.c, libnetworking/net/raw_usrreq.c,
	libnetworking/netinet/tcp_usrreq.c,
	libnetworking/netinet/tcp_timer.c, libnetworking/netinet/if_ether.c,
	libnetworking/netinet/tcp_debug.c, libnetworking/netinet/ip_fw.c,
	libnetworking/netinet/ip_output.c,
	libnetworking/netinet/ip_mroute.c, libnetworking/netinet/in_proto.c,
	libnetworking/netinet/udp_usrreq.c,
	libnetworking/netinet/tcp_output.c,
	libnetworking/netinet/tcp_subr.c, libnetworking/netinet/tcp_input.c,
	libnetworking/netinet/in_rmx.c, libnetworking/netinet/in_pcb.c,
	libnetworking/netinet/raw_ip.c, libnetworking/netinet/ip_divert.c,
	libnetworking/netinet/in.c, libnetworking/kern/uipc_socket2.c,
	libnetworking/kern/kern_sysctl.c, libnetworking/kern/uipc_socket.c,
	libnetworking/kern/kern_subr.c: Include <rtems/bsd/sys/queue.h>
	instead of <sys/queue.h>.
	* libnetworking/sys/socketvar.h, libnetworking/sys/mount.h,
	libnetworking/sys/sysctl.h, libnetworking/net/raw_cb.h, 
	libnetworking/net/if.h, libnetworking/net/if_media.h,
	libnetworking/net/if_var.h, libnetworking/netinet/in_var.h,
	libnetworking/netinet/in_pcb.h: Include <rtems/bsd/sys/queue.h>
	instead of <sys/queue.h>.
	* Makefile.am: Reflect addition of include/rtems/bsd/sys/queue.h.
	* include/rtems/bsd/sys/queue.h: New (Copied from
	  libnetworking/sys/queue.h).

2007-05-09	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libcsupport/include/rtems/libcsupport.h, libcsupport/src/newlibc.c,
	sapi/Makefile.am, sapi/include/confdefs.h, sapi/src/exinit.c,
	score/Makefile.am, score/preinstall.am,
	score/include/rtems/score/userext.h, score/src/chain.c,
	score/src/userext.c: Switch to newlib reentrancy extension being
	installed in the initial set instead of using rtems_extension_create.
	While implementing this, noticed that user extensions and chain code
	had multiple functions in a single file which is not desirable in the
	SuperCore and API portions of RTEMS, so split these into multiple
	files with one function per file. Also noticed that some of user
	extension code was inlined for no particular reason so moved that to
	C bodies.  Split executive shutdown from initialization since not
	every application shuts down.  Moved __fini call to executive shutdown
	to be more symmetrical with where it is called at startup. 
	* sapi/src/exshutdown.c, score/src/chainappend.c,
	score/src/chainextract.c, score/src/chainget.c,
	score/src/chaininsert.c, score/src/userextaddapiset.c,
	score/src/userextaddset.c, score/src/userextremoveset.c,
	score/src/userextthreadbegin.c, score/src/userextthreadcreate.c,
	score/src/userextthreaddelete.c, score/src/userextthreadrestart.c,
	score/src/userextthreadstart.c, score/src/userextthreadswitch.c: New
	files.
	* score/inline/rtems/score/userext.inl: Removed.

2007-05-09	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libcsupport/src/error.c, sapi/include/rtems/config.h: Do not
	reference _Configuration_MP_table if multiprocessing is disabled.

2007-05-09	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libmisc/monitor/mon-monitor.c, libmisc/monitor/mon-server.c: Do not
	reference _Configuration_MP_table if multiprocessing is disabled.

2007-05-09	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/machine/endian.h: Remove.
	* libnetworking/Makefile.am: Remove machine/endian.h.
	* libnetworking/arpa/nameser_compat.h, libnetworking/netinet/in.h,
	libnetworking/rtems/rtems_bsdnet_internal.h: Include
	<rtems/endian.h> instead of <machine/endian.h>.
	* Makefile.am: Add include/rtems/endian.h.
	* include/rtems/endian.h: New (Copied from
	  libnetworking/machine/endian.h).

2007-05-09	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libcsupport/src/readdir.c, libnetworking/net/slcompress.c,
	pppd/md4.h, pppd/md5.h, pppd/pppd.h,
	score/cpu/m68k/rtems/score/m68k.h: Include <rtems/stdint.h> instead
	of <stdint.h>.
	* libnetworking/machine/endian.h: Remove
	  CPU_HAS_OWN_HOST_TO_NETWORK_ROUTINES.
	* NEWS: new.

2007-05-09	Ralf Corsépius <ralf.corsepius@rtems.org>

	PR 1243
	* pppd/auth.c (set_allowed_addrs): Remove bogus dereference. 

2007-05-08	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/machine/endian.h: Convert htons, htonl, ntohs, ntohl
	to inline functions, using uint[16,32]_t. 
	* libnetworking/netdb.h: Change netent->n_net to uint32_t to comply
	with SUSv3.
	* telnetd/icmds.c: Add HAVE_CONFIG_H magic.
	* rtems/src/regionprocessqueue.c, score/src/heapresizeblock.c
	score/src/threadqrequeue.c, ftpd/ftpd.c, libblock/src/show_bdbuf.c:
	Add HAVE_CONFIG_H magic.
	* libnetworking/libc/gethostbydns.c, 
	libnetworking/libc/inet_net_ntop.c,
	libnetworking/libc/inet_pton.c: Eliminate __P.
	* librpc/src/rpc/rtime.c: Use uint32_t instead of unsigned long for
	return value of ntohl (POSIX requirement). 
	Use UINT32_C macros to avoid overflows on 16bit targets.
	Eliminate __P.
	* configure.ac: Check for working PRIxPTR.

2007-05-08	Ralf Corsépius <ralf.corsepius@rtems.org>

	* score/include/rtems/score/thread.h, score/inline/rtems/score/stack.inl
	score/src/threadinitialize.c, score/src/threadstackallocate.c:
	Use size_t for stack sizes.

2007-05-03	Joel Sherrill <joel@OARcorp.com>

	* ChangeLog, libcsupport/src/malloc.c,
	libcsupport/src/mallocfreespace.c, sapi/include/confdefs.h,
	score/Makefile.am, score/preinstall.am: malloc never blocks so the
	Region Manager is quite heavy for implementing this. This patch
	implements the C Program Heap directly in terms of the new Protected
	Heap handler. This handler is a direct use of a SuperCore Heap in
	conjunction with the Allocator Mutex used internally by RTEMS. This
	saves 3184 bytes on most SPARC test executables.
	* score/include/rtems/score/protectedheap.h, score/src/pheapallocate.c,
	score/src/pheapallocatealigned.c, score/src/pheapextend.c,
	score/src/pheapfree.c, score/src/pheapgetblocksize.c,
	score/src/pheapgetfreeinfo.c, score/src/pheapgetinfo.c,
	score/src/pheapinit.c, score/src/pheapresizeblock.c,
	score/src/pheapwalk.c: New files.

2007-05-03	Joel Sherrill <joel@OARcorp.com>

	* libcsupport/src/rmdir.c: Fixed spacing.
	* libcsupport/Makefile.am, libcsupport/src/newlibc.c: Split _exit from
	newlibc.c. It is not required for minimum executing and drops 624
	from SPARC minimum executable.
	* libcsupport/src/newlibc_exit.c: New file.

2007-04-17	Joel Sherrill <joel@OARcorp.com>

	* itron/Makefile.am, itron/src/eventflags.c, itron/src/fmempool.c,
	itron/src/itronintr.c, itron/src/itrontime.c, itron/src/network.c,
	itron/src/port.c, itron/src/sysmgmt.c, itron/src/task.c,
	itron/src/vmempool.c, posix/Makefile.am, posix/src/pthread.c,
	rtems/src/taskinitusers.c, rtems/src/tasks.c,
	sapi/include/confdefs.h, sapi/src/io.c: Various modification to
	reduce executable size. Most were refactoring of files. Split ITRON
	API files. Implemented mechanism to avoid initialization task/thread
	loop being linked in when that style of task initialization was not
	being used.
	* itron/src/acp_por.c, itron/src/act_cyc.c, itron/src/cal_por.c,
	itron/src/chg_iXX.c, itron/src/clr_flg.c, itron/src/cre_flg.c,
	itron/src/cre_mpf.c, itron/src/cre_mpl.c, itron/src/cre_por.c,
	itron/src/def_alm.c, itron/src/def_cyc.c, itron/src/def_exc.c,
	itron/src/def_int.c, itron/src/def_svc.c, itron/src/del_flg.c,
	itron/src/del_mpf.c, itron/src/del_mpl.c, itron/src/del_por.c,
	itron/src/dis_int.c, itron/src/dly_tsk.c, itron/src/ena_int.c,
	itron/src/fwd_por.c, itron/src/get_blf.c, itron/src/get_blk.c,
	itron/src/get_tim.c, itron/src/get_ver.c, itron/src/itroninittasks.c,
	itron/src/loc_cpu.c, itron/src/nget_nod.c, itron/src/nget_ver.c,
	itron/src/nrea_dat.c, itron/src/nwri_dat.c, itron/src/pacp_por.c,
	itron/src/pcal_por.c, itron/src/pget_blf.c, itron/src/pget_blk.c,
	itron/src/pol_flg.c, itron/src/ref_alm.c, itron/src/ref_cfg.c,
	itron/src/ref_cyc.c, itron/src/ref_flg.c, itron/src/ref_iXX.c,
	itron/src/ref_mpf.c, itron/src/ref_mpl.c, itron/src/ref_por.c,
	itron/src/ref_sys.c, itron/src/rel_blf.c, itron/src/rel_blk.c,
	itron/src/ret_int.c, itron/src/ret_tmr.c, itron/src/ret_wup.c,
	itron/src/rpl_rdv.c, itron/src/set_flg.c, itron/src/set_tim.c,
	itron/src/tacp_por.c, itron/src/tcal_por.c, itron/src/tget_blf.c,
	itron/src/tget_blk.c, itron/src/twai_flg.c, itron/src/unl_cpu.c,
	itron/src/wai_flg.c, posix/src/pthreadinitthreads.c: New files.

2007-04-17	Ralf Corsépius <ralf.corsepius@rtems.org>

	* score/include/rtems/score/thread.h: 
	  Use Context_Control_fp* instead of void* for fp_contexts.

2007-04-16	Joel Sherrill <joel@OARcorp.com>

	PR 1240/filesystem
	* libfs/src/imfs/imfs_rmnod.c: Fix link when removing a symlink. Memory
	for filename was not being freed.

2007-04-16	Ralf Corsépius <ralf.corsepius@rtems.org>

	* pppd/utils.c: Use uintptr_t instead of unsigned long.

2007-04-16	Joel Sherrill <joel@OARcorp.com>

	* itron/src/rsm_tsk.c: Correct error returned.

2007-04-14	Ralf Corsépius <ralf.corsepius@rtems.org>

	* configure.ac: Redefine LIBPOSIX to !UNIX.
	* posix/src/usleep.c, libcsupport/src/readlink.c:
	Update API to SUSv3.

2007-04-13	Ralf Corsépius <ralf.corsepius@rtems.org>

	* posix/Makefile.am: Unconditionally build src/sleep.c,
	  src/usleep.c.
	* posix/src/clockgettime.c: #ifdef CLOCK_MONOTONIC the
	  CLOCK_MONOTONIC case.
	* score/inline/rtems/score/tod.inl: Include <sys/time.h>.

2007-04-13	Ralf Corsépius <ralf.corsepius@rtems.org>

	* posix/Makefile.am: Cosmetics.
	* configure.ac: Add AM_CONDITIONAL(HAS_PTHREADS).
	* httpd/Makefile.am: Use HAS_PTHREADS instead of LIBPOSIX.

2007-04-13	Ralf Corsépius <ralf.corsepius@rtems.org>

	* posix/Makefile.am, wrapup/Makefile.am, configure.ac: Rename
	  AM_CONDITIONAL(HAS_POSIX) into LIBPOSIX.
	* posix/src/clockgettime.c, posix/src/clocksettime.c: Don't include 
	  rtems/posix/time.h.
	* posix/src/nanosleep.c: Include rtems/score/timespec.h instead of
	  rtems/posix/time.h.
	* score/include/rtems/score/object.h: Use size_t for byte sizes.

2007-04-12	Joel Sherrill <joel@OARcorp.com>

	* itron/src/rsm_tsk.c: Correct error returned.

2007-04-09	Thomas Doerfler <Thomas.Doerfler@embedded-brains.de>

	* include/rtems/pci.h: Added device ID for MOTOROLA_HAWK

2007-04-09	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libcsupport/src/newlibc.c: Add __ATTRIBUTE_IMPURE_PTR__ 
	(Fixes "relocation truncated to fit: R_MIPS_GPREL16" against
	_impure_ptr bug).
	Fix abuse of _REENT_INIT().

2007-04-05	Joel Sherrill <joel@OARcorp.com>

	* itron/src/itrontime.c: Fix typo.
	* score/include/rtems/score/tod.h: Add TOD_TICKS_PER_SECOND macro.
	* score/src/iterateoverthreads.c: Safely take NULL as argument.
	* score/src/threaddispatch.c: Formatting.

2007-04-05	Joel Sherrill <joel@OARcorp.com>

	* posix/Makefile.am: Fix formatting.

2007-04-05	Joel Sherrill <joel@OARcorp.com>

	* posix/Makefile.am, posix/include/rtems/posix/time.h,
	posix/src/adjtime.c, posix/src/alarm.c, posix/src/clockgetres.c,
	posix/src/condtimedwait.c, posix/src/mqueuetimedreceive.c,
	posix/src/mqueuetimedsend.c, posix/src/mutextimedlock.c,
	posix/src/nanosleep.c, posix/src/posixtimespecabsolutetimeout.c,
	posix/src/pthread.c, posix/src/pthreadcreate.c,
	posix/src/pthreadsetschedparam.c, posix/src/ptimer1.c,
	posix/src/sched.c, posix/src/semtimedwait.c,
	posix/src/sigtimedwait.c, posix/src/ualarm.c,
	rtems/src/clocktodtoseconds.c, score/Makefile.am,
	score/preinstall.am, score/include/rtems/score/tod.h,
	score/inline/rtems/score/tod.inl, score/src/coretod.c,
	score/src/coretodget.c, score/src/coretodgetuptime.c,
	score/src/coretodset.c, score/src/coretodtickle.c: Provide timespec
	manipulation routines in the SuperCore. Use them everywhere possible.
	This lead to significant cleanup in the API routines and eliminated
	some of the same code from the POSIX API. At this point, the
	SuperCore keeps time in POSIX timespec format properly from 1970. You
	just cannot set it before 1988 in keeping with RTEMS traditional
	behavior.
	* score/include/rtems/score/timespec.h, score/src/timespecaddto.c,
	score/src/timespecfromticks.c, score/src/timespecisvalid.c,
	score/src/timespeclessthan.c, score/src/timespecsubtract.c,
	score/src/timespectoticks.c: New files.
	* posix/src/posixintervaltotimespec.c,
	posix/src/posixtimespecsubtract.c,
	posix/src/posixtimespectointerval.c: Removed.

2007-04-04	Joel Sherrill <joel@OARcorp.com>

	* score/Makefile.am, score/include/rtems/score/tod.h,
	score/inline/rtems/score/tod.inl: Make _TOD_Tickle_ticks a real
	non-inlined routine. It should only be used once so there is little
	advantage to inlining it.
	* score/src/coretodtickle.c: New file.

2007-04-02	Joel Sherrill <joel@OARcorp.com>

	* posix/Makefile.am, score/src/objectgetnoprotection.c: Eliminate some
	dead code.
	* posix/src/time.c: Removed.

2007-04-02	Joel Sherrill <joel@OARcorp.com>

	* posix/include/rtems/posix/timer.h, posix/src/alarm.c,
	posix/src/posixtimespectointerval.c, posix/src/ptimer1.c,
	posix/src/sysconf.c, posix/src/ualarm.c, rtems/src/clockget.c,
	rtems/src/clocktodvalidate.c, score/include/rtems/score/tod.h,
	score/inline/rtems/score/tod.inl, score/src/coretod.c: Eliminate
	TOD_Ticks_per_second variable.

2007-04-02	Joel Sherrill <joel@OARcorp.com>

	* itron/src/itrontime.c, libcsupport/src/__gettod.c,
	posix/include/rtems/posix/time.h, posix/include/rtems/posix/timer.h,
	posix/src/clockgettime.c, posix/src/clocksettime.c,
	posix/src/nanosleep.c, posix/src/posixtimespecsubtract.c,
	posix/src/posixtimespectointerval.c, posix/src/ptimer1.c,
	posix/src/sleep.c, rtems/Makefile.am,
	rtems/include/rtems/rtems/clock.h, rtems/include/rtems/rtems/timer.h,
	rtems/include/rtems/rtems/types.h, rtems/src/clockget.c,
	rtems/src/clockset.c, rtems/src/clocktodtoseconds.c,
	rtems/src/clocktodvalidate.c, rtems/src/taskwakewhen.c,
	score/Makefile.am, score/include/rtems/score/tod.h,
	score/inline/rtems/score/tod.inl, score/src/coretod.c,
	score/src/coretodset.c: Convert from Classic API style TOD_Control as
	fundamental time structure to POSIX struct timespec. Add
	clock_get_uptime().
	* rtems/src/clockgetuptime.c, score/src/coretodget.c,
	score/src/coretodgetuptime.c: New files.
	* score/src/coretodtickle.c, score/src/coretodtoseconds.c,
	score/src/coretodvalidate.c: Removed.

2007-04-02	Joel Sherrill <joel@OARcorp.com>

	* libcsupport/src/printk.c: Add %p support.

2007-04-02	Joel Sherrill <joel@OARcorp.com>

	* libmisc/stackchk/check.c: Add code to check validity of frame pointer
	in addition to the pattern area being overwritten. Also do some
	cleanup.

2007-03-31	Ralf Corsépius <ralf.corsepius@rtems.org>

	* include/rtems/pci.h: Further stdint.h fixed-size types.

2007-03-30	Ralf Corsépius <ralf.corsepius@rtems.org>

	* include/rtems/pci.h: Use stdint.h fixed size-types.

2007-03-30	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/Makefile.am: Move libc/send.c to libc_a_SOURCES.
	* libnetworking/Makefile.am: Move libc/recv.c to libc_a_SOURCES.
	* libnetworking/Makefile.am: Move libc/res_config.h to
	  libc_a_SOURCES (File is being used).
	* libnetworking/libc/iso_addr.c, libnetworking/libc/iso_addr.3:
	Remove (Unused).
	* libnetworking/Makefile.am: Remove libc/iso_addr.c, libc/iso_addr.3.
	* libnetworking/net/ppp-deflate.c, libnetworking/net/bsd-comp.c:
	Remove (Unused).
	* libnetworking/Makefile.am: Remove net/ppp-deflate.c, net/bsd-comp.c.

2007-03-30	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/libc/addr2ascii.c, libnetworking/libc/ascii2addr.c,
	libnetworking/libc/base64.c, libnetworking/libc/ether_addr.c,
	libnetworking/libc/gethostbydns.c, libnetworking/libc/gethostbyht.c,
	libnetworking/libc/gethostbynis.c,
	libnetworking/libc/gethostnamadr.c,
	libnetworking/libc/gethostname.c, libnetworking/libc/getnetbydns.c,
	libnetworking/libc/getnetbyht.c, libnetworking/libc/getnetbynis.c,
	libnetworking/libc/getnetnamadr.c, libnetworking/libc/getproto.c,
	libnetworking/libc/getprotoent.c, libnetworking/libc/getprotoname.c,
	libnetworking/libc/getservbyname.c,
	libnetworking/libc/getservbyport.c, libnetworking/libc/getservent.c,
	libnetworking/libc/herror.c, libnetworking/libc/inet_addr.c,
	libnetworking/libc/inet_lnaof.c, libnetworking/libc/inet_makeaddr.c,
	libnetworking/libc/inet_net_ntop.c,
	libnetworking/libc/inet_net_pton.c, libnetworking/libc/inet_neta.c,
	libnetworking/libc/inet_netof.c, libnetworking/libc/inet_network.c,
	libnetworking/libc/inet_ntoa.c, libnetworking/libc/inet_ntop.c,
	libnetworking/libc/inet_pton.c, libnetworking/libc/iso_addr.c,
	libnetworking/libc/linkaddr.c, libnetworking/libc/map_v4v6.c,
	libnetworking/libc/ns_addr.c, libnetworking/libc/ns_name.c,
	libnetworking/libc/ns_netint.c, libnetworking/libc/ns_ntoa.c,
	libnetworking/libc/ns_parse.c, libnetworking/libc/ns_print.c,
	libnetworking/libc/ns_ttl.c, libnetworking/libc/nsap_addr.c,
	libnetworking/libc/rcmd.c, libnetworking/libc/recv.c,
	libnetworking/libc/res_comp.c, libnetworking/libc/res_data.c,
	libnetworking/libc/res_debug.c, libnetworking/libc/res_init.c,
	libnetworking/libc/res_mkquery.c, libnetworking/libc/res_mkupdate.c,
	libnetworking/libc/res_query.c, libnetworking/libc/res_send.c,
	libnetworking/libc/res_stubs.c, libnetworking/libc/res_update.c,
	libnetworking/libc/send.c, libnetworking/libc/strsep.c: Eliminate
	SCCS, LINT. Add HAVE_CONFIG_H.
	* libcsupport/src/__assert.c: Add HAVE_CONFIG_H.

2007-03-29	Ralf Corsépius <ralf.corsepius@rtems.org>

	* rtems/include/rtems/rtems/tasks.h: Change rtems_task_argument to
	  uintptr_t.

2007-03-29	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/netinet/ip_icmp.c, libnetworking/netinet/ip_input.c,
	libnetworking/netinet/ip_output.c: Further _IP_VHL removal preps.

2007-03-29	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/netinet/ip.h: Add FreeBSD's alignment macros.
	* libnetworking/net/netisr.h: Partial update from FreeBSD.
	* libcsupport/src/getpwent.c: Remove bogus cast to long.
	* libnetworking/libc/strsep.c: Don't build if provided by libc.
	* libnetworking/libc/rcmd.c: Eliminate __P(). Cosmetics.
	* libnetworking/sys/select.h: Remove selrecord, selwakeup (Unused).
	* libnetworking/netinet/ip_output.c: Preps to eliminate _IP_VHL
	(Abandoned in FreeBSD). Misc mergers from upstream FreeBSD.
	* libnetworking/netinet/ip_input.c: Preps to eliminate _IP_VHL
	(Abandoned in FreeBSD). Misc mergers from upstream FreeBSD.
	* libnetworking/netinet/ip_icmp.c: Preps to eliminate _IP_VHL
	(Abandoned in FreeBSD).
	* libnetworking/netinet/tcp_subr.c: Preps to eliminate _IP_VHL
	(Abandoned in FreeBSD).
	* libnetworking/netinet/raw_ip.c: Preps to eliminate _IP_VHL
	(Abandoned in FreeBSD).
	* libnetworking/netinet/ip_output.c: Partial update from FreeBSD.
	* libnetworking/netinet/ip_fw.c: Eliminate __P().

2007-03-28	Chris Johns <chrisj@rtems.org>

	* rtems/Makefile.am, rtems/include/rtems/rtems/clock.h,
	score/include/rtems/score/watchdog.h: Add support for a handler to
	obtain the number of nanoseconds since the last clock tick. The
	primary interface for this is rtems_clock_set_nanoseconds_extension.
	Subsequent commits from Joel will redo the TOD support to use this
	capability.
	* rtems/src/clocksetnsecshandler.c: New file.

2007-03-28	Joel Sherrill <joel@OARcorp.com>

	PR 1234/cpukit
	* libcsupport/Makefile.am: Provide printk() based implementation of
	__assert() to reduce dependencies in executables.
	* libcsupport/src/__assert.c: New file.

2007-03-28	Ralf Corsépius <ralf.corsepius@rtems.org>

	* librpc/src/rpc/clnt_tcp.c (clnttcp_create): 
	Use uintptr_t for "disrupt". Remove bogus (long) cast.
	* libnetworking/net/ppp-comp.h: Remove (Unused).
	* libnetworking/Makefile.am: Remove net/ppp-comp.h.
	* libnetworking/sys/buf.h: Remove (Unused).
	* libnetworking/Makefile.am: Remove sys/buf.h.
	* libnetworking/kern/kern_sysctl.c,
	libnetworking/kern/uipc_socket2.c: Include <sys/queue.h> instead of
	<sys/buf.h>.
	*  libcsupport/include/sys/sockio.h: Partial update from
	  FreeBSD.

2007-03-28	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/netinet/ip_output.c: Use uint32_t optlen.
	* libnetworking/netinet/igmp.c: Eliminate __P().
	* libnetworking/netinet/in.c: Eliminate __P().
	* libnetworking/netinet/tcp_subr.c: Eliminate __P().
	* libnetworking/netinet/in_pcb.c: Eliminate __P().
	* libnetworking/netinet/ip_output.c: Eliminate __P().

2007-03-28	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/sys/protosw.h (pr_usrreqs.pru_attach, 
	pr_usrreqs.pru_control, pr_usrreqs.pru_rcvd, pr_usrreqs.pru_rcvoob):
	Change int args to intptr_t because they are casted to pointers.
	* libnetworking/netinet/tcp_usrreq.c, 
	libnetworking/kern/uipc_socket2.c: Reflect changes to sys/protosw.h.

2007-03-28	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/rtems/rtems_glue.c: Cast to intptr_t instead of
	"long", because long is not guaranteed to be castable to char*.
	* libnetworking/netinet/ip_input.c: Eliminate __P().
	Change "int next" to "int32_t next" for 16bit targets.
	* libnetworking/netinet/tcp_input.c: Eliminate __P().
	* libnetworking/netinet/in_rmx.c: Eliminate __P().
	* libnetworking/netinet/tcp_usrreq.c: Eliminate __P().
	* libnetworking/netinet/udp_usrreq.c: Eliminate __P().
	* libnetworking/nfs/bootp_subr.c: Eliminate __P().
	* libnetworking/rtems/rtems_bsdnet_internal.h: Eliminate __P().
	* libnetworking/kern/uipc_domain.c: Eliminate __P().

2007-03-28	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/net/pppcompress.h, libnetworking/net/pppcompress.c:
	Remove (Abandoned in FreeBSD).
	* libnetworking/Makefile.am: Remove net/pppcompress.c,
	net/pppcompress.h.
	* libnetworking/net/if_ppp.c: Use net/slcompress.h instead of
	net/pppcompress.h.
	* libnetworking/net/slcompress.h: Cosmetics from FreeBSD.
	* libnetworking/net/ppp_tty.c: Use net/slcompress.h instead of
	net/pppcompress.h.

2007-03-28	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/net/pppcompress.h: Eliminate __P().
	* libnetworking/net/if_pppvar.h: Cosmetics from FreeBSD.
	* libnetworking/net/if_llc.h: Update from FreeBSD.

2007-03-27	Ralf Corsépius <ralf.corsepius@rtems.org>

	* pppd/ccp.c, pppd/options.c: Include <net/ppp_comp.h> instead of
	  <net/ppp-comp.h>.
	* libnetworking/net/ppp-comp.h: Include <net/ppp_comp.h>.
	Warn about using it.
	* libnetworking/Makefile.am: Add net/ppp_comp.h.
	* libnetworking/net/ppp_comp.h: New (copy of ppp-comp.h).
	* libnetworking/net/ppp-comp.h: Eliminate __P(). Cosmetics from
	  FreeBSD.
	* libnetworking/machine/in_cksum.h: Eliminate __P().
	* pppd/auth.c, pppd/cbcp.c, pppd/ccp.c, pppd/chap.c,
	pppd/chap_ms.c, pppd/chat.c, pppd/demand.c, pppd/fsm.c,
	pppd/ipcp.c, pppd/lcp.c, pppd/options.c, pppd/rtemsmain.c,
	pppd/sys-rtems.c, pppd/upap.c, pppd/utils.c:
	Eliminate __P().
	* libcsupport/src/scandir.c: Eliminate __P().
	* pppd/chap.h, pppd/chap_ms.h, pppd/fsm.h, pppd/ipcp.h,
	pppd/lcp.h, pppd/magic.h, pppd/md4.h, pppd/pppd.h, pppd/upap.h:
	Eliminate __P().
	* libnetworking/netinet/ip_mroute.c: Eliminate __P().
	* libnetworking/netinet/ip_mroute.h: Partial update from FreeBSD.
	* libnetworking/net/raw_cb.c: Sync with FreeBSD.

2007-03-26	Joel Sherrill <joel@OARcorp.com>

	PR 1231/cpukit
	* posix/src/adasupp.c, posix/src/clockgetcpuclockid.c,
	posix/src/clockgetenableattr.c, posix/src/clockgetres.c,
	posix/src/clockgettime.c, posix/src/clocksetenableattr.c,
	posix/src/mutex.c, posix/src/mutexattrdestroy.c,
	posix/src/mutexattrgetprioceiling.c,
	posix/src/mutexattrgetprotocol.c, posix/src/mutexattrgetpshared.c,
	posix/src/mutexattrinit.c, posix/src/mutexattrsetprioceiling.c,
	posix/src/mutexattrsetprotocol.c, posix/src/mutexattrsetpshared.c,
	posix/src/mutexdefaultattributes.c, posix/src/mutexdestroy.c,
	posix/src/mutexgetprioceiling.c, posix/src/mutexlock.c,
	posix/src/mutexlocksupp.c, posix/src/mutexmp.c,
	posix/src/mutexsetprioceiling.c, posix/src/mutextimedlock.c,
	posix/src/mutextrylock.c, posix/src/mutexunlock.c,
	posix/src/nanosleep.c, posix/src/posixintervaltotimespec.c,
	posix/src/posixtimespecsubtract.c,
	posix/src/posixtimespectointerval.c,
	posix/src/psignalclearprocesssignals.c,
	posix/src/psignalclearsignals.c,
	posix/src/psignalsetprocesssignals.c,
	posix/src/psignalunblockthread.c, posix/src/ptimer.c,
	posix/src/ptimer1.c, posix/src/sched.c, posix/src/time.c: Remove
	unneeded includes of assert.h

2007-03-26	Joel Sherrill <joel@OARcorp.com>

	* libcsupport/include/rtems/assoc.h: Pick up the include file
	changes associated with the file splitting.

2007-03-26	Joel Sherrill <joel@OARcorp.com>

	* libcsupport/Makefile.am: Pick up the Makefile changes associated
	with the file splitting.

2007-03-26	Joel Sherrill <joel@OARcorp.com>

	* libcsupport/src/assoc.c, libcsupport/src/libio.c, 
	libcsupport/src/write.c: Split files to shrink minimum.exe. Hopefully
	this will not be deemed necessary to commit to the 4.7 branch.
	* libcsupport/src/assoclocalbyname.c,
	libcsupport/src/assoclocalbyremote.c,
	libcsupport/src/assoclocalbyremotebitfield.c,
	libcsupport/src/assocnamebylocal.c,
	libcsupport/src/assocnamebylocalbitfield.c,
	libcsupport/src/assocnamebyremote.c,
	libcsupport/src/assocnamebyremotebitfield.c,
	libcsupport/src/assocptrbylocal.c, libcsupport/src/assocptrbyname.c,
	libcsupport/src/assocptrbyremote.c,
	libcsupport/src/assocremotebylocal.c,
	libcsupport/src/assocremotebylocalbitfield.c,
	libcsupport/src/assocremotebyname.c, libcsupport/src/libio_init.c,
	libcsupport/src/write_r.c: New files.

2007-03-26	Joel Sherrill <joel@OARcorp.com>

	* libcsupport/src/__gettod.c: Replace incorrect comment about timezone
	support and remove deadcode. Replace with comment explaining that
	behavior is compatible with GNU/Linux per Eric Norum.

2007-03-26	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/net/ppp_defs.h, libnetworking/net/if_ppp.h:
	Partial update from FreeBSD.
	* libnetworking/netinet/if_ether.h: Eliminate __P().
	* libnetworking/netinet/ip_var.h: Eliminate __P().
	* libnetworking/netinet/in.h: Eliminate __P().
	* libnetworking/netinet/tcp_var.h: Eliminate __P().

2007-03-25	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/netinet/udp_var.h: Cosmetics from FreeBSD.
	Remove __P();
	* libnetworking/netinet/in_pcb.h: More partial updates from FreeBSD.

2007-03-25	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/netinet/in_var.h: Remove __P().
	* libnetworking/netinet/in_systm.h: Remove __P().
	* libnetworking/netinet/in_pcb.h: Partial updates from FreeBSD.
	* libnetworking/sys/socketvar.h: Cosmetics from FreeBSD.
	* libnetworking/netinet/if_ether.c: Remove __P().
	* libnetworking/net/raw_cb.h, libnetworking/net/raw_usrreq.c:
	More updates from FreeBSD.
	* libnetworking/net/raw_cb.h, libnetworking/net/raw_usrreq.c,
	libnetworking/net/route.h: Partial update from FreeBSD.

2007-03-24	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/Makefile.am: Remove nfs/krpc.h.
	* libnetworking/nfs/krpc.h: Remove (Unused).
	* libnetworking/kern/kern_subr.c: Remove #ifdef'ed vax code.
	* libnetworking/Makefile.am: Remove nfs/nfs.h.
	* libnetworking/nfs/nfs.h: Remove (Unused).

2007-03-19	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/sys/buf.h: Remove unused/non-implemented bsd kernel
	  symbols.
	* libnetworking/sys/conf.h: Don't include machine/conf.h.
	Update copyright notice.
	Remove unused/non-implemented declarations.
	* libnetworking/Makefile.am: Remove machine/conf.h.
	* libnetworking/machine/conf.h: Remove.

2007-03-19	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/sys/systm.h: Update copyright notice from FreeBSD.
	Remove many non-supported/unused declarations.

2007-03-18	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/sys/ucred.h: Remove crcopy, crdup, crfree, crget,
	  crhold (Unused/non-implemented).

2007-03-18	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/sys/ucred.h: Remove __P().
	* libnetworking/sys/callout.h: Remove __P().
	* libnetworking/sys/domain.h: Remove __P().
	* libnetworking/sys/socketvar.h: Remove __P().
	* libnetworking/sys/socket.h: Remove __P().
	* libnetworking/sys/select.h: Remove __P().
	* libnetworking/sys/kernel.h: Remove __P().
	* libnetworking/sys/protosw.h: Remove __P().
	* libnetworking/sys/conf.h: Remove bdevsw, cdevsw, swdevt (Unused).
	* libnetworking/sys/systm.h: Remove nblkdev, nchrdev,
	swdevt, nswdev, nswap (Unused).

2007-03-18	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/sys/conf.h: Remove non-implemented/unused symbols.
	* libnetworking/net/ppp_tty.c: Use struct rtems_termios_linesw
	instead of struct linesw (PR 1229)
	* libnetworking/sys/systm.h: Comment out copyin/copyout to work
	around clash with defines from rtems_bsdnet_internal.h.
	* score/src/heapwalk.c: include stdlib.h.

2007-03-17	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/sys/buf.h, libnetworking/sys/conf.h:
	Remove __P().
	* libnetworking/net/if.h, libnetworking/net/if_ppp.h,
	libnetworking/sys/signalvar.h, libnetworking/sys/systm.h:
	Remove __P().
	* libcsupport/include/rtems/termiostypes.h,
	libcsupport/src/termios.c: Prefix linesw, struct linesw, nwlinesw
	with rtems_termios_*.
	* libnetworking/sys/conf.h: Remove linesw, struct linesw, nlinesw.
	(Clash with termiostypes.h - PR 1229).

2007-03-16	Ralf Corsépius <ralf.corsepius@rtems.org>

	* score/include/rtems/score/wkspace.h,
	score/inline/rtems/score/wkspace.inl, score/src/wkspace.c:
	Change _Workspace_Handler_initialization and 
	_Workspace_Allocate_or_fatal_error to using size_t.
	* libnetworking/sys/rtprio.h: Remove (Unused).
	* libnetworking/Makefile.am: Remove sys/rtprio.h.

2007-03-14	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/sys/mbuf.h, libnetworking/sys/rtprio.h:
	Remove __P().

2007-03-13	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libcsupport/src/assocnamebad.c: Remove dead code. Use PRI* macros
	  to fix warnings.
	* score/include/rtems/score/stack.h: Use size_t for stack sizes.
	* score/include/rtems/score/chain.h, score/src/chain.c:
	Change _Chain_Initialize to using size_t.

2007-03-12	Joel Sherrill <joel@OARcorp.com>

	* libmisc/dumpbuf/dumpbuf.c, libmisc/dumpbuf/dumpbuf.h: Rename
	Dump_Buffer to rtems_print_buffer.

2007-03-12	Joel Sherrill <joel@OARcorp.com>

	* score/src/heapallocatealigned.c, score/src/threadqrequeue.c: Correct
	license URL and/or fix mistake in copyright notice. Both of these
	mistakes appear to be from code submitted after these changes were
	made previously.

2007-03-10	Joel Sherrill <joel@OARcorp.com>

	PR 1226/cpukit
	* sapi/include/confdefs.h: CONFIGURE_HAS_OWN_MULTIPROCESSING_TABLE not
	CONFIGURE_HAS_OWN_MULTIPROCESING_TABLE.

2007-03-08	Joel Sherrill <joel@OARcorp.com>

	* libfs/src/imfs/imfs.h: Fix comment.

2007-03-08	Joel Sherrill <joel@OARcorp.com>

	* libfs/src/imfs/imfs.h: Fix comment.

2007-03-08	Joel Sherrill <joel@OARcorp.com>

	* libmisc/stackchk/check.c, libmisc/stackchk/internal.h,
	libmisc/stackchk/stackchk.h: Change dump usage to report usage.

2007-03-08	Joel Sherrill <joel@OARcorp.com>

	* rtems/Makefile.am, rtems/src/msgqsend.c, rtems/src/msgqurgent.c:
	Remove wrapper for message queue send and urgent and implement them
	directly. There was an unnecessary function call layer in addition to
	conditions in the shared routine. Directly coding both directives is
	simpler and should result in smaller code.
	* rtems/src/msgqsubmit.c: Removed.

2007-03-05	Joel Sherrill <joel@OARcorp.com>

	PR 1222/cpukit
	* score/Makefile.am, score/include/rtems/score/coremutex.h,
	score/include/rtems/score/threadq.h,
	score/inline/rtems/score/coremutex.inl, score/src/coremsgsubmit.c,
	score/src/coremutexsurrender.c, score/src/threadchangepriority.c,
	score/src/threadclearstate.c, score/src/threadhandler.c,
	score/src/threadinitialize.c, score/src/threadqdequeuefifo.c,
	score/src/threadqdequeuepriority.c, score/src/threadqenqueue.c,
	score/src/threadqenqueuefifo.c, score/src/threadqenqueuepriority.c,
	score/src/threadqextractfifo.c, score/src/threadqextractpriority.c,
	score/src/threadsetstate.c: Enhance so that when the prioirity of a
	thread that is blocked on a priority based thread queue is changed,
	that its placement in the queue is reevaluated based upon the new
	priority. This enhancement includes modifications to the SuperCore as
	well as new test cases.
	* score/src/threadqrequeue.c: New file.

2007-03-05	Joel Sherrill <joel@OARcorp.com>

	* sapi/src/exinit.c: Fix spacing.

2007-03-05	Joel Sherrill <joel@OARcorp.com>

	PR 1221/cpukit
	* posix/src/pthreadequal.c: Fix critical section nesting.

2007-02-22	Ralf Corsepius <ralf.corsepius@rtems.org>

	* libcsupport/Makefile.am: Move getpagesize.c to newlib-only
	  compiled files.

2007-02-21	Ralf Corsepius <ralf.corsepius@rtems.org>

	* wrapup/Makefile.am: Use MKDIR_P instead of mkdir_p.

2007-02-16	Ralf Corsepius <ralf.corsepius@rtems.org>

	* score/Makefile.am: Remove macros/README.

2007-02-11	Ralf Corsepius <ralf.corsepius@rtems.org>

	* score/include/rtems/score/heap.h, score/src/heap.c,
	score/src/heapallocatealigned.c, score/src/heapresizeblock.c:
	More size_t for heap-sizes.
	* score/include/rtems/score/heap.h, score/src/heap.c,
	score/src/heapallocate.c, score/src/heapextend.c: Use size_t for
	heap-sizes.
	* libnetworking/resolv.h: Typo fixes. Remove __P().

2007-02-09	Ralf Corsepius <ralf.corsepius@rtems.org>

	* rtems/include/rtems/rtems/tasks.h, rtems/src/taskcreate.c:
	Use size_t for stack-sizes.

2007-02-07	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/vm/vm_extern.h: Remove non-implemented/unused
	  functions.
	* configure.ac: Check for intmax_t, uintptr_t, intptr_t,
	pthread.h, pthread_rwlock_t, pthread_barrier_t, pthread_spinlock_t.

2007-02-06	Till Straumann <strauman@slac.stanford.edu>

	* libcsupport/src/gxx_wrappers.c: fix PR#690. Supply
	taskvar dtor to plug memory leak. Applied patch attached
	to PR#690.

2007-02-06	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libcsupport/src/getpagesize.c: New (moved from posix/src).
	* posix/src/getpagesize.c: Removed.
	* posix/Makefile.am: Remove references to getpagesize.c.
	* libcsupport/Makefile.am: Add getpagesize.c.

2007-02-06	Ralf Corsépius <ralf.corsepius@rtems.org>

	* posix/src/sysconf.c: Add support for _SC_PAGESIZE (PR 1215).
	* posix/src/mqueuesendsupp.c: Remove cast to make broken const cast
	  visible.
	* score/inline/rtems/score/coremsg.inl: More size_t and consts.

2007-02-06	Ralf Corsépius <ralf.corsepius@rtems.org>

	* rtems/src/msgqsend.c: Use size_t for sizes.
	* rtems/src/msgqurgent.c: Use size_t for sizes.
	* rtems/src/msgqbroadcast.c: Use size_t for sizes.
	* rtems/src/msgmp.c: Use size_t for sizes.
	* rtems/src/msgqsubmit.c: Use size_t for sizes.
	* rtems/include/rtems/rtems/msgmp.h: Use size_t for sizes.
	* rtems/include/rtems/rtems/message.h: Use size_t for sizes.
	* score/inline/rtems/score/coremsg.inl: Use size_t for sizes.

2007-02-06	Ralf Corsépius <ralf.corsepius@rtems.org>

	* itron/src/trcv_mbf.c: Use size_t for sizes.
	* libmisc/monitor/mon-object.c: Use size_t for sizes.
	* libmisc/monitor/mon-server.c: Use size_t for sizes.
	* libmisc/monitor/monitor.h: Use size_t for sizes.
	* libmisc/mw-fb/mw_uid.c: Use size_t for sizes.
	* rtems/include/rtems/rtems/message.h: Use size_t for sizes.
	* rtems/src/msgqreceive.c: Use size_t for sizes.
	* posix/src/mqueuerecvsupp.c: Use size_t for sizes.
	* score/src/coremsgseize.c: Use size_t for sizes.

2007-02-05	Ralf Corsépius <ralf.corsepius@rtems.org>

	* posix/include/rtems/posix/mqueue.h: Use size_t for sizes.
	* posix/src/mqueuesendsupp.c: Use size_t for sizes.
	* score/include/rtems/score/coremsg.h: Use size_t for sizes.
	* score/src/coremsgbroadcast.c: Use size_t for sizes.
	* score/src/coremsgsubmit.c: Use size_t for sizes.

2007-01-30	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libblock/src/show_bdbuf.c: Use inttypes.h macros.

2007-01-29	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libmisc/mw-fb/mw_fb.h: Eliminate __u32, __u16.

2007-01-28	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libnetworking/libc/gethostbyht.c: Remove warning on unused vars.
	Remove isblank (supposed to be provided by libc).

2007-01-27	Ralf Corsépius <ralf.corsepius@rtems.org>

	* libblock/src/show_bdbuf.c: Convert from DOS to UNIX.

2007-01-27	Ralf Corsépius <ralf.corsepius@rtems.org>

	* score/include/rtems/system.h: Remove __RTEMS_MAJOR__,
	 __RTEMS_MINOR__, __RTEMS_REVISION__ (moved to cpuopt.h).
	* configure.ac: Dynamically derive __ __RTEMS_MAJOR__,
	__RTEMS_MINOR__, __RTEMS_REVISION__ from _RTEMS_VERSION.
	Add __RTEMS_MAJOR__, __RTEMS_MINOR__,__RTEMS_REVISION__ to cpuopt.h.

2007-01-26	Ralf Corsépius <ralf.corsepius@rtems.org>

	* score/include/rtems/system.h:
	#define __RTEMS_MINOR__ 7 (BZ 1206).

2007-01-20      Thomas Doerfler <Thomas.Doerfler@embedded-brains.de>

	* libblock/src/bdbuf.c, libblock/include/bdbuf.h: 
	export some internal variables to make them available in
	"show_bdbuf" monitor add-on

2007-01-16	Till Straumann <strauman@slac.stanford.edu>

	* libnetworking/rtems/rtems_mii_ioctl.c,
	libnetworking/rtems/rtems_mii_ioctl.h,
	libnetworking/rtems/rtems_mii_ioctl_kern.c,
	libi2c/libi2c.c, libi2c/libi2c.h:
	Added SLAC/Stanford Authorship Note / Copyright + Liability Disclaimer.

2007-01-09	Joel Sherrill <joel@OARcorp.com>

	* libcsupport/src/error.c: rtems_progname is no longer defined in
	the BSP startup since it never held a meaningful value.

2007-01-02	Ralf Corsépius <ralf.corsepius@rtems.org>

	* posix/include/aio.h: s/aoi_lio_opcode/aio_lio_opcode/ 
	(BZ 1203).
